<!DOCTYPE html>
<!-- saved from url=(0070)https://juejin.cn/book/7086408430491172901/section/7100488803369877543 -->
<html lang="zh"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>TypeScript 全面进阶指南 - 林不渡 - 掘金小册</title><meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover"><meta data-n-head="ssr" name="apple-itunes-app" content="app-id=987739104"><meta data-n-head="ssr" name="theme-color" content="#ffffff"><meta data-n-head="ssr" name="msapplication-TileColor" content="#da532c"><link data-n-head="ssr" rel="preconnect" href="https://lf3-cdn-tos.bytescm.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://mcs.snssdk.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://i.snssdk.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf3-cdn-tos.bytescm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://api.juejin.cn/"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf-cdn-tos.bytescm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://unpkg.byted-static.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p1-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p3-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p6-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p9-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p1-jj.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://mcs.snssdk.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://i.snssdk.com/"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/apple-touch-icon.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="16x16" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-16x16.png"><link data-n-head="ssr" rel="mask-icon" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/safari-pinned-tab.svg" color="#1E80FF"><link data-n-head="ssr" rel="manifest" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/site.webmanifest"><link data-n-head="ssr" rel="search" title="掘金" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/search.xml" type="application/opensearchdescription+xml"><link data-n-head="ssr" rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/ionicons.min.css"><link data-n-head="ssr" rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/index.css"><link data-n-head="ssr" rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/iconfont.css"><link data-n-head="ssr" rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/bytedesign.min.css"><script async="" src="./17内置工具类型进阶：类型编程进阶_files/analytics.js.download"></script><script data-n-head="ssr" type="text/javascript" src="./17内置工具类型进阶：类型编程进阶_files/acrawler.js.download"></script><script data-n-head="ssr" vmid="slardar" type="text/javascript" crossorigin="anonymous">;(function (w, d, u, b, n, pc, ga, ae, po, s, p, e, t, pp) {pc = 'precollect';ga = 'getAttribute';ae = 'addEventListener';po = 'PerformanceObserver';s = function (m) {p = [].slice.call(arguments);p.push(Date.now(), location.href);(m == pc ? s.p.a : s.q).push(p)};s.q = [];s.p = { a: [] };w[n] = s;e = document.createElement('script');e.src = u + '?bid=' + b + '&globalName=' + n;e.crossOrigin = u.indexOf('sdk-web') > 0 ? 'anonymous' : 'use-credentials';d.getElementsByTagName('head')[0].appendChild(e);if (ae in w) {s.pcErr = function (e) {e = e || w.event;t = e.target || e.srcElement;if (t instanceof Element || t instanceof HTMLElement) {if (t[ga]('integrity')) {w[n](pc, 'sri', t[ga]('href') || t[ga]('src'))} else {w[n](pc, 'st', { tagName: t.tagName, url: t[ga]('href') || t[ga]('src') })}} else {w[n](pc, 'err', e.error || e.message)}};s.pcRej = function (e) {e = e || w.event;w[n](pc, 'err', e.reason || (e.detail && e.detail.reason))};w[ae]('error', s.pcErr, true);w[ae]('unhandledrejection', s.pcRej, true);};if('PerformanceLongTaskTiming' in w) {pp = s.pp = { entries: [] };pp.observer = new PerformanceObserver(function (l) {pp.entries = pp.entries.concat(l.getEntries())});pp.observer.observe({ entryTypes: ['longtask', 'largest-contentful-paint','layout-shift'] })}})(window,document,'https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/browser.cn.js','2608','SlardarWeb')</script><script src="./17内置工具类型进阶：类型编程进阶_files/browser.cn.js.download" crossorigin="anonymous"></script><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/79bfdb8.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/584863e.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/cb6f7b9.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/app.a319910.css" as="style"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/67b2a2c.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/default.e99f101.css" as="style"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/b99f4a9.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/68.9903b36.css" as="style"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/9f0e41e.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/206.3d69a3b.css" as="style"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/902f2b7.js.download" as="script"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/196.e1b9b5f.css" as="style"><link rel="preload" href="./17内置工具类型进阶：类型编程进阶_files/8892b08.js.download" as="script"><link rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/app.a319910.css"><link rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/default.e99f101.css"><link rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/68.9903b36.css"><link rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/206.3d69a3b.css"><link rel="stylesheet" href="./17内置工具类型进阶：类型编程进阶_files/196.e1b9b5f.css">
  <script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/e13775f.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/2.01a6f73.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/cd3beb3.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/6.98d497d.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/8d2d4ca.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/9.7f44097.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/55f2493.js.download"></script><style type="text/css">.DraggableTags {
  position: relative;
  height: 100%;
  touch-action: none;
}
.DraggableTags::after {
  content: '';
  display: block;
  clear: both;
}
.DraggableTags-tag {
  display: inline-block;
  position: relative;
  color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.DraggableTags-undraggable {
  cursor: no-drop;
}
.DraggableTags-tag-drag {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1;
}
.hotspot-9485743 {
  cursor: move;
}
.excludedInHotspot-9485743 {
  cursor: default;
}
</style><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/136.6a4a58a.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/ce0d14b.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/180.273fb5b.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/01f538e.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/190.2a5a904.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/9d09dfa.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/22.4893fa3.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/d6233bb.js.download"></script><style id="bv-wavy-color-style">.memorize_new_word{text-decoration-color: #ff906e;}</style><script src="./17内置工具类型进阶：类型编程进阶_files/common-monitors.1.4.2.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/277a21f.js.download"></script><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/e4294a4.js.download"></script><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/cbbdd43.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/8.4ebc7e8.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/42fff22.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/157.6f58300.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/aa9a104.js.download"></script><style type="text/css">.code-editor-container{display:block;position:relative;overflow:hidden;box-sizing:border-box;}iframe.code-editor-frame{width:100%;height:100%;border:none;border-radius:8px;box-sizing:border-box;border:0.5px solid rgba(128,128,128,0.4);}</style><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/1d0678e.js.download"></script><style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/63.81176ea.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/b8d5b8c.js.download"></script><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/7f3a0b2.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/156.2361d2d.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/2176284.js.download"></script><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/11.e06cf08.css"><link rel="preload" as="style" href="./17内置工具类型进阶：类型编程进阶_files/85.afe25d0.css"><script charset="utf-8" src="./17内置工具类型进阶：类型编程进阶_files/3801450.js.download"></script></head>
  <body data-pagenote="1" class="juejin_cn bv_touch_device" style="user-select: auto;">
    <div id="__nuxt"><div id="__layout"><div id="juejin"><!----> <div data-v-451a2155="" class="book-read-view"><section data-v-451a2155="" class="book-section"><div data-v-451a2155="" class="book-summary"><div data-v-451a2155="" class="book-summary-masker"></div> <div data-v-451a2155="" class="book-summary-inner"><div data-v-451a2155="" class="book-summary__header"><a data-v-451a2155="" href="https://juejin.cn/course" target="" rel="" class="logo"><svg data-v-451a2155="" width="137" height="28" viewBox="0 0 137 28" fill="none" xmlns="http://www.w3.org/2000/svg" class="" style="height: 100%; width: auto;"><path data-v-451a2155="" d="M17.5865 17.3955H17.5902L28.5163 8.77432L25.5528 6.39453L17.5902 12.6808H17.5865L17.5828 12.6845L9.62018 6.40201L6.6604 8.78181L17.5828 17.3992L17.5865 17.3955Z" fill="#1E80FF"></path><path data-v-451a2155="" d="M17.5872 6.77268L21.823 3.40505L17.5872 0.00748237L17.5835 0L13.3552 3.39757L17.5835 6.76894L17.5872 6.77268Z" fill="#1E80FF"></path><path data-v-451a2155="" d="M17.5865 23.2854L17.5828 23.2891L2.95977 11.7531L0 14.1291L0.284376 14.3574L17.5865 28L28.5238 19.3752L35.1768 14.1254L32.2133 11.7456L17.5865 23.2854Z" fill="#1E80FF"></path><path data-v-451a2155="" d="M133.287 18.4172H131.162L129.923 23.0758H126.825V16.7559H135.364V14.7315H126.825V11.1469H133.074V9.12256H118.454V11.1469H124.703V14.7315H116.164V16.7559H124.703V23.0758H121.601L120.363 18.4172H118.237L119.487 23.0758H115.543V25.1001H135.985V23.0758H132.041L133.287 18.4172Z" fill="#323232"></path><path data-v-451a2155="" d="M130.522 3.3151L130.2 2.94092H121.321L120.999 3.3151C119.298 5.2467 117.378 6.97337 115.278 8.46009V10.9522C116.206 10.3573 120.183 7.72295 122.327 4.98768H129.235C131.375 7.72295 135.356 10.3573 136.284 10.9522V8.46009C134.169 6.97586 132.235 5.2491 130.522 3.3151Z" fill="#323232"></path><path data-v-451a2155="" d="M94.9037 8.53127H96.494V6.50323H94.9037V2.88867H92.9056V6.50323H91.3303V8.53127H92.9094V14.7914L91.3303 15.3377V17.5828L92.9094 17.0365V20.7371C92.8414 22.2391 92.5579 23.7236 92.0674 25.145H94.1629C94.6112 23.7165 94.863 22.2335 94.9112 20.7371V16.3442L96.5053 15.7904V13.5229L94.9112 14.0767L94.9037 8.53127Z" fill="#323232"></path><path data-v-451a2155="" d="M99.1875 2.88867H97.6608V20.7446C97.6727 22.2359 97.4852 23.7221 97.1033 25.1637H99.1875C99.5206 23.7145 99.6851 22.2316 99.6776 20.7446V9.77357H112.321V2.88867H99.1875ZM110.308 7.75303H99.6851V4.91671H110.304L110.308 7.75303Z" fill="#323232"></path><path data-v-451a2155="" d="M110.305 23.405H107.566V17.6838H110.021H110.702H111.91V11.8166H110.021V15.9363H107.566V11.1431H105.676V15.9363H103.27V11.8166H101.381V17.6838H102.298H103.27H105.676V23.405H102.967V19.173H101.074V25.1524H102.286H102.967H110.305H110.683H112.195V19.173H110.305V23.405Z" fill="#323232"></path><path data-v-451a2155="" d="M53.0024 2.91846V4.83801L56.5908 6.11397L53.0024 7.38618V9.30573L59.2887 7.07187L65.5749 9.30573V7.38618L61.9865 6.11397L65.5749 4.83801V2.91846L59.2887 5.15232L53.0024 2.91846Z" fill="#323232"></path><path data-v-451a2155="" d="M79.9508 11.697H88.5944V9.47813H79.9508V2.80273H77.5299V9.47813H68.8863V11.697H77.5299V22.9823H67.76V25.2012H89.7207V22.9823H79.9508V11.697Z" fill="#323232"></path><path data-v-451a2155="" d="M48.9461 5.39227L52.2913 5.18272V3.24072L43.6813 3.78328V5.72529L47.0265 5.512V8.50545H43.5803V10.4213H47.0265V25.164H48.9461V10.4213H52.3923V8.50545H48.9461V5.39227Z" fill="#323232"></path><path data-v-451a2155="" d="M57.6539 9.01025H55.6595L55.1768 10.3648H52.9991V12.2357H54.5145L52.55 17.7662H53.8821V24.1534H55.7007V16.8457H58.6642V25.1787H60.5837V16.8457H63.4612V21.059C63.4534 22.1374 63.181 23.1974 62.6679 24.146H64.7147C65.1423 23.173 65.3627 22.1217 65.362 21.059V15.6932V15.1282H60.5837V13.2572H58.6642V15.1282H55.4836L56.5313 12.2245H65.594V10.3536H57.1749L57.6539 9.01025Z" fill="#323232"></path><path data-v-451a2155="" d="M43.562 24.6246H45.4591L46.2786 11.4272H44.3815L43.562 24.6246Z" fill="#323232"></path><path data-v-451a2155="" d="M49.7849 11.4272L50.3499 23.2963H52.247L51.682 11.4272H49.7849Z" fill="#323232"></path></svg></a> <div data-v-451a2155="" class="label">课程</div> <!----></div> <!----> <div data-v-3cf5100c="" data-v-451a2155="" class="book-directory-comp beautify-scrollbar-warp book-directory bought" cur-index="-1"><div data-v-3cf5100c="" style="padding: 0px 15px;"><!----></div> <div data-v-3cf5100c="" class="section-list"><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">1</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">开篇：用正确的方式学习 TypeScript</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 7分24秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">2</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">工欲善其事：打造最舒适的 TypeScript 开发环境</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><div data-v-3cf5100c="" class="label" style="color: rgb(138, 145, 159); background: rgb(228, 230, 235);">
              已学完
            </div> <span data-v-3cf5100c="">学习时长: 19分14秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">3</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">进入类型的世界：理解原始类型与对象类型</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 37分40秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">4</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">掌握字面量类型与枚举，让你的类型再精确一些</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 24分53秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">5</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">函数与 Class 中的类型：详解函数重载与面向对象</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><div data-v-3cf5100c="" class="label" style="color: rgb(138, 145, 159); background: rgb(228, 230, 235);">
              已学完
            </div> <span data-v-3cf5100c="">学习时长: 50分40秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">6</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">探秘内置类型：any、unknown、never 与类型断言</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 34分58秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">7</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">类型编程好帮手：TypeScript 类型工具（上）</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><div data-v-3cf5100c="" class="label" style="color: rgb(138, 145, 159); background: rgb(228, 230, 235);">
              已学完
            </div> <span data-v-3cf5100c="">学习时长: 33分34秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">8</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">类型编程好帮手：TypeScript 类型工具（下）</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 40分52秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">9</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">类型编程基石：TypeScript 中无处不在的泛型</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 43分46秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">10</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">结构化类型系统：类型兼容性判断的幕后</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><div data-v-3cf5100c="" class="label" style="color: rgb(30, 128, 255); background: rgb(234, 242, 255);">
              上次学到
            </div> <span data-v-3cf5100c="">学习时长: 20分50秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">11</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">类型系统层级：从 Top Type 到 Bottom Type</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 45分16秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">12</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">类型里的逻辑运算：条件类型与 infer</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 52分44秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">13</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">内置工具类型基础：别再妖魔化工具类型了！</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 44分47秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">14</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">反方向类型推导：用好上下文相关类型</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 18分37秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">15</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">函数类型：协变与逆变的比较</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 21分38秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">16</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">了解类型编程与类型体操的意义，找到平衡点</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 4分27秒</span></div></div></a><a data-v-3cf5100c="" class="section route-active"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">17</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">内置工具类型进阶：类型编程进阶</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 83分3秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">18</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">基础类型新成员：模板字符串类型入门</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 32分58秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">19</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">类型编程新范式：模板字符串工具类型进阶</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 69分27秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">20</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">工程层面的类型能力：类型声明、类型指令与命名空间</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 53分23秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">21</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">在 React 中愉快地使用 TypeScript：内置类型与泛型坑位</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 78分9秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">22</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">让 ESLint 来约束你的 TypeScript 代码：配置与规则集介绍</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 57分13秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">23</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">全链路 TypeScript 工具库，找到适合你的工具</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 28分18秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">24</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">说说 TypeScript 和 ECMAScript 之间那些事儿</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 29分14秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">25</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">装饰器与反射元数据：了解装饰器基本原理与应用</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 81分53秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">26</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">控制反转与依赖注入：基于装饰器的依赖注入实现</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 69分6秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">27</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">TSConfig 全解（上）：构建相关配置</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 55分33秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">28</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">TSConfig 全解（下）：检查相关、工程相关配置</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 76分19秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">29</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">基于 Prisma + NestJs 的 Node API ：前置知识储备</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 44分50秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">30</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">基于 Prisma + NestJs 的 Node API ：项目开发与基于 Heroku 部署</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 46分40秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">31</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">玩转 TypeScript AST：AST Checker 与 CodeMod</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><!----> <span data-v-3cf5100c="">学习时长: 85分18秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">32</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">感谢相伴：是结束，也是开始</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><div data-v-3cf5100c="" class="label" style="color: rgb(138, 145, 159); background: rgb(228, 230, 235);">
              已学完
            </div> <span data-v-3cf5100c="">学习时长: 3分21秒</span></div></div></a><a data-v-3cf5100c="" class="section"><div data-v-3cf5100c="" class="left"><div data-v-3cf5100c="" class="index">33</div></div> <div data-v-3cf5100c="" class="center"><div data-v-3cf5100c="" class="main-line"><div data-v-3cf5100c="" class="title"><!----> <span data-v-3cf5100c="" class="title-text">漫谈篇：面试中的 TypeScript</span></div> <div data-v-3cf5100c="" class="right"><!----></div></div> <div data-v-3cf5100c="" class="sub-line"><div data-v-3cf5100c="" class="label" style="color: rgb(138, 145, 159); background: rgb(228, 230, 235);">
              已学完
            </div> <span data-v-3cf5100c="">学习时长: 4分25秒</span></div></div></a></div></div> <div data-v-451a2155="" class="book-summary__footer"><div data-v-451a2155="" class="qr-icon"><svg data-v-451a2155="" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" class=""><path data-v-451a2155="" fill="#BABABA" fill-rule="evenodd" d="M11 0h9v9h-9V0zM0 0h9v9H0V0zm0 11h9v9H0v-9zm14-5h3V3h-3v3zM3 6h3V3H3v3zm0 11v-3h3v3H3zm8-6h3v3h-3v-3zm3 3h3v3h-3v-3zm3-3h3v3h-3v-3zm-6 6h3v3h-3v-3zm6 0h3v3h-3v-3z"></path></svg></div> <div data-v-451a2155="" class="qr-tips"><span data-v-451a2155="" class="ion-close"></span> <div data-v-451a2155="" class="title"><span data-v-451a2155="">关注公众号</span></div> <div data-v-451a2155="" class="qr-img"><img data-v-451a2155="" src="./17内置工具类型进阶：类型编程进阶_files/wx-qr.966373a.jpg"></div></div></div></div></div> <div data-v-451a2155="" class="book-content"><div data-v-451a2155="" class="book-content-inner"><div data-v-451a2155="" class="book-content__header visible"><div data-v-451a2155="" class="switch"><svg data-v-451a2155="" width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" class="" style="width: 30px; height: 30px; vertical-align: middle;"><title data-v-451a2155="">juejin_logo copy</title><desc data-v-451a2155="">Created with Sketch.</desc><defs data-v-451a2155=""></defs><g data-v-451a2155="" id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g data-v-451a2155="" id="juejin_logo-copy" sketch:type="MSArtboardGroup" fill="#007FFF"><path data-v-451a2155="" d="M23.2819984,7.7030545 L19.8538714,5 L16.2721918,7.8241757 L16.0865388,7.97375707 L19.8538714,10.977629 L23.6327866,7.97375707 L23.2819984,7.7030545 Z M36.2727433,18.185664 L19.8439434,31.1400064 L3.42507143,18.1936064 L1,20.1414735 L19.8439434,35 L38.6981457,20.1335312 L36.2727433,18.185664 Z M19.8439434,19.2367048 L10.903809,12.1875172 L8.47840667,14.1353844 L19.8439434,23.0970293 L31.2190771,14.127442 L28.7936748,12.1795749 L19.8439434,19.2367048 Z" id="Fill-1-Copy-2" sketch:type="MSShapeGroup"></path></g></g></svg></div> <div data-v-451a2155="" class="menu"><svg data-v-451a2155="" width="16px" height="13px" viewBox="0 0 16 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class=""><title data-v-451a2155="">Group 4</title><desc data-v-451a2155="">Created with Sketch.</desc><defs data-v-451a2155=""></defs><g data-v-451a2155="" id="全屏" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g data-v-451a2155="" id="2_fullscreen_close-sidebar" transform="translate(-19.000000, -25.000000)" fill="#979797"><g data-v-451a2155="" id="Group-4" transform="translate(19.000000, 25.000000)"><rect data-v-451a2155="" id="Rectangle-3" x="0" y="5.5" width="16" height="1.5"></rect><rect data-v-451a2155="" id="Rectangle-3" x="0" y="0" width="16" height="1.5"></rect><rect data-v-451a2155="" id="Rectangle-3-Copy" x="0" y="11" width="16" height="1.5"></rect></g></g></g></svg></div> <div data-v-451a2155="" class="title"><a data-v-451a2155="" href="https://juejin.cn/book/7086408430491172901" target="" rel="">
              TypeScript 全面进阶指南
            </a></div> <div data-v-27c6ac96="" data-v-451a2155="" class="user-auth user-auth"><div data-v-27c6ac96="" class="nav-item menu"><img data-v-248050e4="" data-v-47508ed8="" data-v-27c6ac96="" src="./17内置工具类型进阶：类型编程进阶_files/46428b69f1e5df31930b34802e488fb9_100x100.awebp" alt="晨出的头像" class="lazy avatar avatar" loading="lazy"> <!----></div> <!----></div> <!----></div> <div data-v-451a2155="" class="book-body transition--next"><div data-v-3bdbd109="" data-v-451a2155="" class="section-view book-section-content" user="[object Object]"><div data-v-ea27b86c="" data-v-3bdbd109="" class="section-content"><div data-v-ea27b86c="" class="section-page book-section-view"><div data-v-ea27b86c="" class="video-wrapper"><div data-v-67659797="" data-v-ea27b86c="" class="video video"><div data-v-67659797="" id="mse"><!----> <!----></div></div></div> <div data-v-ea27b86c="" class="article-content"><div class="markdown-body"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre>code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote>p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><p>此前，我们已经了解了 TypeScript 中内置工具类型的实现原理，以及它们的扩展方向。这一节，我们会在这些基础上逐一实现这些扩展方向。</p>
<p>需要说明的是，本节中的工具类型会更加复杂和烧脑一些，你需要确保已经完全掌握了这一节前的绝大部分知识再来学习本节内容。如果在学习过程中发现有知识点的缺失，可以先回到前面的章节复习、巩固，再学不迟。</p>
<p>另外，这一节中介绍的工具类型绝大部分是具有实际应用场景的，如果你发现某一个工具类型恰好匹配了你的需求，不妨在自己的项目中复制一份。随着不断的积累，你会发现，你拥有了一个最适合自己的工具类型合集！</p>
<blockquote>
<p>本节代码见：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Flinbudu599%2FTypeScript-Tiny-Book%2Ftree%2Fmain%2Fpackages%2F13-advanced-builtin-tool-types" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/linbudu599/TypeScript-Tiny-Book/tree/main/packages/13-advanced-builtin-tool-types" ref="nofollow noopener noreferrer">Advanced Builtin Tool Types</a></p>
</blockquote>
<h2 data-id="heading-0">属性修饰进阶</h2>
<p>在内置工具类型一节中，对属性修饰工具类型的进阶主要分为这么几个方向：</p>
<ul>
<li>深层的属性修饰；</li>
<li>基于已知属性的部分修饰，以及基于属性类型的部分修饰。</li>
</ul>
<p>首先是深层属性修饰，还记得我们在 infer 关键字一节首次接触到递归的工具类型吗？</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">PromiseValue</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer V&gt; ? <span class="hljs-title class_">PromiseValue</span>&lt;V&gt; : T;
</code></pre>
<p>可以看到，此时我们只是在条件类型成立时，再次调用了这个工具类型而已。在某一次递归到条件类型不成立时，就会直接返回这个类型值。那么对于 Partial、Required，其实我们也可以进行这样地处理：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">DeepPartial</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]?: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepPartial</span>&lt;T[K]&gt; : T[K];
};
</code></pre>
<p>简单起见，我们直接使用了 object 作为泛型约束与条件，这意味着也有可能传入函数、数组等类型。但毕竟我们对这个类型知根知底，就可以假设只会传入对象结构，因此也只需要对对象类型进行处理了。</p>
<p>为了更直观地验证它的效果，我们使用 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ftsd" target="_blank" rel="nofollow noopener noreferrer" title="https://www.npmjs.com/package/tsd" ref="nofollow noopener noreferrer">tsd</a> 这一工具类型单元测试库来进行验证，效果大概是这样：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { expectType } <span class="hljs-keyword">from</span> <span class="hljs-string">'tsd'</span>;

<span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">DeepPartialStruct</span> = <span class="hljs-title class_">DeepPartial</span>&lt;{
  <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">nested</span>: {
    <span class="hljs-attr">nestedFoo</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">nestedBar</span>: {
      <span class="hljs-attr">nestedBarFoo</span>: <span class="hljs-built_in">string</span>;
    };
  };
}&gt;;

expectType&lt;<span class="hljs-title class_">DeepPartialStruct</span>&gt;({
  <span class="hljs-attr">foo</span>: <span class="hljs-string">'bar'</span>,
  <span class="hljs-attr">nested</span>: {},
});

expectType&lt;<span class="hljs-title class_">DeepPartialStruct</span>&gt;({
  <span class="hljs-attr">nested</span>: {
    <span class="hljs-attr">nestedBar</span>: {},
  },
});

expectType&lt;<span class="hljs-title class_">DeepPartialStruct</span>&gt;({
  <span class="hljs-attr">nested</span>: {
    <span class="hljs-attr">nestedBar</span>: {
      <span class="hljs-attr">nestedBarFoo</span>: <span class="hljs-literal">undefined</span>,
    },
  },
});
</code></pre>
<p>在 expectType 的泛型坑位中传入一个类型，然后再传入一个值，就可以验证这个值是否符合泛型类型了。</p>
<p>类似的，我们还可以实现其他进行递归属性修饰的工具类型，展示如下：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">DeepPartial</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]?: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepPartial</span>&lt;T[K]&gt; : T[K];
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepRequired</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]-?: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepRequired</span>&lt;T[K]&gt; : T[K];
};

<span class="hljs-comment">// 也可以记作 DeepImmutable</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepReadonly</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  <span class="hljs-keyword">readonly</span> [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepReadonly</span>&lt;T[K]&gt; : T[K];
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepMutable</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  -<span class="hljs-keyword">readonly</span> [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepMutable</span>&lt;T[K]&gt; : T[K];
};
</code></pre>
<p>另外，在内置工具类型一节的结构工具类型中，存在一个从联合类型中剔除 <code>null | undefined</code> 的工具类型 NonNullable：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">NonNullable</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span> ? <span class="hljs-built_in">never</span> : T;
</code></pre>
<p>在对象结构中我们也常声明类型为 <code>string | null</code> 的形式，代表了“<strong>这里有值，但可能是空值</strong>”。此时，我们也可以将其等价为一种属性修饰（Nullable 属性，前面则是 Optional / Readonly 属性）。因此，我们也可以像访问性修饰工具类型那样，实现一个 DeepNonNullable 来递归剔除所有属性的 null 与 undefined：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">NonNullable</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span> ? <span class="hljs-built_in">never</span> : T;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepNonNullable</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>
    ? <span class="hljs-title class_">DeepNonNullable</span>&lt;T[K]&gt;
    : <span class="hljs-title class_">NonNullable</span>&lt;T[K]&gt;;
};
</code></pre>
<p>当然，就像 Partial 与 Required 的关系一样，DeepNonNullable 也有自己的另一半：DeepNullable：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Nullable</span>&lt;T&gt; = T | <span class="hljs-literal">null</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepNullable</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> ? <span class="hljs-title class_">DeepNullable</span>&lt;T[K]&gt; : <span class="hljs-title class_">Nullable</span>&lt;T[K]&gt;;
};
</code></pre>
<blockquote>
<p>需要注意的是，DeepNullable 和 DeepNonNullable 需要在开启 <code>--strictNullChecks</code> 下才能正常工作。</p>
</blockquote>
<p>搞定了递归属性修饰，接着就是<strong>基于已知属性进行部分修饰了</strong>。这其实也很简单。你想，如果我们要让一个对象的三个已知属性为可选的，那只要把这个对象拆成 A、B 两个对象结构，分别由三个属性和其他属性组成。然后让对象 A 的属性全部变为可选的，和另外一个对象 B 组合起来，不就行了吗？</p>
<p>拆开来描述一下这句话，看看这里都用到了哪些知识：</p>
<ul>
<li>拆分对象结构，那不就是内置工具类型一节中讲到的<strong>结构工具类型</strong>，即 Pick 与 <bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag>？</li>
<li>三个属性的对象全部变为可选，那不就是属性修饰？岂不是可以直接用上面刚学到的<strong>递归属性修饰</strong>？</li>
<li>组合两个对象类型，也就意味着得到一个同时符合这两个对象类型的新结构，那不就是<strong>交叉类型</strong>？</li>
</ul>
<p>分析出了需要用到的工具和方法，那执行起来就简单多了。这也是使用最广泛的一种类型编程思路：<strong>将复杂的工具类型，拆解为由基础工具类型、类型工具的组合</strong>。</p>
<p>直接来看基于已知属性的部分修饰，MarkPropsAsOptional 会将一个对象的部分属性标记为可选：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsOptional</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt; &amp; <span class="hljs-title class_"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag></span>&lt;T, K&gt;;
</code></pre>
<p>T 为需要处理的对象类型，而 K 为需要标记为可选的属性。由于此时 K 必须为 T 内部的属性，因此我们将其约束为 keyof T，即对象属性组成的字面量联合类型。同时为了让它能够直接代替掉 Partial，我们为其指定默认值也为 keyof T，这样在不传入第二个泛型参数时，它的表现就和 Partial 一致，即全量的属性可选。</p>
<p>而其组成中，<code>Partial&lt;Pick&lt;T, K&gt;&gt;</code> 为需要标记为可选的属性组成的对象子结构，<code><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag>&lt;T, K&gt;</code> 则为不需要处理的部分，使用交叉类型将其组合即可。我们验证下效果：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsOptionalStruct</span> = <span class="hljs-title class_">MarkPropsAsOptional</span>&lt;
  {
    <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">bar</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">baz</span>: <span class="hljs-built_in">boolean</span>;
  },
  <span class="hljs-string">'bar'</span>
&gt;;
</code></pre>
<p><img src="./17内置工具类型进阶：类型编程进阶_files/25c9cbf92f7f4e6db685f61fdc6dd608_tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>啊哦，这可不好看出来具体效果。此时我们可以引入一个辅助的工具类型，我称其为 Flatten，对于这种交叉类型的结构，Flatten 能够将它展平为单层的对象结构。而它的实现也很简单，就是复制一下结构罢了：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Flatten</span>&lt;T&gt; = { [K <span class="hljs-keyword">in</span> keyof T]: T[K] };

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsOptional</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt; &amp; <span class="hljs-title class_"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag></span>&lt;T, K&gt;&gt;;
</code></pre>
<p><img src="./17内置工具类型进阶：类型编程进阶_files/4800d32ded6f4b45bdc72f70c05df0d3_tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>现在它就直观多了，那我们也就无需再进行实际验证了。</p>
<blockquote>
<p>在这里你其实也可以使用 <code>DeepPartial&lt;Pick&lt;T, K&gt;&gt;</code>，来把这些属性标记为深层的可选状态。</p>
</blockquote>
<p>我们来实现其它类型的部分修饰：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsRequired</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_">Omit</span>&lt;T, K&gt; &amp; <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt;&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsReadonly</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_">Omit</span>&lt;T, K&gt; &amp; <span class="hljs-title class_">Readonly</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt;&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsMutable</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag></span>&lt;T, K&gt; &amp; <span class="hljs-title class_">Mutable</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt;&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsNullable</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag></span>&lt;T, K&gt; &amp; <span class="hljs-title class_">Nullable</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt;&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MarkPropsAsNonNullable</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  K <span class="hljs-keyword">extends</span> keyof T = keyof T
&gt; = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1671329152874">Omit</bvtag></span>&lt;T, K&gt; &amp; <span class="hljs-title class_">NonNullable</span>&lt;<span class="hljs-title class_">Pick</span>&lt;T, K&gt;&gt;&gt;;
</code></pre>
<p>而对于按照值类型的部分修饰，比如标记所有函数类型属性为可选，其实和这里是一样的思路：<strong>拆分-处理-组合</strong>，只不过我们此前使用基于键名裁剪的 Pick、Omit，现在我们需要基于键值类型裁剪的 PickByValueType、OmitByValueType 了。而在接下来的结构工具类型进阶中，我们会了解到如何<strong>基于键值类型去裁剪结构</strong>。</p>
<p>这一节介绍的属性修饰工具类型在日常开发中也是非常常用的，如一个结构，在被用作多个 React 组件的属性类型时，可能存在一些属性修饰的差异。此时就可以基于这些工具类型，基于源头的接口结构做定制处理，避免多次声明基本重复的类型结构。</p>
<h2 data-id="heading-1">结构工具类型进阶</h2>
<p>前面对结构工具类型主要给出了两个进阶方向：</p>
<ul>
<li>基于键值类型的 Pick 与 Omit；</li>
<li>子结构的互斥处理。</li>
</ul>
<p>首先是基于键值类型的 Pick 与 Omit，我们就称之为 PickByValueType 好了。它的实现方式其实还是类似部分属性修饰中那样，将对象拆分为两个部分，处理完毕再组装。只不过，现在我们无法预先确定要拆分的属性了，而是需要<strong>基于期望的类型去拿到所有此类型的属性名</strong>，如想 Pick 出所有函数类型的值，那就要先拿到所有的函数类型属性名。先来一个 FunctionKeys 工具类型：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FuncStruct</span> = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) =&gt;</span> <span class="hljs-built_in">any</span>;

<span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">FunctionKeys</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FuncStruct</span> ? K : <span class="hljs-built_in">never</span>;
}[keyof T];
</code></pre>
<p><code>{}[keyof T]</code> 这个写法我们是第一次见，但我们可以拆开来看，先看看前面的 <code>{ [K in keyof T]: T[K] extends FuncStruct ? K : never; }</code> 部分，为何在条件类型成立时它返回了键名 K，而非索引类型查询 <code>T[K]</code> ？</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">Tmp</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FuncStruct</span> ? K : <span class="hljs-built_in">never</span>;
};

<span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">Res</span> = <span class="hljs-title class_">Tmp</span>&lt;{
  <span class="hljs-attr">foo</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">bar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">baz</span>: <span class="hljs-built_in">number</span>;
}&gt;;

<span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">ResEqual</span> = {
  <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>;
  <span class="hljs-attr">bar</span>: <span class="hljs-string">'bar'</span>;
  <span class="hljs-attr">baz</span>: <span class="hljs-built_in">never</span>;
};
</code></pre>
<p>在 Res（等价于 ResEqual）中，我们获得了一个<strong>属性名-属性名字面量类型</strong>的结构，对于非函数类型的属性，其值为 never。然后，我们加上 <code>[keyof T]</code> 这一索引类型查询 + keyof 操作符的组合：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">WhatWillWeGet</span> = <span class="hljs-title class_">Res</span>[keyof <span class="hljs-title class_">Res</span>]; <span class="hljs-comment">// "foo" | "bar"</span>
</code></pre>
<p>我们神奇地获得了所有函数类型的属性名！这又是如何实现的呢？其实就是我们此前学习过的，当索引类型查询中使用了一个联合类型时，它会使用类似分布式条件类型的方式，将这个联合类型的成员依次进行访问，然后再最终组合起来，上面的例子可以这么简化：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">WhatWillWeGetEqual1</span> = <span class="hljs-title class_">Res</span>[<span class="hljs-string">"foo"</span> | <span class="hljs-string">"bar"</span> | <span class="hljs-string">"baz"</span>];
<span class="hljs-keyword">type</span> <span class="hljs-title class_">WhatWillWeGetEqual2</span> = <span class="hljs-title class_">Res</span>[<span class="hljs-string">"foo"</span>] | <span class="hljs-title class_">Res</span>[<span class="hljs-string">"bar"</span>] | <span class="hljs-title class_">Res</span>[<span class="hljs-string">"baz"</span>];
<span class="hljs-keyword">type</span> <span class="hljs-title class_">WhatWillWeGetEqual3</span> = <span class="hljs-string">"foo"</span> | <span class="hljs-string">"bar"</span> | <span class="hljs-built_in">never</span>;
</code></pre>
<p>通过这一方式，我们就能够获取到符合预期类型的属性名了。如果希望抽象“基于键值类型查找属性”名这么个逻辑，我们就需要对 FunctionKeys 的逻辑进行封装，即<strong>将预期类型也作为泛型参数</strong>，由外部传入：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ExpectedPropKeys</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = {
  [<span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> keyof T]-?: T[<span class="hljs-title class_">Key</span>] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ValueType</span> ? <span class="hljs-title class_">Key</span> : <span class="hljs-built_in">never</span>;
}[keyof T];

<span class="hljs-keyword">type</span> <span class="hljs-title class_">FunctionKeys</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = <span class="hljs-title class_">ExpectedPropKeys</span>&lt;T, <span class="hljs-title class_">FuncStruct</span>&gt;;

expectType&lt;
  <span class="hljs-title class_">FunctionKeys</span>&lt;{
    <span class="hljs-attr">foo</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-attr">bar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">baz</span>: <span class="hljs-built_in">number</span>;
  }&gt;
&gt;(<span class="hljs-string">'foo'</span>);

expectType&lt;
  <span class="hljs-title class_">FunctionKeys</span>&lt;{
    <span class="hljs-attr">foo</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-attr">bar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">baz</span>: <span class="hljs-built_in">number</span>;
  }&gt;
  <span class="hljs-comment">// 报错，因为 baz 不是函数类型属性</span>
&gt;(<span class="hljs-string">'baz'</span>);
</code></pre>
<p>注意，为了避免可选属性对条件类型语句造成干扰，这里我们使用 <code>-?</code> 移除了所有可选标记。</p>
<p>既然我们现在可以拿到对应类型的属性名，那么把这些属性交给 Pick，不就可以得到由这些属性组成的子结构了？</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">PickByValueType</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">ExpectedPropKeys</span>&lt;T, <span class="hljs-title class_">ValueType</span>&gt;
&gt;;

expectType&lt;<span class="hljs-title class_">PickByValueType</span>&lt;{ <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">bar</span>: <span class="hljs-built_in">number</span> }, <span class="hljs-built_in">string</span>&gt;&gt;({
  <span class="hljs-attr">foo</span>: <span class="hljs-string">'linbudu'</span>,
});

expectType&lt;
  <span class="hljs-title class_">PickByValueType</span>&lt;{ <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">bar</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">baz</span>: <span class="hljs-built_in">boolean</span> }, <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt;
&gt;({
  <span class="hljs-attr">foo</span>: <span class="hljs-string">'linbudu'</span>,
  <span class="hljs-attr">bar</span>: <span class="hljs-number">599</span>,
});
</code></pre>
<p>OmitByValueType 也是类似的，我们只需要一个和 ExpectedPropKeys 作用相反的工具类型即可，比如来个 FilteredPropKeys，只需要调换条件类型语句结果的两端即可：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FilteredPropKeys</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = {
  [<span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> keyof T]-?: T[<span class="hljs-title class_">Key</span>] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ValueType</span> ? <span class="hljs-built_in">never</span> : <span class="hljs-title class_">Key</span>;
}[keyof T];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">OmitByValueType</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">FilteredPropKeys</span>&lt;T, <span class="hljs-title class_">ValueType</span>&gt;
&gt;;

expectType&lt;<span class="hljs-title class_">OmitByValueType</span>&lt;{ <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">bar</span>: <span class="hljs-built_in">number</span> }, <span class="hljs-built_in">string</span>&gt;&gt;({
  <span class="hljs-attr">bar</span>: <span class="hljs-number">599</span>,
});

expectType&lt;
  <span class="hljs-title class_">OmitByValueType</span>&lt;{ <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">bar</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">baz</span>: <span class="hljs-built_in">boolean</span> }, <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt;
&gt;({
  <span class="hljs-attr">baz</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<p>或者，如果你想把 ExpectedPropKeys 和 FilteredPropKeys 合并在一起，其实也很简单，只是需要引入第三个泛型参数来控制返回结果：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Conditional</span>&lt;<span class="hljs-title class_">Value</span>, <span class="hljs-title class_">Condition</span>, <span class="hljs-title class_">Resolved</span>, <span class="hljs-title class_">Rejected</span>&gt; = <span class="hljs-title class_">Value</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Condition</span>
  ? <span class="hljs-title class_">Resolved</span>
  : <span class="hljs-title class_">Rejected</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ValueTypeFilter</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  <span class="hljs-title class_">ValueType</span>,
  <span class="hljs-title class_">Positive</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">boolean</span>
&gt; = {
  [<span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> keyof T]-?: T[<span class="hljs-title class_">Key</span>] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ValueType</span>
    ? <span class="hljs-title class_">Conditional</span>&lt;<span class="hljs-title class_">Positive</span>, <span class="hljs-literal">true</span>, <span class="hljs-title class_">Key</span>, <span class="hljs-built_in">never</span>&gt;
    : <span class="hljs-title class_">Conditional</span>&lt;<span class="hljs-title class_">Positive</span>, <span class="hljs-literal">true</span>, <span class="hljs-built_in">never</span>, <span class="hljs-title class_">Key</span>&gt;;
}[keyof T];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">PickByValueType</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">ValueTypeFilter</span>&lt;T, <span class="hljs-title class_">ValueType</span>, <span class="hljs-literal">true</span>&gt;
&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">OmitByValueType</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">ValueTypeFilter</span>&lt;T, <span class="hljs-title class_">ValueType</span>, <span class="hljs-literal">false</span>&gt;
&gt;;
</code></pre>
<p>看起来好像很完美，但这里基于条件类型的比较是否让你想到了某个特殊情况？即在联合类型的情况下，<code>1 | 2 extends 1 | 2 | 3</code>（通过泛型参数传入）  会被视为是合法的，这是由于分布式条件类型的存在。而有时我们希望对联合类型的比较是全等的比较，还记得我们说怎么禁用分布式条件类型吗？让它不满足裸类型参数这一条即可：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Wrapped</span>&lt;T&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">boolean</span>] ? <span class="hljs-string">"Y"</span> : <span class="hljs-string">"N"</span>;
</code></pre>
<p>在这里我们也只需要简单进行改动即可：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">StrictConditional</span>&lt;<span class="hljs-title class_">Value</span>, <span class="hljs-title class_">Condition</span>, <span class="hljs-title class_">Resolved</span>, <span class="hljs-title class_">Rejected</span>&gt; = [<span class="hljs-title class_">Value</span>] <span class="hljs-keyword">extends</span> [
  <span class="hljs-title class_">Condition</span>
]
  ? <span class="hljs-title class_">Resolved</span>
  : <span class="hljs-title class_">Rejected</span>;
</code></pre>
<p>看起来好像没问题，但这里其实不够完美！比如下面这种情况：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Res1</span> = <span class="hljs-title class_">StrictConditional</span>&lt;<span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>&gt;; <span class="hljs-comment">// true</span>
</code></pre>
<p>当条件不再是一个简单的单体类型，而是一个联合类型时，我们使用数组的方式就产生问题了。因为 <code>Array&lt;1 | 2&gt; extends Array&lt;1 | 2 | 3&gt;</code> 就是合法的，<strong>第一个数组中的可能元素类型均被第二个数组的元素类型包含了，无论如何都是其子类型</strong>。</p>
<p>那么现在应该怎么办？其实只要反过来看，既然 <code>Array&lt;1 | 2&gt; extends Array&lt;1 | 2 | 3&gt;</code> 成立，那么 <code>Array&lt;1 | 2 | 3&gt; extends Array&lt;1 | 2&gt;</code> 肯定是不成立的，我们只要再加一个反方向的比较即可：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">StrictConditional</span>&lt;A, B, <span class="hljs-title class_">Resolved</span>, <span class="hljs-title class_">Rejected</span>, <span class="hljs-title class_">Fallback</span> = <span class="hljs-built_in">never</span>&gt; = [
  A
] <span class="hljs-keyword">extends</span> [B]
  ? [B] <span class="hljs-keyword">extends</span> [A]
    ? <span class="hljs-title class_">Resolved</span>
    : <span class="hljs-title class_">Rejected</span>
  : <span class="hljs-title class_">Fallback</span>;
</code></pre>
<p>在这种情况下 Value 和 Condition 的界限就比较模糊了，我们只是在比较两个类型是否严格相等，并没有值和表达式的概念了，因此就使用 A、B 来简称。</p>
<p>此时结果就符合预期了，需要联合类型完全一致：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Res1</span> = <span class="hljs-title class_">StrictConditional</span>&lt;<span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>&gt;; <span class="hljs-comment">// false</span>
<span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">Res2</span> = <span class="hljs-title class_">StrictConditional</span>&lt;<span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span>, <span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>&gt;; <span class="hljs-comment">// false</span>
<span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">Res3</span> = <span class="hljs-title class_">StrictConditional</span>&lt;<span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>&gt;; <span class="hljs-comment">// true</span>
</code></pre>
<p>应用到 TypeFilter 中：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">StrictValueTypeFilter</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,
  <span class="hljs-title class_">ValueType</span>,
  <span class="hljs-title class_">Positive</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>
&gt; = {
  [<span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> keyof T]-?: <span class="hljs-title class_">StrictConditional</span>&lt;
    <span class="hljs-title class_">ValueType</span>,
    T[<span class="hljs-title class_">Key</span>],
    <span class="hljs-comment">// 为了避免嵌套太多工具类型，这里就不使用 Conditional 了</span>
    <span class="hljs-title class_">Positive</span> <span class="hljs-keyword">extends</span> <span class="hljs-literal">true</span> ? <span class="hljs-title class_">Key</span> : <span class="hljs-built_in">never</span>,
    <span class="hljs-title class_">Positive</span> <span class="hljs-keyword">extends</span> <span class="hljs-literal">true</span> ? <span class="hljs-built_in">never</span> : <span class="hljs-title class_">Key</span>,
    <span class="hljs-title class_">Positive</span> <span class="hljs-keyword">extends</span> <span class="hljs-literal">true</span> ? <span class="hljs-built_in">never</span> : <span class="hljs-title class_">Key</span>
  &gt;;
}[keyof T];

<span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">StrictPickByValueType</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">StrictValueTypeFilter</span>&lt;T, <span class="hljs-title class_">ValueType</span>&gt;
&gt;;

expectType&lt;
  <span class="hljs-title class_">StrictPickByValueType</span>&lt;{ <span class="hljs-attr">foo</span>: <span class="hljs-number">1</span>; <span class="hljs-attr">bar</span>: <span class="hljs-number">1</span> | <span class="hljs-number">2</span>; <span class="hljs-attr">baz</span>: <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> }, <span class="hljs-number">1</span> | <span class="hljs-number">2</span>&gt;
&gt;({
  <span class="hljs-attr">bar</span>: <span class="hljs-number">1</span>,
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">StrictOmitByValueType</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, <span class="hljs-title class_">ValueType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">StrictValueTypeFilter</span>&lt;T, <span class="hljs-title class_">ValueType</span>, <span class="hljs-literal">false</span>&gt;
&gt;;

expectType&lt;
  <span class="hljs-title class_">StrictOmitByValueType</span>&lt;{ <span class="hljs-attr">foo</span>: <span class="hljs-number">1</span>; <span class="hljs-attr">bar</span>: <span class="hljs-number">1</span> | <span class="hljs-number">2</span>; <span class="hljs-attr">baz</span>: <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> }, <span class="hljs-number">1</span> | <span class="hljs-number">2</span>&gt;
&gt;({
  <span class="hljs-attr">foo</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">baz</span>: <span class="hljs-number">3</span>,
});
</code></pre>
<p>需要注意的是，由于 StrictOmitByValueType 需要的是<strong>不符合类型的属性</strong>，因此这里 StrictConditional 的 Fallback 泛型参数也需要传入 Key （即第五个参数中的 <code>Positive extends true ? never : Key</code>），同时整体应当基于 Pick 来实现。</p>
<p>对于基于属性类型的结构工具类型就到这里，这一部分可能需要你先稍微放慢速度，好好理解一番。因为并不完全是我们此前了解到的知识，比如分布式条件类型中，我们并没有说到条件为联合类型时可能出现的问题。这是因为脱离实际使用去讲，很难建立并加深你对这一场景的印象，但我想现在你已经深刻记住它了。</p>
<p>接下来是基于结构的互斥工具类型。想象这样一个场景，假设我们有一个用于描述用户信息的对象结构，除了共有的一些基础结构以外，VIP 用户和普通用户、游客这三种类型的用户各自拥有一些独特的字段，如 vipExpires 代表 VIP 过期时间，仅属于 VIP 用户，promotionUsed 代表已领取过体验券，属于普通用户，而 refererType 代表跳转来源，属于游客。</p>
<p>先来看看如何声明一个接口，它要么拥有 vipExpires，要么拥有 promotionUsed 字段，而不能同时拥有这两个字段。你可能会首先想到使用联合类型？</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> VIP {
  <span class="hljs-attr">vipExpires</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CommonUser</span> {
  <span class="hljs-attr">promotionUsed</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = <span class="hljs-variable constant_">VIP</span> | <span class="hljs-title class_">CommonUser</span>;
</code></pre>
<p>很遗憾，这种方式并不会约束“不能同时拥有”这个条件：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">user1</span>: <span class="hljs-title class_">User</span> = {
  <span class="hljs-attr">vipExpires</span>: <span class="hljs-number">599</span>,
  <span class="hljs-attr">promotionUsed</span>: <span class="hljs-literal">false</span>,
};
</code></pre>
<p>为了表示不能同时拥有，实际上我们应该使用 never 类型来标记一个属性。这里我们直接看完整的实现：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Without</span>&lt;T, U&gt; = { [P <span class="hljs-keyword">in</span> <span class="hljs-title class_">Exclude</span>&lt;keyof T, keyof U&gt;]?: <span class="hljs-built_in">never</span> };

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">XOR</span>&lt;T, U&gt; = (<span class="hljs-title class_">Without</span>&lt;T, U&gt; &amp; U) | (<span class="hljs-title class_">Without</span>&lt;U, T&gt; &amp; T);

<span class="hljs-keyword">type</span> <span class="hljs-title class_">XORUser</span> = <span class="hljs-variable constant_">XOR</span>&lt;<span class="hljs-variable constant_">VIP</span>, <span class="hljs-title class_">CommonUser</span>&gt;;


expectType&lt;<span class="hljs-title class_">XORUser</span>&gt;({
  <span class="hljs-attr">vipExpires</span>: <span class="hljs-number">0</span>,
});

expectType&lt;<span class="hljs-title class_">XORUser</span>&gt;({
  <span class="hljs-attr">promotionUsed</span>: <span class="hljs-literal">false</span>,
});

<span class="hljs-comment">// 报错，至少需要一个</span>
<span class="hljs-comment">// @ts-expect-error</span>
expectType&lt;<span class="hljs-title class_">XORUser</span>&gt;({
});

<span class="hljs-comment">// 报错，不允许同时拥有</span>
<span class="hljs-comment">// @ts-expect-error</span>
expectType&lt;<span class="hljs-title class_">XORUser</span>&gt;({
  <span class="hljs-attr">promotionUsed</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">vipExpires</span>: <span class="hljs-number">0</span>,
});
</code></pre>
<p>对 Without 做进一步展开可以看到，它其实就是将声明了一个不变的原属性+为 never 的其他属性的接口：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// {</span>
<span class="hljs-comment">//    vipExpires?: never;</span>
<span class="hljs-comment">// }</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Tmp1</span> = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_">Without</span>&lt;<span class="hljs-variable constant_">VIP</span>, <span class="hljs-title class_">CommonUser</span>&gt;&gt;;
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//    vipExpires?: never;</span>
<span class="hljs-comment">//    promotionUsed: boolean;</span>
<span class="hljs-comment">// }</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Tmp2</span> = <span class="hljs-title class_">Flatten</span>&lt;<span class="hljs-title class_">Tmp1</span> &amp; <span class="hljs-title class_">CommonUser</span>&gt;;
</code></pre>
<p>再通过联合类型的合并，这样一来 XORUser 就满足了“至少实现 VIP / CommonUser 这两个接口中的一个”，“不能同时实现 VIP / CommonUser ”这两个条件。如果加上游客类型实现三个互斥属性，也只需要额外嵌套一层：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Visitor</span> {
  <span class="hljs-attr">refererType</span>: <span class="hljs-title class_">RefererType</span>;
}

<span class="hljs-comment">// 联合类型会自动合并重复的部分</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">XORUser</span> = <span class="hljs-variable constant_">XOR</span>&lt;<span class="hljs-variable constant_">VIP</span>, <span class="hljs-variable constant_">XOR</span>&lt;<span class="hljs-title class_">CommonUser</span>, <span class="hljs-title class_">Visitor</span>&gt;&gt;;
</code></pre>
<p>我们还可以使用互斥类型实现绑定效果，即要么同时拥有 A、B 属性，要么一个属性都没有：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">XORStruct</span> = <span class="hljs-variable constant_">XOR</span>&lt;
  {},
  {
    <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">bar</span>: <span class="hljs-built_in">number</span>;
  }
&gt;;

<span class="hljs-comment">// 没有 foo、bar</span>
expectType&lt;<span class="hljs-title class_">XORStruct</span>&gt;({});

<span class="hljs-comment">// 同时拥有 foo、bar</span>
expectType&lt;<span class="hljs-title class_">XORStruct</span>&gt;({
  <span class="hljs-attr">foo</span>: <span class="hljs-string">'linbudu'</span>,
  <span class="hljs-attr">bar</span>: <span class="hljs-number">599</span>,
});
</code></pre>
<p>互斥工具类型在很多实战场景下都有重要意义，它在联合类型的基础上添加了属性间的互斥逻辑，现在你可以让你的接口结构更加精确了！</p>
<h2 data-id="heading-2">集合工具类型进阶</h2>
<p>在集合工具类型中我们给到的进阶方向，其实就是从一维原始类型集合，扩展二维的对象类型，在对象类型之间进行交并补差集的运算，以及对同名属性的各种处理情况。</p>
<p>对于对象类型的交并补差集，我们仍然沿用“降级”的处理思路，把它简化为可以用基础工具类型处理的问题即可。在这里，对象类型的交并补差集基本上可以降维到对象属性名集合的交并补差集问题，比如交集就是两个对象属性名的交集，使用属性名的交集访问其中一个对象，就可以获得对象之间的交集结构（不考虑同名属性冲突下）。</p>
<p>复习一下前面的一维集合：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 并集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Concurrence</span>&lt;A, B&gt; = A | B;

<span class="hljs-comment">// 交集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Intersection</span>&lt;A, B&gt; = A <span class="hljs-keyword">extends</span> B ? A : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// 差集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Difference</span>&lt;A, B&gt; = A <span class="hljs-keyword">extends</span> B ? <span class="hljs-built_in">never</span> : A;

<span class="hljs-comment">// 补集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Complement</span>&lt;A, B <span class="hljs-keyword">extends</span> A&gt; = <span class="hljs-title class_">Difference</span>&lt;A, B&gt;;
</code></pre>
<p><img src="./17内置工具类型进阶：类型编程进阶_files/00425dd09153488ca22b08c2c94a27c4_tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>我们对应地实现对象属性名的版本：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 使用更精确的对象类型描述结构</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">PlainObjectType</span> = <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;

<span class="hljs-comment">// 属性名并集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ObjectKeysConcurrence</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
&gt; = keyof T | keyof U;

<span class="hljs-comment">// 属性名交集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ObjectKeysIntersection</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
&gt; = <span class="hljs-title class_">Intersection</span>&lt;keyof T, keyof U&gt;;

<span class="hljs-comment">// 属性名差集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ObjectKeysDifference</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
&gt; = <span class="hljs-title class_">Difference</span>&lt;keyof T, keyof U&gt;;

<span class="hljs-comment">// 属性名补集</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ObjectKeysComplement</span>&lt;
  T <span class="hljs-keyword">extends</span> U,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
&gt; = <span class="hljs-title class_">Complement</span>&lt;keyof T, keyof U&gt;;
</code></pre>
<p>对于交集、补集、差集，我们可以直接使用属性名的集合来实现对象层面的版本：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">ObjectIntersection</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
&gt; = <span class="hljs-title class_">Pick</span>&lt;T, <span class="hljs-title class_">ObjectKeysIntersection</span>&lt;T, U&gt;&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">ObjectDifference</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
&gt; = <span class="hljs-title class_">Pick</span>&lt;T, <span class="hljs-title class_">ObjectKeysDifference</span>&lt;T, U&gt;&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">ObjectComplement</span>&lt;T <span class="hljs-keyword">extends</span> U, U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;
  T,
  <span class="hljs-title class_">ObjectKeysComplement</span>&lt;T, U&gt;
&gt;;
</code></pre>
<p>需要注意的是在 ObjectKeysComplement 与 ObjectComplement 中，<code>T extends U</code> 意味着 T 是 U 的子类型，但在属性组成的集合类型中却相反，<strong>U 的属性联合类型是 T 的属性联合类型的子类型</strong>，因为既然 T 是 U 的子类型，那很显然 T 所拥有的的属性会更多嘛。</p>
<p>而对于并集，就不能简单使用属性名并集版本了，因为使用联合类型实现，我们并不能控制<strong>同名属性的优先级</strong>，比如我到底是保持原对象属性类型呢，还是使用新对象属性类型？</p>
<p>还记得我们在 MarkPropsAsOptional、PickByValueType 中使用的方式吗？将一个对象拆分成数个子结构，处理各个子结构，再将它们合并。那么对于合并两个对象的情况，其实就是两个对象各自特有的部分加上同名属性组成的部分。</p>
<p>对于 T、U 两个对象，假设以 U 的同名属性类型优先，思路会是这样的：</p>
<ul>
<li>T 比 U 多的部分：T 相对于 U 的差集，<code>ObjectDifference&lt;T, U&gt;</code></li>
<li>U 比 T 多的部分：U 相对于 T 的差集，<code>ObjectDifference&lt;U, T&gt;</code></li>
<li>T 与 U 的交集，由于 U 的优先级更高，在交集处理中将 U 作为原集合， T 作为后传入的集合，<code>ObjectIntersection&lt;U, T&gt;</code></li>
</ul>
<p>我们就得到了 Merge：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">Merge</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
  <span class="hljs-comment">// T 比 U 多的部分，加上 T 与 U 交集的部分(类型不同则以 U 优先级更高，再加上 U 比 T 多的部分即可</span>
&gt; = <span class="hljs-title class_">ObjectDifference</span>&lt;T, U&gt; &amp; <span class="hljs-title class_">ObjectIntersection</span>&lt;U, T&gt; &amp; <span class="hljs-title class_">ObjectDifference</span>&lt;U, T&gt;;
</code></pre>
<p>如果要保证原对象优先级更高，那么只需要在交集处理中将 T 视为原集合，U 作为后传入的集合：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Assign</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
  <span class="hljs-comment">// T 比 U 多的部分，加上 T 与 U 交集的部分(类型不同则以 T 优先级更高，再加上 U 比 T 多的部分即可</span>
&gt; = <span class="hljs-title class_">ObjectDifference</span>&lt;T, U&gt; &amp; <span class="hljs-title class_">ObjectIntersection</span>&lt;T, U&gt; &amp; <span class="hljs-title class_">ObjectDifference</span>&lt;U, T&gt;;
</code></pre>
<p>除了简单粗暴地完全合并以外，我们还可以实现不完全的并集，即使用对象 U 的属性类型覆盖对象 T 中的同名属性类型，但<strong>不会将 U 独特的部分</strong>合并过来：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Override</span>&lt;
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>,
  U <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PlainObjectType</span>
  <span class="hljs-comment">// T 比 U 多的部分，加上 T 与 U 交集的部分(类型不同则以 U 优先级更高（逆并集）)</span>
&gt; = <span class="hljs-title class_">ObjectDifference</span>&lt;T, U&gt; &amp; <span class="hljs-title class_">ObjectIntersection</span>&lt;U, T&gt;;
</code></pre>
<p>这样，我们完成了从一维集合到二维集合的跨越。你也可以探索更多样的情况，比如两个对象各自独有部分组成的新集合（<strong>即从并集中剔除掉交集</strong>）就是一个很适合自己动手巩固印象的好例子。</p>
<h2 data-id="heading-3">模式匹配工具类型进阶</h2>
<p>在内置工具类型一节中，我们对模式匹配工具类型的进阶方向其实只有深层嵌套这么一种，特殊位置的 infer 处理其实大部分时候也是通过深层嵌套实现，比如此前我们实现了提取函数的首个参数类型：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FirstParameter</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FunctionType</span>&gt; = T <span class="hljs-keyword">extends</span> (
  <span class="hljs-attr">arg</span>: infer P,
  ...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>
) =&gt; <span class="hljs-built_in">any</span>
  ? P
  : <span class="hljs-built_in">never</span>;
</code></pre>
<p>要提取最后一个参数类型则可以这样：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FunctionType</span> = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">any</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">LastParameter</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FunctionType</span>&gt; = T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">arg</span>: infer P) =&gt; <span class="hljs-built_in">any</span>
  ? P
  : T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: infer R) =&gt; <span class="hljs-built_in">any</span>
  ? R <span class="hljs-keyword">extends</span> [...<span class="hljs-built_in">any</span>, infer Q]
    ? Q
    : <span class="hljs-built_in">never</span>
  : <span class="hljs-built_in">never</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">FuncFoo</span> = <span class="hljs-function">(<span class="hljs-params">arg: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FuncBar</span> = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">string</span>[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FuncBaz</span> = <span class="hljs-function">(<span class="hljs-params">arg1: <span class="hljs-built_in">string</span>, arg2: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">FooLastParameter</span> = <span class="hljs-title class_">LastParameter</span>&lt;<span class="hljs-title class_">FuncFoo</span>&gt;; <span class="hljs-comment">// number</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">BarLastParameter</span> = <span class="hljs-title class_">LastParameter</span>&lt;<span class="hljs-title class_">FuncBar</span>&gt;; <span class="hljs-comment">// string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">BazLastParameter</span> = <span class="hljs-title class_">LastParameter</span>&lt;<span class="hljs-title class_">FuncBaz</span>&gt;; <span class="hljs-comment">// boolean</span>
</code></pre>
<p>这也是模式匹配中常用的一种方法，通过 infer 提取到某一个结构，然后再对这个结构进行 infer 提取。</p>
<p>我们在此前曾经讲到一个提取 Promise 内部值类型的工具类型 PromiseValue， TypeScript 内置工具类型中也存在这么一个作用的工具类型，并且它的实现要更为严谨：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Awaited</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>
  ? T 
  : T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> &amp; { <span class="hljs-title function_">then</span>(<span class="hljs-attr">onfulfilled</span>: infer F): <span class="hljs-built_in">any</span> }
  ? F <span class="hljs-keyword">extends</span> (<span class="hljs-attr">value</span>: infer V, ...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span> 
    ? <span class="hljs-title class_">Awaited</span>&lt;V&gt;
    : <span class="hljs-built_in">never</span>
  : T;
</code></pre>
<p>首先你会发现，在这里 Awaited 并非通过 <code>Promise&lt;infer V&gt;</code> 来提取函数类型，而是通过 <code>Promise.then</code> 方法提取，首先提取到 then 方法中的函数类型，再通过这个函数类型的首个参数来提取出实际的值。</p>
<p>更严谨地来说，PromiseValue 和 Awaited 并不应该放在一起比较，前者就只想提取 <code>Promise&lt;void&gt;</code> 这样结构的内部类型，后者则像在类型的层面执行了 <code>await Promise.then()</code> 之后的返回值类型。同样的，这里也用到了 infer 伴随结构转化的例子。</p>
<p>对于<strong>内置模式匹配工具类型的进阶</strong>我们暂时只进行到这里，在后续的漫谈篇中，我们会不再拘束于“内置”，而是会更新更多复杂的模式匹配工具类型。</p>
<h2 data-id="heading-4">总结与预告</h2>
<p>这一节我们了解了属性修饰、结构、集合、模式匹配这四大类的工具类型进阶，也通过这些进阶类型了解到了常用的类型编程方式，如<strong>对一个对象结构拆分为多个子结构再分别处理</strong>，将<strong>复杂类型降维到基础类型再逐个击破</strong>，以及<strong>在嵌套的条件类型中基于 infer 多次修改类型结构</strong>来提取最终需要的类型。最重要的是，这些思路不仅仅会用在这一节的工具类型实现里，当你以后面对更复杂的场景需要从头写一个工具类型时，也完全可以使用，不会再无从下手了。</p>
<p>至此，我们就完成了对 TypeScript 基本类型能力的学习。一路走来甚是不易，我们用了 16 节，总计约 7w 字的内容，来完成对 TypeScript 核心类型能力的入门、进阶、归纳与实战。从基本的类型标注到内置类型的使用，从掌握类型工具到类型系统的深入探索，从工具类型入门到进阶再到整理出类型编程的 4 大范式（访问性修饰、结构、集合以及模式匹配）。</p>
<p>对于类型编程部分，我想带给你的最重要收获其实就是，<strong>你不会再畏惧眼花缭乱的类型编程了</strong>。正如始终贯穿这几节的核心理念，<strong>无论多复杂的类型编程，最终都可以拆分为数个基础的工具类型来实现</strong>，你需要锻炼的就是拆分的思路。</p>
<p>下一节我们还要继续接触类型。先别激动，接下来的类型要更好玩有趣一些，它是 TypeScript 在 4.1 版本引入的重磅特性——模板字符串类型，我们会用两节的内容带你完成相关学习。</p>
<h2 data-id="heading-5">扩展阅读</h2>
<h3 data-id="heading-6">RequiredKeys、OptionalKeys</h3>
<p>在属性修饰工具类型中我们只实现了 FunctionKeys，它的实现相对简单，因为只需要判断类型即可。那如果，我们要获取一个接口中所有可选或必选的属性呢？现在没法通过类型判断，要怎么去收集属性？</p>
<p>这一部分的实际意义不大，因此我特意放在扩展阅读里，下面的 MutableKeys、ImmutableKeys 也是如此。</p>
<p>首先是 RequiredKeys ，我们可以通过一个很巧妙的方式判断一个属性是否是必选的，先看一个例子：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Tmp1</span> = {} <span class="hljs-keyword">extends</span> { <span class="hljs-attr">prop</span>: <span class="hljs-built_in">number</span> } ? <span class="hljs-string">"Y"</span> : <span class="hljs-string">"N"</span>; <span class="hljs-comment">// "N"</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Tmp2</span> = {} <span class="hljs-keyword">extends</span> { prop?: <span class="hljs-built_in">number</span> } ? <span class="hljs-string">"Y"</span> : <span class="hljs-string">"N"</span>; <span class="hljs-comment">// "Y"</span>
</code></pre>
<p>在类型层级一节中我们已经了解，此时 TypeScript 会使用基于结构化类型的比较，也就意味着由于 <code>{ prop: number }</code> 可以视为继承自 <code>{}</code> ，<code>{} extends { prop: number }</code> 是不满足条件的。但是，如果这里的 prop 是可选的，那就不一样了！由于 <code>{ prop?: number }</code> 也可以是一个空的接口结构，那么 <code>{} extends { prop?: number }</code> 就可以认为是满足的。</p>
<p>因此，我们可以这么实现：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">RequiredKeys</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]-?: {} <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;T, K&gt; ? <span class="hljs-built_in">never</span> : K;
}[keyof T];
</code></pre>
<p>OptionalKeys 也是类似：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionalKeys</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]-?: {} <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;T, K&gt; ? K : <span class="hljs-built_in">never</span>;
}[keyof T];
</code></pre>
<h3 data-id="heading-7">MutableKeys、ImmutableKeys</h3>
<p>MutableKeys 和 ImmutableKeys 则要更加复杂一些，因为 readonly 修饰符无法简单地通过结构化类型比较，我们需要一个能对只读这一特性进行判断的辅助工具类型，直接看例子再讲解：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Equal</span>&lt;X, Y, A = X, B = <span class="hljs-built_in">never</span>&gt; = (&lt;T&gt;<span class="hljs-function">() =&gt;</span> T <span class="hljs-keyword">extends</span> X ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>) <span class="hljs-keyword">extends</span> &lt;
  T
&gt;<span class="hljs-function">() =&gt;</span> T <span class="hljs-keyword">extends</span> Y ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>
  ? A
  : B;
</code></pre>
<p>在这里，<code>&lt;T&gt;() =&gt; T extends X ? 1 : 2</code> 和 <code>&lt;T&gt;() =&gt; T extends Y ? 1 : 2</code> 这两个函数结构实际上起辅助作用，内部的条件类型并不会真的进行运算。我们实际上是借助这一辅助结构判断类型 X 与 Y 的全等性，这一全等性就包括了 readonly 修饰符与可选性等。</p>
<p>我们基于其实现 MutableKeys 和 ImmutableKeys：</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MutableKeys</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T]-?: <span class="hljs-title class_">Equal</span>&lt;
    { [Q <span class="hljs-keyword">in</span> P]: T[P] },
    { -<span class="hljs-keyword">readonly</span> [Q <span class="hljs-keyword">in</span> P]: T[P] },
    P,
    <span class="hljs-built_in">never</span>
  &gt;;
}[keyof T];

expectType&lt;<span class="hljs-title class_">MutableKeys</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-keyword">readonly</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt;&gt;(<span class="hljs-string">'a'</span>);
expectNotType&lt;<span class="hljs-title class_">MutableKeys</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-keyword">readonly</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt;&gt;(<span class="hljs-string">'b'</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword"><bvtag class="memorize_new_word bv_juejin_cn bv_browserName_google_chrome  burning_vocabulary  _id_1672111135594">type</bvtag></span> <span class="hljs-title class_">ImmutableKeys</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T]-?: <span class="hljs-title class_">Equal</span>&lt;
    { [Q <span class="hljs-keyword">in</span> P]: T[P] },
    { -<span class="hljs-keyword">readonly</span> [Q <span class="hljs-keyword">in</span> P]: T[P] },
    <span class="hljs-built_in">never</span>,
    P
  &gt;;
}[keyof T];

expectType&lt;<span class="hljs-title class_">ImmutableKeys</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-keyword">readonly</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt;&gt;(<span class="hljs-string">'b'</span>);
expectNotType&lt;<span class="hljs-title class_">ImmutableKeys</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-keyword">readonly</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt;&gt;(<span class="hljs-string">'a'</span>);
</code></pre>
<p>在 MutableKeys 中，我们传入本次映射的单个属性组成的接口结构，以及这一结构去除了 readonly 的版本，如果前后两个接口结构被判定为全等，那就说明这一次映射的属性不是只读的。在 ImmutableKeys 中也是，但我们调换了符合条件类型时的正反结果位置。</p>
<p>Equal 这个工具类型在很多情况下还有特殊的妙用，不妨再试试各种类型都扔进来比一比？</p><style>.markdown-body pre,.markdown-body pre>code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></div></div> <!----> <section data-v-ea27b86c="" class="book-comments"><div data-v-ea27b86c="" class="box-title">留言</div> <div data-v-4e43e7ba="" data-v-ea27b86c="" data-jj-helper="comment-container" class="container"><div data-v-733426cc="" data-v-4e43e7ba="" class="comment-form comment-form" jj-helper-item-id="7086408430491172901" jj-helper-item-type="12"><div data-v-733426cc="" class="avatar-box"><img data-v-248050e4="" data-v-47508ed8="" data-v-733426cc="" src="./17内置工具类型进阶：类型编程进阶_files/46428b69f1e5df31930b34802e488fb9_100x100.awebp" alt="" class="lazy avatar avatar" loading="lazy"></div><div data-v-733426cc="" class="form-box"><div data-v-7c7c7498="" data-v-733426cc="" class="auth-card"><!----> <div data-v-733426cc="" data-v-7c7c7498="" class="input-box"><div data-v-733426cc="" data-v-7c7c7498="" contenteditable="true" spellcheck="false" placeholder="输入评论（Enter换行，Ctrl + Enter发送）" disabled="disabled" class="rich-input empty"></div><!----></div></div><div data-v-733426cc="" class="action-box"><div data-v-9fe533ba="" data-v-733426cc="" class="emoji-container emoji-btn" style="display: none;"><div data-v-9fe533ba="" class="emoji-box"><svg data-v-9fe533ba="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-9fe533ba="" fill-rule="evenodd" clip-rule="evenodd" d="M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"></path></svg> <span data-v-9fe533ba="">表情</span></div> <!----></div><div data-v-733426cc="" class="image-btn" style="display: none;"><svg data-v-733426cc="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-733426cc="" fill-rule="evenodd" clip-rule="evenodd" d="M14 1.3335C14.3514 1.3335 14.6394 1.60546 14.6648 1.95041L14.6666 2.00016V14.0002C14.6666 14.3516 14.3947 14.6396 14.0497 14.665L14 14.6668H1.99998C1.64853 14.6668 1.36059 14.3949 1.33514 14.0499L1.33331 14.0002V2.00016C1.33331 1.64871 1.60527 1.36077 1.95023 1.33532L1.99998 1.3335H14ZM13.3333 2.66618H2.66664V13.3328H13.3333V2.66618ZM11.9219 6.7879C11.9719 6.83791 12 6.90574 12 6.97647V11.7993C12 11.9098 11.9104 11.9993 11.8 11.9993H6.81615C6.7975 11.9993 6.77945 11.9968 6.76232 11.992L3.91042 11.9847C3.79996 11.9844 3.71063 11.8947 3.7109 11.7842C3.71102 11.7313 3.73209 11.6807 3.76948 11.6433L6.52468 8.88807C6.62882 8.78393 6.79766 8.78393 6.9018 8.88807L8.17297 10.1593L11.5447 6.7879C11.6489 6.68376 11.8177 6.68376 11.9219 6.7879ZM5.99997 3.99951V5.99951H3.99997V3.99951H5.99997Z"></path></svg><span data-v-733426cc="">图片</span></div><div data-v-733426cc="" class="submit"><span data-v-733426cc="" style="display: none;">Ctrl + Enter</span><button data-v-733426cc="" disabled="disabled" class="submit-btn">发表评论</button></div></div></div><input data-v-733426cc="" type="file" class="hidden"></div> <!----> <!----></div></section></div></div></div></div> <div data-v-7f935304="" data-v-451a2155="" class="handle book-direction"><div data-v-7f935304="" class="book-handle"><div data-v-7f935304="" class="step-btn step-btn--prev"><img data-v-7f935304="" src="./17内置工具类型进阶：类型编程进阶_files/87ad47e35a060899d2234a8b5e7f378f.svg"></div> <div data-v-7f935304="" class="step-btn step-btn--next"><img data-v-7f935304="" src="./17内置工具类型进阶：类型编程进阶_files/54d8a353dfbeff543c8a513821df8caf.svg"></div></div> <!----></div></div></div></section> <!----> <!----></div> <!----> <div class="global-component-box"><div data-v-262fe4c6="" class="alert-list alert-list"></div> <!----> <!----> <!----> <!----> <!----> <!----></div> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){r.loading=a;r.skeleton=b;r.cursor=f;r.data=[];r.total=d;r.hasMore=b;return {layout:"default",data:[{}],fetch:[{bdPageUrlForNav:"https:\u002F\u002Fbd.juejin.cn?utm_campaign=bd&utm_source=web&utm_medium=nav",queryString:e,isShowUserDropdownList:a,isShowAddMoreList:a,isFocus:a,isPhoneMenuShow:a,visibleBadge:a,placeholder:e,hiddenProperty:"hidden",searchHistoryVisible:a,searchHistoryItems:[],tabBadge:c,isChangePlaceholder:b,showMallBridge:a}],error:c,state:{view:{activityIndex:{activityList:[],pageInfo:{hasNextPage:a,endCursor:e},afterPosition:e,activityListIsLoading:b,activityListIsError:a,userActivityList:[],placeholder:e,actionType:{FETCH:"@\u002Fview\u002Factivity-index\u002FFETCH",FETCH_RECOMMEND_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_RECOMMEND_LIST",RESET_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FRESET_ACTIVITY_LIST",FETCH_USER_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_USER_ACTIVITY_LIST",FETCH_NEW_COUNT:"@\u002Fview\u002Factivity-index\u002FFETCH_NEW_COUNT",DELETE_ACTIVITY:"@\u002Fview\u002Factivity-index\u002FDELETE_ACTIVITY",TOGGLE_FOLLOW_USER:"@\u002Fview\u002Factivity-index\u002FTOGGLE_FOLLOW_USER",FETCH_ENTRY_COMMENT_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_ENTRY_COMMENT_LIST",UPDATE_LIST_LOADING:"@\u002Fview\u002Factivity-index\u002FUPDATE_LIST_LOADING",RESET:"@\u002Fview\u002Factivity-index\u002FRESET"},hotList:{list:[],after:e,loading:a,hasNextPage:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FRESET"}},sidebar:{bannerList:[],actionType:{RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FUPDATE_STATE",FETCH_BANNER:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FFETCH_BANNER"},recommend:{pageSize:h,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FRESET"},after:d},followed:{pageSize:h,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FRESET"},after:d},recommendPin:{list:[],after:e,loading:a,hasNextPage:b,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FRESET"}}},topicPinList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FRESET"},topicId:e,navList:[{type:k,name:k,title:"推荐 ",id:k},{type:m,name:m,title:"热门 ",id:m},{type:p,name:p,title:"关注 ",id:p},{type:i,name:"opensource",title:"开源推荐 ",id:"5c09ea2b092dcb42c740fe73"},{type:i,name:"recruitment",title:"内推招聘",id:"5abb61e1092dcb4620ca3322"},{type:i,name:"dating",title:"掘金相亲",id:"5abcaa67092dcb4620ca335c"},{type:i,name:"slacking",title:"上班摸鱼",id:"5c106be9092dcb2cc5de7257"},{type:i,name:"app",title:"应用安利",id:"5b514af1092dcb61bd72800d"},{type:i,name:"tool",title:"开发工具",id:"5abb67d2092dcb4620ca3324"},{type:i,name:"news",title:"New资讯",id:"5c46a17f092dcb4737217152"}],sortType:q}},search:{search_result_from:d,query:e,list:[],linkList:[],loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fsearch\u002FFETCH",FETCH_MORE:"@\u002Fview\u002Fsearch\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fsearch\u002FRESET"}},columnIndex:{list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FRESET"},sort:n,category:"all"},hotList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FRESET"}}},timelineIndex:{tdkTemplates:[],categoryNavList:[],tagNavList:[],splitTagList:[],timelineAdList:[],list:[],sort:q,category:k,categoryId:e,tagId:e,tag:"全部",actionType:{FETCH_TIMELINE_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TIMELINE_LIST",FETCH_CATEGORY_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_CATEGORY_LIST",FETCH_TAG_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TAG_LIST",DELETE_ENTRY:"@\u002Fview\u002FtimelineIndex\u002FDELETE_ENTRY",DELETE_USER_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_USER_ENTRIES",DELETE_TAG_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_TAG_ENTRIES",FETCH_MORE:"@\u002Fview\u002FtimelineIndex\u002FFETCH_MORE",FETCH:"@\u002Fview\u002FtimelineIndex\u002FFETCH",RESET:"@\u002Fview\u002FtimelineIndex\u002FRESET"},serverRenderTimelineList:a,timelineList:{list:[],cursor:f,skeleton:b,loading:a,hasMore:b,categoryId:e,tagId:e,sort:e,actionType:{UPDATE_STATE:"timeline-list\u002FUPDATE_STATE",FETCH_MORE:"timeline-list\u002FFETCH_MORE",FETCH:"timeline-list\u002FFETCH",RESET:"timeline-list\u002FRESET"}},recommendList:{list:[],cursor:f,loading:a,skeleton:b,hasMore:b,actionType:{UPDATE_STATE:"recommend-list\u002FUPDATE_STATE",FETCH_MORE:"recommend-list\u002FFETCH_MORE",FETCH:"recommend-list\u002FFETCH",RESET:"recommend-list\u002FRESET"}},followingList:{list:[],cursor:f,skeleton:b,loading:a,hasMore:b,actionType:{UPDATE_STATE:"following-list\u002FUPDATE_STATE",FETCH_MORE:"following-list\u002FFETCH_MORE",FETCH:"following-list\u002FFETCH",RESET:"following-list\u002FRESET"}}},subscribe:{subscribed:{list:[],cursor:f,skeleton:b,loading:a,hasMore:a,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FRESET"}},all:{list:[],cursor:f,loading:a,skeleton:b,hasMore:a,linkList:e,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fall\u002Flist\u002FRESET"}}},entryPublic:{entry:{user:{}},relatedEntryList:[],relatedCollectionList:[],actionType:{FETCH:"@\u002Fview\u002FentryPublic\u002FFETCH",RESET:"@\u002Fview\u002FentryPublic\u002FRESET"}},user:{user:{},serverRendered:a,userAnnuals:[],actionType:{FETCH:"@\u002Fview\u002Fuser\u002FFETCH",RESET:"@\u002Fview\u002Fuser\u002FRESET",UPDATE:"@\u002Fview\u002Fuser\u002FUPDATE",FETCH_ANNUALS:"@\u002Fview\u002Fuser\u002FFETCH_ANNUALS"},detailList:{actionType:{RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FRESET"},likeList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FRESET"}},postList:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FRESET"}},searchList:{list:[],hasMore:a,skeleton:a,loading:a,key_word:e,search_type:d,cursor:f,isPostSearch:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FRESET"}},tagList:{list:[],loading:a,skeleton:b,hasMore:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FRESET"}},collectionList:{list:[],userId:e,skeleton:b,hasMore:a,cursor:f,type:"created",loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FRESET",TOGGLE_FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FTOGGLE_FOLLOW_COLLECTION",FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFOLLOW_COLLECTION",UNFOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUNFOLLOW_COLLECTION",DELELTE_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FDELELTE_COLLECTION",ADD_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FADD_COLLECTION",EDIT_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FEDIT_COLLECTION"}},followerList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FRESET"}},followingList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FRESET"}},followingTeamsList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FRESET"}},activityList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FRESET"}},bookList:{list:[],cursor:f,skeleton:b,hasMore:a,loading:a,type:"wrote",actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FRESET"}},pinList:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FRESET"}},courseList:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FRESET"}},pinPraisedList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FRESET"}},eventList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FRESET"}},selfColumnList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FRESET"}},columnFollowedList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FRESET",FILTER:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFILTER"}},realtimes:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FDELETE"}},realtimeliked:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FDELETE"}}}},tag:{tag:{},actionType:{FETCH:"@\u002Fview\u002Ftag\u002FFETCH",FETCH_LIST:"@\u002Fview\u002Ftag\u002FFETCH_LIST",RESET:"@\u002Fview\u002Ftag\u002FRESET"},list:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Ftag\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH",RESET:"@\u002Fview\u002Ftag\u002Flist\u002FRESET"}}},notification:{user:{actionType:{READ_ALL:"@\u002Fview\u002Fnotification\u002Fuser\u002FREAD_ALL",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002FRESET"},listState:{list:[],cursor:f,hasMore:a,isLoading:a,messageType:3,msgTotal:d,msgSubMap:{"1":d,"2":d,"3":d,"4":d,"7":d}},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FRESET"}}},system:{actionType:{READ_ALL:"@\u002Fview\u002Fnotification\u002Fsystem\u002FREAD_ALL",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002FRESET"},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FRESET"}}}},column:{renderPost:b,serverRenderList:a,column:{},entry:{},entryView:{},author:{},adEntryList:[],relatedEntryList:[],linkVotingList:[],userAnnuals:[],columnList:[],cachedHtml:e,showSidebar:a,actionType:{FETCH:"view\u002Fcolumn\u002FFETCH",FETCH_CACHED_HTML:"view\u002Fcolumn\u002FFETCH_CACHED_HTML",FETCH_ADDITIONAL:"view\u002Fcolumn\u002FFETCH_ADDITIONAL",FETCH_SIDEBAR_ADENTRY:"view\u002Fcolumn\u002FFETCH_SIDEBAR_ADENTRY",FETCH_AUTHOR_EXTRA:"view\u002Fcolumn\u002FFETCH_AUTHOR_EXTRA",RESET:"view\u002Fcolumn\u002FRESET"},recommendedArticleList:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,articleId:e,actionType:{UPDATE_STATE:"view\u002Fcolumn\u002Frecommend-List\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH_MORE",FETCH:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH",RESET:"view\u002Fcolumn\u002Frecommend-List\u002FRESET"}}},collection:{collection:{author:{}},actionType:{FETCH:"@\u002Fview\u002Fcollection\u002FFETCH",REFRESH:"@\u002Fview\u002Fcollection\u002FREFRESH",RESET:"@\u002Fview\u002Fcollection\u002FRESET"},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fcollection\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fcollection\u002Flist\u002FRESET"},id:e,sort:n}},gettingStarted:{category:{},actionType:{UPDATE_STATE:"@\u002Fview\u002FgettingStarted\u002FUPDATE_STATE",FOLLOW:"@\u002Fview\u002FgettingStarted\u002FFOLLOW",RESET:"@\u002Fview\u002FgettingStarted\u002FRESET",UPDATE_CATEGORY:"@\u002Fview\u002FgettingStarted\u002FUPDATE_CATEGORY"}},pin:{pin:{user:{},imageUrlList:[]},pinList:[],actionType:{FETCH:"@\u002Fview\u002Fpin\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002FRESET"},sidebar:{list:[],after:e,loading:a,isRecommend:a,hasNextPage:b,actionType:{UPDATE_STATE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002Fsidebar\u002FRESET"}},commentList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FcommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FcommentList\u002FRESET"},pinId:c},subCommentList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FRESET"},commentId:c}},topic:{topic:e,followedTopicList:[],actionType:{FETCH:"@\u002Fview\u002Ftopic\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002FUPDATE_STATE",RESET:"@\u002Fview\u002Ftopic\u002FRESET"},allTopicList:{pageSize:v,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FRESET"},sortType:m},pinlist:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FpinList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FpinList\u002FRESET"},sortType:q},sidebar:{actionType:{RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FUPDATE_STATE"},attender:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FRESET"},topicId:c}},followedList:{pageSize:v,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FRESET"},after:d}},recommendationIndex:{actionType:{FETCH_USER:"@\u002Fview\u002Frecommendation\u002FFETCH_USER",FETCH_MORE:"@\u002Fview\u002Frecommendation\u002FFETCH_MORE",RESET:"@\u002Fview\u002Frecommendation\u002FRESET",FETCH:"@\u002Fview\u002Frecommendation\u002FFETCH"},cursor:e,hasMore:e,userList:[],loading:a,skeleton:b,category:k,categoryNavList:[],serverRenderUserList:a},event:{event:{},loading:a,user:{},actionType:{FETCH:"view\u002Fevent\u002FFETCH",RESET:"view\u002Fevent\u002FRESET"}},academyIndex:{academy:{},bannerList:[],qualitiedList:[],latestList:[],offlineList:[],loading:a,user:{},actionType:{FETCH:"view\u002Facademy\u002FFETCH",RESET:"view\u002Facademy\u002FRESET"}},coursesIndex:{loading:a,list:[],sort:"online",actionType:{FETCH:"view\u002Fcourses\u002FFETCH",RESET:"view\u002Fcourses\u002FRESET",FETCH_MORE:"view\u002Fcourses\u002FFETCH_MORE"}},team:{team:{},loading:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FFETCH",RESET:"@\u002Fview\u002Fteam\u002FRESET",UPDATE:"@\u002Fview\u002Fteam\u002FUPDATE",FOLLOW:"@\u002Fview\u002Fteam\u002FFOLLOW"},detailList:{actionType:{RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002FRESET"},posts:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FRESET"}},pins:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FRESET"}},hire:{list:[],hasMore:a,cursor:f,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FRESET"}}}},couponList:{list:{"0":r,"1":r,"2":r}},payment:{selectedDiscount:{},bookletDetail:{},coupons:{availables:[],unavailables:[]},discountList:[]},activityVip:{selectedVipSku:{}}},component:{indexAside:{bannerList:[],userList:[],actionType:{FETCH_BANNER:"@\u002Fcomponent\u002Faside\u002FFETCH_BANNER",FETCH_USER:"@\u002Fcomponent\u002Faside\u002FFETCH_USER",CLOSE_BANNER:"@\u002Fcomponent\u002Faside\u002FCLOSE_BANNER"}}},ore:{oreCount:d},avatarMenuInfo:{},common:{theme:"light"},env:{ua:"Mozilla\u002F5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F108.0.0.0 Safari\u002F537.36",serverEnv:"production"},auth:{user:{id:"149971265135181",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:14,wroteBookCount:d,boughtBookCount:6,isBindedPhone:g,level:3,user_id:"149971265135181",user_name:"晨出",company:e,job_title:"大学牲一枚~",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46428b69f1e5df31930b34802e488fb9~300x300.image",power:685,phone:"18*****0775",email:e,allow_notification:a,rank_index:d,wallet_total_bill:d,description:"阳光强烈，水波温柔，愿你永远安稳喜乐",blog_address:e,is_black:a,editor_type:e,register_time:1633583079,update_time:1669860703,administrator:d,builder:d,favorable_author:d,book_author:d,phone_verified:g,wechat_verified:g,weibo_verified:d,github_verified:g,followee_count:22,follower_count:15,post_article_count:29,digg_article_count:79,view_article_count:3989,subscribe_tag_count:14,got_digg_count:109,got_view_count:12323,comment_count:23,collect_set_count:11,booklet_count:d,buy_booklet_count:6,post_shortmsg_count:6,comment_shortmsg_count:10,digg_shortmsg_count:d,ltime:d,isfollowed:a,forbidden_words:d,create_collect_set_count:11,follow_collect_set_count:d,weibo_nickname:e,wechat_nickname:"给你我的好丽友派",github_nickname:"chenwll",apply_logout:d,is_logout:d,weibo_id:e,is_new:a,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,graduated_at:-62135596800,blog_move_priority:a,tech_team:{org_id:f,org_name:e,org_icon:e,role:d},job_count:d,is_select_annual:a,select_annual_rank:d,annual_list_type:d,digg_news_count:d,news_privilege:d,digg_toutiao_count:d,follow_column_cnt:6,can_tag_cnt:3,need_lead:d,follow_topic_count:g,badges:{wear_badges:c,obtain_badges:c,obtain_count:d,show_badge:a,link_url:e},is_collect_fast:a,user_growth_info:{user_id:149971265135181,jpower:685,jscore:1051.4,jpower_level:3,jscore_level:5,jscore_title:"先锋掘友",author_achievement_list:[],vip_level:4,vip_title:"融会贯通",jscore_next_level_score:2000,jscore_this_level_mini_score:500},is_vip:b,collection_set_article_count:d,juejinPower:685,jobTitle:"大学牲一枚~",roles:{isBookAuthor:a,isFavorableAuthor:a,isCobuilder:a,isAdmin:a},username:"晨出",blogAddress:e,selfDescription:"阳光强烈，水波温柔，愿你永远安稳喜乐",beLikedCount:109,beReadCount:12323,followerCount:15,followingCount:22,collectionCount:11,createdCollectionCount:11,followingCollectionCount:d,postedPostsCount:29,pinCount:6,likedArticleCount:79,likedPinCount:d,avatar:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46428b69f1e5df31930b34802e488fb9~300x300.image",latestLoginedInAt:c,createdAt:new Date(1633583079000),updatedAt:c,phoneNumber:"18*****0775",titleDescription:e,followeesCount:22,applyEventCount:d,followTopicCnt:g},clientId:e,token:e,qrCode:c,qrCodeStatus:c,qrCodeToken:c},tag:{subscribedTagList:[]},entry:{isLikeLoading:a},collection:{},comment:{},bookComment:{},repoComment:{},category:{list:[]},user:{subscribedTagList:[]},notification:{unreadCount:{user:d,system:d,total:d}},follow:{subscribedTagList:[]},error:{location:c,errorView:c,statusCode:200,needRiskModal:a,riskAppealUrl:e},abTest:{info:{}},suspensionPanel:{needSuspension:b},pinComment:{},pin:{deleteDialogVisible:a,reportDialogVisible:a,targetPin:c,isOnFocus:a},topic:{visible:a},activity:{"2020":{},offer:{is_show:d,start_time:d},voteData:{err_no:d,err_msg:"success",data:{face:{title:e,activity_id:"4",start_time:1674144000,end_time:1675094400,status:g,image:"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F55e183b100bb45b788161fa9ec48f7a9~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F882fc263e36347ffbf6d598de520870e~tplv-k3u1fbpfcp-image.image",url:"https:\u002F\u002Fjuejin.cn\u002Fpin\u002F7190294399614451773?utm_source=popup&utm_medium=jjapp&utm_campaign=xcnewyear",is_show:g},top:{title:l,activity_id:j,start_time:s,end_time:o,status:g,image:"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F3a4113053f524820901d13b276be2774~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ff49fe994db7b4af7846259d97610bec0~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin.cn\u002Freport2022\u002Fmobile?utm_source=top",is_show:g},web_top:{title:l,activity_id:j,start_time:s,end_time:o,status:g,image:w,close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F19e7f58eecbd497c92397344e1d489a6~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin.cn\u002Freport2022\u002Fmobile?utm_source=daohang",is_show:g},plugin_top:{title:l,activity_id:j,start_time:s,end_time:o,status:g,image:w,close_image:t,url:"https:\u002F\u002Fjuejin.cn\u002Freport2022\u002Fmobile??utm_campaign=annual_2022&utm_medium=web_entrance&utm_source=gold_browser_extension",is_show:g},search_top:{title:l,activity_id:j,start_time:x,end_time:1675612799,status:g,image:y,close_image:z,url:A,is_show:g},web_search:{title:l,activity_id:j,start_time:x,end_time:o,status:g,image:y,close_image:z,url:A,is_show:g},jcode_top:{title:"码上掘金编程挑战赛",activity_id:j,start_time:1670846400,end_time:1671983999,status:B,image:t,close_image:t,url:"https:\u002F\u002Fjuejin.cn\u002Fchallenge?utm_source=code_nav",is_show:d},offer:{title:e,activity_id:"2020",start_time:1617638400,end_time:1618934400,status:B,image:"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F2879410508de459c91ae8b7509ca75f8~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fa38d640009e14c87a7d29cd95dee27dd~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin-activity.bytedance.net\u002Frank",is_show:d}}}},header:{leadStep:d,isPopupZlink:a},tcc:{tccConfig:c},route:{name:"bookInfo",path:u,hash:e,query:{},params:{id:"7086408430491172901"},fullPath:u,meta:{},from:{name:c,path:C,hash:e,query:{},params:{},fullPath:C,meta:{}}}},serverRendered:b,routePath:u,config:{API_HOST:"api.juejin.cn",CAPTCHA_HOST:"verify.snssdk.com",PLATFORM_APPID:{wechat:1277,weibo:1276,github:1045,wechatApp:1070},SCM_VERSION:"1.0.0.6280",http:{}},globalRefs:{}}}(false,true,null,0,"","0",1,20,"topic","2022","recommended","开启我的2022年度报告","hot","newest",1675612800,"following","popular",{},1673020800,"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F759e2aa805c0461b840e0f0f09ed05fa~tplv-k3u1fbpfcp-zoom-1.image?","\u002Fbook\u002F7086408430491172901",100,"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F0cb52d4a506e44aba88bc0f2e8a8b2b7~tplv-k3u1fbpfcp-zoom-1.image",1672797600,"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F8a41831fce8b4c838f1807b2c86aea06~tplv-k3u1fbpfcp-zoom-1.image","https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fe5199830276c4a85bc7c8cb8edecd54d~tplv-k3u1fbpfcp-image.image","https:\u002F\u002Fjuejin.cn\u002Freport2022\u002Fmobile?utm_source=search",2,"\u002F"));</script><script src="./17内置工具类型进阶：类型编程进阶_files/79bfdb8.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/b99f4a9.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/9f0e41e.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/902f2b7.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/8892b08.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/584863e.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/cb6f7b9.js.download" defer=""></script><script src="./17内置工具类型进阶：类型编程进阶_files/67b2a2c.js.download" defer=""></script>
  

<link href="./17内置工具类型进阶：类型编程进阶_files/68.9903b36.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/2.01a6f73.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/6.98d497d.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/9.7f44097.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/default.e99f101.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/196.e1b9b5f.css" rel="stylesheet" type="text/css"><div data-transfer="true" class="risk-modal byte-modal v-transfer-dom" align-center=""><div class="byte-modal__mask" style="z-index: 1000; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1000; display: none;"><div class="byte-modal__content" style="width: 350px;"><!----><div class="byte-modal__body"><div class="risk-modal-inner"><div class="risk-modal-title">温馨提示</div> <div>当前操作失败，如有疑问，可点击申诉</div> <div class="risk-modal-footer"><button type="button" class="cancel-button risk-button byte-btn byte-btn--default byte-btn--large"><!----><!----><span><span>前往申诉</span></span></button> <button type="button" class="risk-button byte-btn byte-btn--primary byte-btn--large"><!----><!----><span><span>我知道了</span></span></button></div></div></div><!----></div></div></div><pagenote-root><pagenote-bar data-pagenote="sidebar"></pagenote-bar><pagenote-annotations></pagenote-annotations></pagenote-root><div class="memorize_new_word_loading" style="display: none;"></div><div class="bv-shadow-dom bv-shadow-dom-fade_out" style="top: 361px; left: 1329.39px; transform-origin: 36.75px -6px;"><div class="bv-shadow-dom-container"></div></div><link href="./17内置工具类型进阶：类型编程进阶_files/136.6a4a58a.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/180.273fb5b.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/190.2a5a904.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/22.4893fa3.css" rel="stylesheet" type="text/css"><div data-v-41eefe39="" data-transfer="true" class="lead byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1001; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1001; display: none;"><div class="byte-modal__content" style="width: 500px;"><div class="byte-modal__header"><img data-v-41eefe39="" src="./17内置工具类型进阶：类型编程进阶_files/MaskGroup.13dfc4f.png" alt="" loading="lazy" class="header-bgc"> <span data-v-41eefe39="" class="header-title">选择你感兴趣的技术方向</span><span aria-label="Close" class="byte-modal__headerbtn"><i class="byte-icon byte-icon--close"><svg t="1561638608887" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="441911" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M512 448l288-288c6.4-6.4 19.2-6.4 32 0l25.6 32c6.4 6.4 6.4 19.2 0 32L569.6 505.6l288 288c6.4 6.4 6.4 19.2 0 32l-32 32c-6.4 6.4-19.2 6.4-32 0L512 569.6l-288 288c-6.4 6.4-19.2 6.4-32 0l-32-32c-6.4-6.4-6.4-19.2 0-32L448 505.6 160 224c-6.4-12.8-6.4-25.6 0-32l32-32c6.4-6.4 19.2-6.4 32 0L512 448z" p-id="441912"></path><path d="M512 448l288-288c6.4-6.4 19.2-6.4 32 0l25.6 32c6.4 6.4 6.4 19.2 0 32L569.6 505.6l288 288c6.4 6.4 6.4 19.2 0 32l-32 32c-6.4 6.4-19.2 6.4-32 0L512 569.6l-288 288c-6.4 6.4-19.2 6.4-32 0l-32-32c-6.4-6.4-6.4-19.2 0-32L448 505.6 160 224c-6.4-12.8-6.4-25.6 0-32l32-32c6.4-6.4 19.2-6.4 32 0L512 448z" p-id="441913"></path></svg></i></span></div><div class="byte-modal__body"> <div data-v-41eefe39="" class="classify-box"><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C1.44772 2.5 1 2.94772 1 3.5V11.5C1 12.0523 1.44772 12.5 2 12.5H14C14.5523 12.5 15 12.0523 15 11.5V3.5C15 2.94772 14.5523 2.5 14 2.5H2ZM4.5 7.5C4.22386 7.5 4 7.72386 4 8V10C4 10.2761 4.22386 10.5 4.5 10.5H5C5.27614 10.5 5.5 10.2761 5.5 10V8C5.5 7.72386 5.27614 7.5 5 7.5H4.5ZM7 5.5C7 5.22386 7.22386 5 7.5 5H8C8.27614 5 8.5 5.22386 8.5 5.5V10C8.5 10.2761 8.27614 10.5 8 10.5H7.5C7.22386 10.5 7 10.2761 7 10V5.5ZM10.5 6.5C10.2239 6.5 10 6.72386 10 7V10C10 10.2761 10.2239 10.5 10.5 10.5H11C11.2761 10.5 11.5 10.2761 11.5 10V7C11.5 6.72386 11.2761 6.5 11 6.5H10.5Z" fill="#86909C"></path><rect data-v-41eefe39="" id="Rectangle 282" x="3" y="13.5" width="10" height="1.3" rx="0.5" fill="#86909C"></rect></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              后端
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C1.44772 2.5 1 2.94772 1 3.5V6.5H15V3.5C15 2.94772 14.5523 2.5 14 2.5H2ZM15 7.8H1V13.5C1 14.0523 1.44772 14.5 2 14.5H14C14.5523 14.5 15 14.0523 15 13.5V7.8ZM8.65811 8.52566C8.92009 8.61298 9.06167 8.89614 8.97434 9.15811L7.97434 12.1581C7.88702 12.4201 7.60386 12.5617 7.34189 12.4743C7.07991 12.387 6.93833 12.1039 7.02566 11.8419L8.02566 8.84189C8.11298 8.57991 8.39614 8.43833 8.65811 8.52566ZM3.5 5.5C3.77614 5.5 4 5.27614 4 5C4 4.72386 3.77614 4.5 3.5 4.5C3.22386 4.5 3 4.72386 3 5C3 5.27614 3.22386 5.5 3.5 5.5ZM5.5 5C5.5 5.27614 5.27614 5.5 5 5.5C4.72386 5.5 4.5 5.27614 4.5 5C4.5 4.72386 4.72386 4.5 5 4.5C5.27614 4.5 5.5 4.72386 5.5 5ZM6.5 5.5C6.77614 5.5 7 5.27614 7 5C7 4.72386 6.77614 4.5 6.5 4.5C6.22386 4.5 6 4.72386 6 5C6 5.27614 6.22386 5.5 6.5 5.5ZM6.44721 9.27639C6.57071 9.52338 6.4706 9.82372 6.22361 9.94721L5.11803 10.5L6.22361 11.0528C6.4706 11.1763 6.57071 11.4766 6.44721 11.7236C6.32372 11.9706 6.02338 12.0707 5.77639 11.9472L3.77639 10.9472C3.607 10.8625 3.5 10.6894 3.5 10.5C3.5 10.3106 3.607 10.1375 3.77639 10.0528L5.77639 9.05279C6.02338 8.92929 6.32372 9.0294 6.44721 9.27639ZM9.77639 9.94721C9.5294 9.82372 9.42929 9.52338 9.55279 9.27639C9.67628 9.0294 9.97662 8.92929 10.2236 9.05279L12.2236 10.0528C12.393 10.1375 12.5 10.3106 12.5 10.5C12.5 10.6894 12.393 10.8625 12.2236 10.9472L10.2236 11.9472C9.97662 12.0707 9.67628 11.9706 9.55279 11.7236C9.42929 11.4766 9.5294 11.1763 9.77639 11.0528L10.882 10.5L9.77639 9.94721Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              前端
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><rect data-v-41eefe39="" id="Rectangle 287" x="5.7002" y="12.5" width="1.3" height="3" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 289" x="1" y="6.5" width="1.3" height="6" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 290" x="13.7002" y="6.5" width="1.3" height="6" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 288" x="9" y="12.5" width="1.3" height="3" rx="0.5" fill="#86909C"></rect><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M13 5.86364V12.5C13 13.0523 12.5523 13.5 12 13.5H4C3.44772 13.5 3 13.0523 3 12.5V5.86364V5.77273C3 5.74067 3.00151 5.70897 3.00446 5.67768C3.11608 3.35397 5.30996 1.5 8 1.5C10.69 1.5 12.8839 3.35397 12.9955 5.67768C12.9985 5.70897 13 5.74067 13 5.77273V5.86364ZM7 6.25C7 6.66421 6.66421 7 6.25 7C5.83579 7 5.5 6.66421 5.5 6.25C5.5 5.83579 5.83579 5.5 6.25 5.5C6.66421 5.5 7 5.83579 7 6.25ZM9.75 7C10.1642 7 10.5 6.66421 10.5 6.25C10.5 5.83579 10.1642 5.5 9.75 5.5C9.33579 5.5 9 5.83579 9 6.25C9 6.66421 9.33579 7 9.75 7Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              Android
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39=""><g data-v-41eefe39="" id="pingguo-2 1"><path data-v-41eefe39="" id="Vector" d="M11.821 8.9388C11.8035 7.16562 13.267 6.31556 13.3322 6.27312C12.5097 5.06956 11.2287 4.90506 10.7724 4.88581C9.6821 4.77556 8.64523 5.52763 8.09179 5.52763C7.5401 5.52763 6.6861 4.902 5.78179 4.91863C4.59354 4.93613 3.49761 5.60944 2.88598 6.67387C1.65136 8.8163 2.56967 11.9899 3.77323 13.7277C4.36123 14.5782 5.06254 15.5332 5.98304 15.4991C6.86942 15.4637 7.20498 14.9255 8.27642 14.9255C9.34785 14.9255 9.64929 15.4991 10.5877 15.4816C11.5415 15.4637 12.1461 14.6149 12.7302 13.7618C13.4052 12.7752 13.6835 11.8197 13.6997 11.7707C13.6787 11.7611 11.8394 11.0567 11.821 8.9388ZM10.0584 3.73563C10.547 3.14281 10.8769 2.32031 10.7868 1.5C10.0829 1.52888 9.22973 1.969 8.72485 2.56006C8.2716 3.08463 7.87523 3.922 7.98154 4.72613C8.76729 4.78737 9.56923 4.32669 10.0584 3.73563Z" fill="#86909C"></path></g></g><defs data-v-41eefe39=""></defs></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              iOS
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><rect data-v-41eefe39="" id="Rectangle 289" x="1" y="8.5" width="1.3" height="5" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 292" x="14" y="8.5" width="1.3" height="5" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 293" x="7.5" y="4.5" width="1" height="3" rx="0.5" fill="#86909C"></rect><circle data-v-41eefe39="" id="Ellipse 25" cx="8" cy="2.5" r="1" fill="#86909C"></circle><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 6.94772 3.44772 6.5 4 6.5H12C12.5523 6.5 13 6.94772 13 7.5V14.5C13 15.0523 12.5523 15.5 12 15.5H4C3.44772 15.5 3 15.0523 3 14.5V7.5ZM7 11.25C7 11.6642 6.66421 12 6.25 12C5.83579 12 5.5 11.6642 5.5 11.25C5.5 10.8358 5.83579 10.5 6.25 10.5C6.66421 10.5 7 10.8358 7 11.25ZM9.75 12C10.1642 12 10.5 11.6642 10.5 11.25C10.5 10.8358 10.1642 10.5 9.75 10.5C9.33579 10.5 9 10.8358 9 11.25C9 11.6642 9.33579 12 9.75 12Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              人工智能
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><g data-v-41eefe39="" id="kaifagongjuicon-hui 1"><path data-v-41eefe39="" id="Vector" d="M14.212 5.04986L13.497 5.76886C13.3158 5.95088 13.1005 6.09531 12.8633 6.19386C12.6261 6.29242 12.3718 6.34315 12.115 6.34315C11.8582 6.34315 11.6039 6.29242 11.3667 6.19386C11.1295 6.09531 10.9142 5.95088 10.733 5.76886C10.3664 5.39915 10.1606 4.89955 10.1606 4.37886C10.1606 3.85817 10.3664 3.35857 10.733 2.98886L11.448 2.26986C11.843 1.87286 11.579 1.40486 10.868 1.51686C10.028 1.64786 9.262 2.07586 8.709 2.72286C8.005 3.41786 7.682 4.66486 7.922 5.81786L1.927 11.8469C1.56096 12.2165 1.35562 12.7157 1.35562 13.2359C1.35562 13.7561 1.56096 14.2552 1.927 14.6249C2.10804 14.807 2.32329 14.9515 2.56038 15.0501C2.79747 15.1487 3.05172 15.1995 3.3085 15.1995C3.56528 15.1995 3.81953 15.1487 4.05662 15.0501C4.29371 14.9515 4.50896 14.807 4.69 14.6249L10.686 8.59486C11.2693 8.7189 11.8745 8.69473 12.446 8.52459C13.0176 8.35444 13.5375 8.04373 13.958 7.62086C14.5581 7.01861 14.9243 6.22244 14.991 5.37486C15.071 4.91886 14.607 4.65286 14.212 5.04986ZM3.768 13.6979C3.67659 13.7885 3.56041 13.85 3.4341 13.8747C3.30779 13.8994 3.17699 13.8861 3.05819 13.8366C2.93939 13.7871 2.8379 13.7036 2.76651 13.5965C2.69511 13.4894 2.65701 13.3636 2.657 13.2349C2.65647 13.0618 2.72462 12.8957 2.84649 12.7729C2.96836 12.6501 3.13399 12.5807 3.307 12.5799C3.487 12.5799 3.651 12.6529 3.768 12.7719C3.888 12.8889 3.96 13.0539 3.96 13.2349C3.9604 13.3209 3.94363 13.4062 3.91066 13.4857C3.87769 13.5652 3.82919 13.6373 3.768 13.6979ZM3.118 5.16786L5.377 7.43986L6.297 6.51286L4.04 4.24286L3.535 3.27086L1.92 2.11186L1 3.03986L2.151 4.66086L3.118 5.16786ZM10.672 9.98586C10.642 9.95526 10.6062 9.93095 10.5667 9.91436C10.5272 9.89776 10.4848 9.88921 10.442 9.88921C10.3992 9.88921 10.3568 9.89776 10.3173 9.91436C10.2778 9.93095 10.242 9.95526 10.212 9.98586L8.83 11.3759C8.79955 11.4062 8.7754 11.4423 8.75891 11.482C8.74243 11.5218 8.73395 11.5644 8.73395 11.6074C8.73395 11.6504 8.74243 11.693 8.75891 11.7327C8.7754 11.7724 8.79955 11.8085 8.83 11.8389L12.09 15.1169C12.2106 15.2383 12.3541 15.3348 12.5122 15.4006C12.6703 15.4663 12.8398 15.5002 13.011 15.5002C13.1822 15.5002 13.3517 15.4663 13.5098 15.4006C13.6679 15.3348 13.8114 15.2383 13.932 15.1169C14.442 14.6049 14.442 13.7769 13.932 13.2639L10.672 9.98586Z" fill="#86909C"></path></g></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              开发工具
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M1 2.5C1 1.94772 1.44772 1.5 2 1.5H14C14.5523 1.5 15 1.94772 15 2.5V14.5C15 15.0523 14.5523 15.5 14 15.5H2C1.44772 15.5 1 15.0523 1 14.5V2.5ZM3 5C3 4.72386 3.22386 4.5 3.5 4.5H12.5C12.7761 4.5 13 4.72386 13 5V5.3C13 5.57614 12.7761 5.8 12.5 5.8H3.5C3.22386 5.8 3 5.57614 3 5.3V5ZM3.5 7.5C3.22386 7.5 3 7.72386 3 8V8.3C3 8.57614 3.22386 8.8 3.5 8.8H4.5C4.77614 8.8 5 8.57614 5 8.3V8C5 7.72386 4.77614 7.5 4.5 7.5H3.5ZM7 8C7 7.72386 7.22386 7.5 7.5 7.5H8.5C8.77614 7.5 9 7.72386 9 8V8.3C9 8.57614 8.77614 8.8 8.5 8.8H7.5C7.22386 8.8 7 8.57614 7 8.3V8ZM11.5 7.5C11.2239 7.5 11 7.72386 11 8V8.3C11 8.57614 11.2239 8.8 11.5 8.8H12.5C12.7761 8.8 13 8.57614 13 8.3V8C13 7.72386 12.7761 7.5 12.5 7.5H11.5ZM3 11C3 10.7239 3.22386 10.5 3.5 10.5H7.5C7.77614 10.5 8 10.7239 8 11V11.3C8 11.5761 7.77614 11.8 7.5 11.8H3.5C3.22386 11.8 3 11.5761 3 11.3V11ZM10.5 10.5C10.2239 10.5 10 10.7239 10 11V11.3C10 11.5761 10.2239 11.8 10.5 11.8H12.5C12.7761 11.8 13 11.5761 13 11.3V11C13 10.7239 12.7761 10.5 12.5 10.5H10.5Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              代码人生
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M14.9187 7.03385C15.0999 7.26744 14.9466 7.7 14.651 7.7H6.32905V4.5H5.02905V7.7H3.6C2.16406 7.7 1 6.53594 1 5.1C1 3.66406 2.16406 2.5 3.6 2.5H14.651C14.9466 2.5 15.0999 2.93257 14.9188 3.16616C14.5064 3.69779 14.2602 4.36959 14.2602 5.10001C14.2602 5.83043 14.5064 6.50222 14.9187 7.03385Z" fill="#86909C"></path><path data-v-41eefe39="" id="Subtract_2" fill-rule="evenodd" clip-rule="evenodd" d="M1.34902 14.5008C1.0534 14.5008 0.900077 14.0682 1.08126 13.8346C1.49363 13.303 1.7398 12.6312 1.7398 11.9008C1.7398 11.1704 1.49362 10.4986 1.08125 9.96694C0.900064 9.73335 1.05339 9.30078 1.34901 9.30078H12.4C13.8359 9.30078 15 10.4648 15 11.9008C15 13.3367 13.8359 14.5008 12.4 14.5008H1.34902Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              阅读
            </span></div></div></div></div> <!----></div><div class="byte-modal__footer"><div data-v-41eefe39="" class="left">跳过</div> <div data-v-41eefe39="" class="mid" style="display: none;">上一步</div> <div data-v-41eefe39="" class="right">
      至少选择1个分类
    </div></div></div></div></div><div data-v-8bb78912="" data-transfer="true" class="upgrade-new-modal byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1002; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1002; display: none;"><div class="byte-modal__content" style="width: 311px;"><div class="byte-modal__header"><span class="byte-modal__title"></span><!----></div><div class="byte-modal__body"> <!----> <div data-v-8bb78912="" class="close-icon"><img data-v-8bb78912="" src="./17内置工具类型进阶：类型编程进阶_files/8867e249c23a7c0ea596c139befc04d7.svg" alt=""></div></div><!----></div></div></div><link href="./17内置工具类型进阶：类型编程进阶_files/8.4ebc7e8.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/157.6f58300.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/63.81176ea.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/156.2361d2d.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/11.e06cf08.css" rel="stylesheet" type="text/css"><link href="./17内置工具类型进阶：类型编程进阶_files/85.afe25d0.css" rel="stylesheet" type="text/css"></body></html>