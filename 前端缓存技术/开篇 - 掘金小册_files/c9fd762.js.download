(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1062:function(t,e,o){t.exports=o.p+"5e2cfe768dbb98a0bf497ff46eec11fe.svg"},1063:function(t,e,o){t.exports=o.p+"37ca4f63b2d6ce3142b550147fe4476c.svg"},1064:function(t,e,o){"use strict";o(988)},1073:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{d:"M14.3029 3.69629L8.99959 8.99957L3.69629 14.3029",stroke:"#8A919F","stroke-width":"1.5","stroke-linecap":"round"}}),o("path",{attrs:{d:"M3.69629 3.69629L8.99959 8.99957L14.3029 14.3029",stroke:"#8A919F","stroke-width":"1.5","stroke-linecap":"round"}})]))}}},1100:function(t,e,o){"use strict";var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[this._v("未登录")]),this._v(" "),e("div",{staticClass:"desc"},[this._v("注册或登录后即可继续操作")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("img",{attrs:{src:o(1062)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("img",{attrs:{src:o(1063)}})])}],r=o(14),c={data:function(){return{show:!1}},computed:{isWechat:function(){return Object(r.i)()}},filters:{},methods:{loginWithWechat:function(){return this.$getBean("oauthBusiness").loginWithWechat()},close:function(){this.show=!1},authoLogin:function(){this.show=!1,this.$requestLogin()}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.AUTH_WECHAT_QUICK_LOGIN,(function(){t.$requestLogin()}))}},l=(o(1064),o(30)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.show?o("div",{staticClass:"wechat-quick-login"},[o("div",{staticClass:"quick-box"},[t._m(0),t._v(" "),o("div",{staticClass:"auth-box"},[o("div",{staticClass:"auth-btn wx",on:{click:t.loginWithWechat}},[t._m(1),t._v(" "),o("span",[t._v("微信快捷登录")])]),t._v(" "),o("div",{staticClass:"auth-btn jj",on:{click:t.authoLogin}},[t._m(2),t._v(" "),o("span",[t._v("稀土掘金账号登录")])])]),t._v(" "),o("div",{staticClass:"agreement-box"},[t._v("\n      注册登录即表示同意\n      "),o("a",{directives:[{name:"link",rawName:"v-link.blank",value:"/terms",expression:"'/terms'",modifiers:{blank:!0}}]},[t._v("用户协议")]),t._v("\n      、\n      "),o("a",{directives:[{name:"link",rawName:"v-link.blank",value:"/privacy",expression:"'/privacy'",modifiers:{blank:!0}}]},[t._v("隐私政策")])]),t._v(" "),o("div",{staticClass:"footer"},[o("div",{staticClass:"box",on:{click:t.close}},[t._v("取消")])])])]):t._e()}),n,!1,null,"3a1cf91f",null);e.a=component.exports},1102:function(t,e,o){"use strict";o(39),o(45);var n=o(6),r=o(85),c=o(165),l=o(29),d=o(104),m=Object(n.b)({components:{BTooltip:r.Tooltip},props:{bookInfo:{type:Object,default:function(){return{}}},eventPage:{type:String,default:""}},emits:["read","fetch"],setup:function(t,e){var o=Object(n.a)((function(){var t,o;return(null===(o=null===(t=e.root.$store.state)||void 0===t?void 0:t.auth)||void 0===o?void 0:o.user)||null})),r=e.root.$getBean("eventBus"),m=Object(n.w)(),f=Object(n.a)((function(){var e,n,r;if(t.bookInfo.isBorrowing){var c=null===(n=null===(e=t.bookInfo)||void 0===e?void 0:e.reading_progress)||void 0===n?void 0:n.last_section_id;return"0"!==c&&c?"继续学习":"立即学习"}return(null===(r=t.bookInfo)||void 0===r?void 0:r.borrowTimes)>0&&o.value.is_vip?"再次借阅":"VIP借阅"})),h=Object(n.a)((function(){return t.bookInfo.isBorrowing?"有效期至 ".concat(Object(l.b)(1e3*t.bookInfo.validEndTime,"YYYY-MM-DD")):"借过".concat(t.bookInfo.borrowTimes,"次")})),v=Object(n.f)("refreshBook",(function(){return null})),_=Object(d.b)((function(){e.emit("fetch"),v()}),500);Object(n.j)((function(){r.on(r.eventType.SHOW_VIP_FETCH,(function(){_()}))})),Object(n.k)((function(){r.off(r.eventType.SHOW_VIP_FETCH)}));return{buttonVipTitle:f,buttonVipDescript:h,handleClick:function(){var n={event_page:t.eventPage,book_id:t.bookInfo.id,author_id:t.bookInfo.user_info.user_id,platform:e.root.$device.isMobile?"h5":"web"};return e.root.$TEA("member_rent_click",n),o.value?o.value.isBindedPhone?void(t.bookInfo.isBorrowing?e.emit("read"):o.value.is_vip?r.emit(r.eventType.SHOW_VIP_BORROW_MODAL,t.bookInfo,n):m.push({name:"vipIndex",query:{utm_source:window.location.pathname.includes("section")?"course_section":"course_detail"}})):e.root.$requestBindPhoneNumber(c.c,{toUrl:location.href}):e.root.$requestLogin()},currentUser:o}}}),f=(o(1262),o(30)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.bookInfo.canVipBorrow?n("div",{staticClass:"vip-borrow-button"},[n("BTooltip",{staticClass:"tooltip",attrs:{content:"如果您下单购买了借阅中或曾经借阅过的课程，我们将把消耗的借阅卡退还给您，每门课程最多退还1张",theme:"light",placement:"bottom",disabled:!t.bookInfo.isBorrowing||t.$device.isMobile,"max-width":"244px"}},[n("div",{staticClass:"vip-borrow",on:{click:t.handleClick}},[t.bookInfo.isBorrowing?n("img",{staticClass:"mark",attrs:{src:o(1261),alt:"借阅中"}}):t._e(),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.buttonVipTitle))]),t._v(" "),t.bookInfo.borrowTimes>0&&t.currentUser.is_vip?n("div",{staticClass:"descript"},[t._v("\n        "+t._s(t.buttonVipDescript)+"\n      ")]):t._e()])])],1):t._e()}),[],!1,null,"7674da1f",null);e.a=component.exports},1114:function(t,e,o){},1115:function(t,e,o){},1170:function(t,e,o){"use strict";o(38);var n=o(6),r=o(1051),c=o(873),l=Object(n.b)({components:{SaleTooltip:r.a},props:{book:{type:Object,default:function(){return{}}},isOwner:{type:Boolean,default:!1},sectionRoute:{type:Object,default:function(){return{}}},isFloatDiscountLabel:{type:Boolean,default:!1}},emits:["buyBook"],setup:function(t,e){var o,r=e.emit;return{isWap:null===(o=e.root.$device)||void 0===o?void 0:o.isMobile,bookId:Object(n.a)((function(){var e;return(null===(e=t.book)||void 0===e?void 0:e.booklet_id)||""})),hasReadSection:Object(n.a)((function(){var e,o;return!!(null===(o=null===(e=t.book)||void 0===e?void 0:e.reading_progress)||void 0===o?void 0:o.last_section_id)})),hasBorrow:Object(n.a)((function(){var e,o;return!!(null===(o=null===(e=t.book)||void 0===e?void 0:e.reading_progress)||void 0===o?void 0:o.borrow_times)})),hasDiscount:Object(n.a)((function(){var e,o;return(null===(e=t.book.max_discount)||void 0===e?void 0:e.pay_money)!==(null===(o=t.book.max_discount)||void 0===o?void 0:o.price)})),currentPrice:Object(n.a)((function(){var e;return Object(c.d)((null===(e=t.book.max_discount)||void 0===e?void 0:e.pay_money)||0)})),originPrice:Object(n.a)((function(){var e;return Object(c.d)((null===(e=t.book.max_discount)||void 0===e?void 0:e.price)||0)})),showLabel:Object(n.a)((function(){var e;return(null===(e=t.book.max_discount)||void 0===e?void 0:e.name)||""})),buyBook:function(){r("buyBook")}}}}),d=(o(1263),o(30)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-buy-button-wrap",class:{"discount-label-show":t.showLabel&&!t.isOwner&&!t.hasBorrow,"discount-label-float":t.isFloatDiscountLabel}},[!t.showLabel||t.isOwner||t.hasBorrow?t._e():o("SaleTooltip",{staticClass:"sale-tooltip-entry",attrs:{book:t.book,"is-count-down":!t.isWap,"is-float-discount-label":t.isFloatDiscountLabel}}),t._v(" "),o("div",{staticClass:"book-buy-button"},[t.isOwner?o("router-link",{staticClass:"book-owner",attrs:{"data-book-id":t.bookId,to:t.sectionRoute}},[t._v("\n      "+t._s(t.hasReadSection?"继续学习":"立即学习")+"\n    ")]):o("div",{staticClass:"buy-button",on:{click:function(e){return e.stopPropagation(),t.buyBook(e)}}},[o("div",{staticClass:"price-box",class:{"price-box-line":!(t.hasBorrow||t.hasDiscount)}},[o("span",{staticClass:"price-unit"},[t._v("¥")]),t._v(" "),o("span",[t._v("\n          "+t._s(t.currentPrice+" 立即购买")+"\n        ")])]),t._v(" "),t.hasBorrow?o("div",{staticClass:"borrow-desc"},[t._v("\n        "+t._s("退还 1 张借阅卡")+"\n      ")]):t.hasDiscount?o("div",{staticClass:"origin-price"},[t._v("\n        "+t._s("原价 ¥"+t.originPrice)+"\n      ")]):t._e()])],1)],1)}),[],!1,null,"495d186a",null);e.a=component.exports},1180:function(t,e,o){"use strict";o.d(e,"a",(function(){return f}));o(7),o(23);var n=o(5),r=o(8),c=o(99),l=o(17),d=o(14),m=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1e3,t.abrupt("return",setTimeout((function(){return Promise.resolve()}),e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function f(t){return h.apply(this,arguments)}function h(){return(h=Object(n.a)(regeneratorRuntime.mark((function t(e){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||Object(d.g)()){t.next=17;break}if(localStorage.getItem(l.a.userFirstVisitDispatchCoupon)!==e){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,c.a.UserCouponReceiveDiscountFirstOrder({},{showError:!1});case 7:if((null==(o=t.sent)?void 0:o.err_no)!==r.ERROR_NO.OK){t.next=12;break}return localStorage.setItem(l.a.userFirstVisitDispatchCoupon,e),t.next=12,m();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("userFirstVisitDispatchCoupon api request error:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))).apply(this,arguments)}},1214:function(t,e,o){"use strict";o(19),o(18),o(13),o(7),o(16);var n=o(0),r=o(41),c=o(768);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var d={data:function(){return{enterTime:0}},mounted:function(){this.handleVisibilityChange(),Object(r.o)(this.handleVisibilityChange)},methods:{recordPageStayTime:function(){if(this.enterTime){var t;t=(new Date-this.enterTime)/1e3;var e=Object(c.b)();this.$TEA("article_detail_leave",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({article_id:this.$route.params.id,read_time:t},e)),this.enterTime=0}},handleVisibilityChange:function(){var t=Object(r.d)();document[t]?this.recordPageStayTime():this.enterTime=new Date}},beforeDestroy:function(){Object(r.q)(this.handleVisibilityChange)}},m=o(30),component=Object(m.a)(d,void 0,void 0,!1,null,null,null);e.a=component.exports},1261:function(t,e,o){t.exports=o.p+"d9fd35ba8ea6d69f1746f621a0dd8433.svg"},1262:function(t,e,o){"use strict";o(1114)},1263:function(t,e,o){"use strict";o(1115)},1283:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{d:"M3.5683 16.6721C4.83689 15.0647 4.67148 12.732 4.93583 11.0928C14.9591 22.2167 22.2842 29.5021 24.7168 31.6872L22.5492 35.7053C19.4193 34.0134 15.6759 30.5945 14.1955 29.0966C10.8122 25.0256 5.64796 18.9631 3.5683 16.6721Z",fill:"url(#paint0_linear_12722_147437)"}}),o("path",{attrs:{d:"M36.7731 27.0578C37.2688 25.1263 37.3392 24.0411 37.459 23.4082C33.2726 28.2101 26.244 30.2321 23.3198 30.6597L22.5447 35.7006C29.3924 33.8083 34.4646 30.1351 36.6706 28.7842C36.6706 28.0724 36.6706 27.7928 36.7731 27.0578Z",fill:"url(#paint1_linear_12722_147437)"}}),o("path",{attrs:{d:"M37.5098 23.3065L35.8166 22.0752H13.3974C16.8039 27.1232 21.3836 30.3351 23.2476 31.31C31.6202 29.5863 36.2443 25.2561 37.5098 23.3065Z",fill:"url(#paint2_linear_12722_147437)"}}),o("mask",{staticStyle:{"mask-type":"alpha"},attrs:{id:"mask0_12722_147437",maskUnits:"userSpaceOnUse",x:"13",y:"22",width:"25",height:"10"}},[o("path",{attrs:{d:"M37.5098 23.3055L35.8166 22.0742H13.3974C16.8039 27.1222 21.3836 30.3341 23.2476 31.3091C31.6202 29.5853 36.2443 25.2551 37.5098 23.3055Z",fill:"url(#paint3_linear_12722_147437)"}})]),o("g",{attrs:{mask:"url(#mask0_12722_147437)"}},[o("g",{attrs:{filter:"url(#filter0_f_12722_147437)"}},[o("circle",{attrs:{cx:"26.2133",cy:"28.5737",r:"5.71429",fill:"#FF8A20"}})]),o("g",{attrs:{filter:"url(#filter1_f_12722_147437)"}},[o("ellipse",{attrs:{cx:"19.6493",cy:"27.6663",rx:"6.64769",ry:"1.56414",transform:"rotate(36.9547 19.6493 27.6663)",fill:"#CB6100"}})])]),o("path",{attrs:{d:"M4.93372 11.0962C8.09408 9.16724 15.5873 6.29083 18.9389 5.09375C31.8163 18.8943 34.8602 20.4676 36.8955 21.3055C35.9926 26.3538 27.3188 29.1207 23.0949 29.8731C19.8525 29.1344 15.6559 24.8454 13.9629 22.7933C10.3922 19.0174 6.45567 13.422 4.93372 11.0962Z",fill:"#FFE7D0"}}),o("path",{attrs:{d:"M4.93372 11.0962C8.09408 9.16724 15.5873 6.29083 18.9389 5.09375C31.8163 18.8943 34.8602 20.4676 36.8955 21.3055C35.9926 26.3538 27.3188 29.1207 23.0949 29.8731C19.8525 29.1344 15.6559 24.8454 13.9629 22.7933C10.3922 19.0174 6.45567 13.422 4.93372 11.0962Z",fill:"url(#paint4_linear_12722_147437)"}}),o("mask",{staticStyle:{"mask-type":"alpha"},attrs:{id:"mask1_12722_147437",maskUnits:"userSpaceOnUse",x:"3",y:"11",width:"35",height:"25"}},[o("path",{attrs:{d:"M4.79177 12.4227C4.66691 13.846 4.52534 15.4598 3.56934 16.6711C5.649 18.9622 10.8132 25.0247 14.1965 29.0956C15.677 30.5936 19.4204 34.0125 22.5502 35.7043L22.5528 35.6995C28.4327 34.0734 33.0028 31.1347 35.5722 29.4826C35.9936 29.2116 36.3611 28.9753 36.6718 28.785C36.6718 28.0732 36.6718 27.7936 36.7744 27.0586C37.1362 25.6489 37.2714 24.69 37.3646 24.0288C37.3991 23.784 37.4279 23.58 37.4602 23.409C33.3887 28.0792 27.5682 30.6782 23.2919 31.2286C16.6699 27.9153 11.4209 19.7455 4.93677 11.1084C4.87163 11.5123 4.83259 11.9573 4.79177 12.4227Z",fill:"url(#paint5_linear_12722_147437)"}})]),o("g",{attrs:{mask:"url(#mask1_12722_147437)"}},[o("g",{attrs:{filter:"url(#filter2_f_12722_147437)"}},[o("ellipse",{attrs:{cx:"27.4586",cy:"29.6756",rx:"5.25605",ry:"3.91825",transform:"rotate(-20.7799 27.4586 29.6756)",fill:"#FFE4CC","fill-opacity":"0.6"}})]),o("path",{attrs:{d:"M22.7825 34.1141C22.5766 33.898 22.4075 33.7651 22.3486 33.7256C22.4859 33.831 22.6691 34.1691 22.7435 34.3249L23.501 33.9824C23.2323 33.9877 22.91 34.0724 22.7825 34.1141Z",fill:"#ED691E"}}),o("path",{attrs:{d:"M22.1881 32.1936C21.9851 32.1501 21.7659 32.1755 21.6816 32.1936C22.1901 32.5253 22.6952 33.1919 22.8842 33.4837C23.441 33.1409 28.0267 31.3018 29.0867 30.8096C28.2486 30.9468 23.8984 32.528 22.9913 32.917C22.8081 32.694 22.391 32.2371 22.1881 32.1936Z",fill:"url(#paint6_linear_12722_147437)"}}),o("path",{attrs:{d:"M34.9834 27.5412C35.9486 26.8062 36.8597 25.837 37.1946 25.4443L37.0507 26.1626C36.4463 26.7666 35.3662 27.3879 34.9834 27.5412Z",fill:"#EF6A1E"}}),o("path",{attrs:{d:"M35.127 28.4985C35.9214 28.0726 36.7005 27.4249 36.9908 27.1543L37.1363 27.4933C36.5745 28.0454 35.5627 28.3934 35.127 28.4985Z",fill:"#EF6A1E"}}),o("path",{attrs:{d:"M6.98601 16.3756L4.55716 13.2373L4.35449 13.9461C4.67841 14.1081 6.24381 15.6332 6.98601 16.3756Z",fill:"#EF6A1D"}}),o("path",{attrs:{d:"M6.55532 18.3444C6.14718 17.7905 4.5077 15.5376 4.13368 14.9941L3.78809 15.3895C4.09126 15.574 6.02236 17.7788 6.55532 18.3444Z",fill:"#EF6A1D"}})]),o("mask",{staticStyle:{"mask-type":"alpha"},attrs:{id:"mask2_12722_147437",maskUnits:"userSpaceOnUse",x:"4",y:"5",width:"33",height:"25"}},[o("path",{attrs:{d:"M4.93567 11.0953C8.09604 9.16626 15.5893 6.28985 18.9408 5.09277C31.8182 18.8933 34.8621 20.4666 36.8975 21.3046C35.9945 26.3528 27.3208 29.1197 23.0968 29.8722C19.8545 29.1334 15.6579 24.8445 13.9649 22.7924C10.3942 19.0165 6.45762 13.421 4.93567 11.0953Z",fill:"#FFE7D0"}}),o("path",{attrs:{d:"M4.93567 11.0953C8.09604 9.16626 15.5893 6.28985 18.9408 5.09277C31.8182 18.8933 34.8621 20.4666 36.8975 21.3046C35.9945 26.3528 27.3208 29.1197 23.0968 29.8722C19.8545 29.1334 15.6579 24.8445 13.9649 22.7924C10.3942 19.0165 6.45762 13.421 4.93567 11.0953Z",fill:"url(#paint7_linear_12722_147437)"}})]),o("g",{attrs:{mask:"url(#mask2_12722_147437)"}},[o("g",{attrs:{filter:"url(#filter3_f_12722_147437)"}},[o("ellipse",{attrs:{cx:"22.4904",cy:"27.1661",rx:"8.00363",ry:"4.35881",transform:"rotate(40.888 22.4904 27.1661)",fill:"#FFE6CF"}})]),o("g",{attrs:{filter:"url(#filter4_f_12722_147437)"}},[o("ellipse",{attrs:{cx:"21.4372",cy:"19.1227",rx:"6.55531",ry:"3.57005",transform:"rotate(40.888 21.4372 19.1227)",fill:"#FFE6CF"}})])]),o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6595 14.8538C14.7962 14.292 15.383 13.9523 15.9701 14.0952L18.9149 14.8115L19.0598 12.1778C19.0901 11.6277 19.5826 11.2074 20.16 11.2392C20.7373 11.2709 21.1808 11.7427 21.1505 12.2928L21.0168 14.725L22.1883 13.9534C22.6712 13.6354 23.3205 13.769 23.6385 14.2519C23.9566 14.7348 23.8229 15.3841 23.34 15.7021L21.7437 16.7534L22.6897 17.7504L24.3595 16.5854C24.8337 16.2546 25.4863 16.3708 25.8172 16.845C26.148 17.3192 26.0318 17.9718 25.5576 18.3027L24.1473 19.2866L25.6191 20.8379C26.0171 21.2574 25.9997 21.9201 25.5803 22.318C25.1608 22.716 24.4982 22.6986 24.1002 22.2792L22.4105 20.4983L20.5581 21.7907C20.0839 22.1216 19.4313 22.0054 19.1004 21.5312C18.7696 21.057 18.8858 20.4043 19.36 20.0735L20.9529 18.9621L19.9673 17.9233L18.2489 19.055C17.766 19.373 17.1167 19.2394 16.7987 18.7565C16.4807 18.2736 16.6143 17.6243 17.0972 17.3063L17.9643 16.7352L15.4752 16.1297C14.888 15.9869 14.5229 15.4156 14.6595 14.8538Z",fill:"url(#paint8_linear_12722_147437)"}}),o("defs",[o("filter",{attrs:{id:"filter0_f_12722_147437",x:"16.499",y:"18.8594",width:"19.4287",height:"19.4287",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[o("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),o("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}}),o("feGaussianBlur",{attrs:{stdDeviation:"2",result:"effect1_foregroundBlur_12722_147437"}})]),o("filter",{attrs:{id:"filter1_f_12722_147437",x:"10.2539",y:"19.4775",width:"18.791",height:"16.377",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[o("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),o("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}}),o("feGaussianBlur",{attrs:{stdDeviation:"2",result:"effect1_foregroundBlur_12722_147437"}})]),o("filter",{attrs:{id:"filter2_f_12722_147437",x:"18.3506",y:"21.5645",width:"18.2158",height:"16.2227",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[o("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),o("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}}),o("feGaussianBlur",{attrs:{stdDeviation:"2",result:"effect1_foregroundBlur_12722_147437"}})]),o("filter",{attrs:{id:"filter3_f_12722_147437",x:"9.79883",y:"14.9766",width:"25.3828",height:"24.3799",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[o("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),o("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}}),o("feGaussianBlur",{attrs:{stdDeviation:"3",result:"effect1_foregroundBlur_12722_147437"}})]),o("filter",{attrs:{id:"filter4_f_12722_147437",x:"9.95703",y:"8.05273",width:"22.9609",height:"22.1396",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[o("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),o("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}}),o("feGaussianBlur",{attrs:{stdDeviation:"3",result:"effect1_foregroundBlur_12722_147437"}})]),o("linearGradient",{attrs:{id:"paint0_linear_12722_147437",x1:"5.38898",y1:"12.9974",x2:"23.3446",y2:"33.5569",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#E47109"}}),o("stop",{attrs:{offset:"0.199644","stop-color":"#F2821C"}}),o("stop",{attrs:{offset:"0.489148","stop-color":"#FFBE83"}}),o("stop",{attrs:{offset:"0.692037","stop-color":"#FF9A3F"}}),o("stop",{attrs:{offset:"1","stop-color":"#FF7900"}})]),o("linearGradient",{attrs:{id:"paint1_linear_12722_147437",x1:"37.459",y1:"29.5543",x2:"23.4415",y2:"35.7003",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#F78621"}}),o("stop",{attrs:{offset:"0.177947","stop-color":"#FF9C42"}}),o("stop",{attrs:{offset:"0.42989","stop-color":"#FFB776"}}),o("stop",{attrs:{offset:"0.670445","stop-color":"#FFB069"}}),o("stop",{attrs:{offset:"1","stop-color":"#FF8E27"}})]),o("linearGradient",{attrs:{id:"paint2_linear_12722_147437",x1:"26.928",y1:"25.7178",x2:"28.3566",y2:"33.5749",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#EB7102"}}),o("stop",{attrs:{offset:"0.958333","stop-color":"#ED780E"}})]),o("linearGradient",{attrs:{id:"paint3_linear_12722_147437",x1:"26.3206",y1:"28.253",x2:"28.2678",y2:"32.1474",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#EB7102"}}),o("stop",{attrs:{offset:"0.958333","stop-color":"#ED780E"}})]),o("linearGradient",{attrs:{id:"paint4_linear_12722_147437",x1:"15.6793",y1:"7.41443",x2:"28.1344",y2:"27.4748",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#FFD1A5"}}),o("stop",{attrs:{offset:"0.141096","stop-color":"#FFD5AD","stop-opacity":"0.571368"}}),o("stop",{attrs:{offset:"0.329179","stop-color":"#FFDBB8","stop-opacity":"0"}}),o("stop",{attrs:{offset:"0.671875","stop-color":"#FFC893","stop-opacity":"0.760021"}}),o("stop",{attrs:{offset:"1","stop-color":"#FFC792"}})]),o("linearGradient",{attrs:{id:"paint5_linear_12722_147437",x1:"37.4602",y1:"29.5911",x2:"18.3264",y2:"32.6037",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#FF9230"}}),o("stop",{attrs:{offset:"0.077495","stop-color":"#FFA14C"}}),o("stop",{attrs:{offset:"0.391424","stop-color":"#FFB776"}}),o("stop",{attrs:{offset:"0.552085","stop-color":"#FFB069"}}),o("stop",{attrs:{offset:"1","stop-color":"#FFAB5F"}})]),o("linearGradient",{attrs:{id:"paint6_linear_12722_147437",x1:"22.08",y1:"32.5308",x2:"29.4928",y2:"30.8096",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#EB671C"}}),o("stop",{attrs:{offset:"1","stop-color":"#FF672D","stop-opacity":"0"}})]),o("linearGradient",{attrs:{id:"paint7_linear_12722_147437",x1:"15.6813",y1:"7.41346",x2:"28.1363",y2:"27.4739",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#FFD1A5"}}),o("stop",{attrs:{offset:"0.141096","stop-color":"#FFD5AD","stop-opacity":"0.571368"}}),o("stop",{attrs:{offset:"0.329179","stop-color":"#FFDBB8","stop-opacity":"0"}}),o("stop",{attrs:{offset:"0.671875","stop-color":"#FFC893","stop-opacity":"0.760021"}}),o("stop",{attrs:{offset:"1","stop-color":"#FFC792"}})]),o("linearGradient",{attrs:{id:"paint8_linear_12722_147437",x1:"17.3954",y1:"12.5316",x2:"24.9921",y2:"22.7643",gradientUnits:"userSpaceOnUse"}},[o("stop",{attrs:{"stop-color":"#FFB169"}}),o("stop",{attrs:{offset:"1","stop-color":"#FF6229"}})])])]))}}},1284:function(t,e,o){},1285:function(t,e,o){"use strict";o.d(e,"a",(function(){return m})),o.d(e,"b",(function(){return f}));o(38);var n=o(107),r=o(368),c=o.n(r),l=o(704),d=o(29),m=function(details){var t=details.id,title=details.title,e=details.description,image=details.image,o=details.username,r=details.createdAt,l=details.updatedAt;return{"@context":"https://schema.org","@type":"BlogPosting",mainEntityOfPage:{"@type":"WebPage","@id":t},headline:Object(n.htmlEncode)(title),description:Object(n.htmlEncode)(e),image:image,author:{"@type":"Organization",name:o},publisher:{"@type":"Organization",name:"掘金",logo:{"@type":"ImageObject",url:c.a}},datePublished:Object(d.c)(r,d.a),dateModified:Object(d.c)(l,d.a)}},f=function(t){var e=t.name,o=void 0===e?"分类":e,n=t.alias,r=void 0===n?"":n;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",name:"稀土掘金",position:1,item:l.f},{"@type":"ListItem",name:o,position:2,item:"https://juejin.cn/".concat(r)},{"@type":"ListItem",name:"文章",position:3}]}}},1630:function(t,e,o){"use strict";o(1284)},1631:function(t,e,o){"use strict";var n,r=o(11),c=o(12);o(13),o(7),o(47),o(220);function l(t){if(t<0||!t)return"0秒";if(0<=t&&t<60)return t+"秒";var e=Math.floor(t/60),s=Math.floor(t%60);return s>0?e+"分"+s+"秒":e+"分"}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=new Map,c=[];return t.forEach((function(t){var d,m,f,h="";t.sectionId===(null===(d=e.reading_progress)||void 0===d?void 0:d.last_section_id)&&(h="上次学到"),(null===(m=t.reading_progress)||void 0===m?void 0:m.reading_progress)>=100&&(h="已学完"),2===(null===(f=t.reading_progress)||void 0===f?void 0:f.has_update)&&(h="有更新");var v="";v=e.price>0?t.isFree?"试学章节":"付费章节":"免费章节",c.push(t.sectionId),r.set(t.sectionId,{sectionId:t.sectionId,title:t.title||"小册章节标题",readCount:t.readCount,commentCount:t.commentCount,readDurationStr:l(t.readDuration),status:h,isFinished:t.isFinished,freeStatus:v,canEdit:o===n.author,vid:t.vid,hasVideo:!!t.vid})})),{sectionMap:r,sectionOrder:c}}function m(){var t,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r&&r.id?(null===(t=r.roles)||void 0===t?void 0:t.isAdmin)?n.admin:r.id===(null===(e=o.user)||void 0===e?void 0:e.user_id)?n.author:o.is_buy?n.buyer:n.common:n.unlogin}!function(t){t.unlogin="unlogin",t.admin="admin",t.author="author",t.buyer="buyer",t.common="common"}(n||(n={}));var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(r.a)(this,t),this.bookId="",this.userRole=n.common,this.sectionMap=new Map,this.sectionOrder=[],this.bookId=o.booklet_id,this.userRole=m(o,c);var l=d(e,o,this.userRole);this.sectionMap=l.sectionMap,this.sectionOrder=l.sectionOrder}return Object(c.a)(t,[{key:"getSectionList",value:function(){var t=this,e=[];return this.sectionOrder.forEach((function(o){var n;e.push((n=t.sectionMap.get(o),JSON.parse(JSON.stringify(n))))})),e}},{key:"setSectionFree",value:function(){}}]),t}();e.a=f},1632:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5822 5.29608C12.5184 2.81844 10.4914 0.833008 8.00036 0.833008C5.46911 0.833008 3.41703 2.88301 3.41703 5.41634V6.66634C1.80591 6.66761 0.500583 7.97418 0.500855 9.5853L0.501795 15.167C0.502167 17.3759 2.29292 19.1663 4.50179 19.1663H11.5004C13.7095 19.1663 15.5004 17.3755 15.5004 15.1663V9.58301C15.5004 7.97218 14.1945 6.66634 12.5837 6.66634V5.41634L12.5822 5.29608ZM8.00006 11.0002C9.10472 11.0002 10.0001 11.8968 10.0001 13.0002C10.0001 14.1035 9.10472 15.0002 8.00006 15.0002C6.89539 15.0002 6.00006 14.1035 6.00006 13.0002C6.00006 11.8968 6.89539 11.0002 8.00006 11.0002ZM5.08581 5.3163C5.13867 3.75039 6.42352 2.5 8.00079 2.5C9.61162 2.5 10.9175 3.80417 10.9175 5.41667V6.66667H5.08412V5.41667L5.08581 5.3163Z",fill:"#C2C8D1"}})]))}}},1633:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n="https://lf26-cdn-tos.draftstatic.com/obj/ies-hotsoon-draft/juejin/dd3cffc9-7abf-408d-9f79-95571b022def.html"},1994:function(t,e,o){"use strict";var n={},r=(o(1630),o(30)),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"copy-right"},[e("a",{directives:[{name:"link",rawName:"v-link.blank",value:"https://beian.miit.gov.cn",expression:"'https://beian.miit.gov.cn'",modifiers:{blank:!0}}]},[this._v("京ICP备18012699号-3")]),this._v(" "),e("span",[this._v("©版权所有 北京北比信息技术有限公司")]),this._v(" "),this._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"margin-top":"0"}},[e("span",[this._v("公司地址：北京市海淀区信息路甲28号13层B座13B-5")]),this._v(" "),e("span",[this._v("|")]),this._v(" "),e("span",[this._v("公司座机：010-83434395")])])}],!1,null,"3750bdcb",null);e.a=component.exports},2048:function(t,e,o){"use strict";o.d(e,"a",(function(){return f}));o(23);var n=o(5),r=o(21),c=r.d?{belong:"juejin",persist:1}:{belong:"DEFAULT",persist:0};function l(t){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function t(e){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new FormData).append("targets",e.targets||""),o.append("belong",e.belong||c.belong),o.append("persist","".concat(c.persist)),t.abrupt("return",fetch("https://".concat(r.j,"/shorten"),{method:"post",body:o}).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var o,n,data,code;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return o=t.sent,n=o.message,data=o.data,code=o.code,t.abrupt("return",{err_no:code,data:data,err_msg:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var m=o(9);function f(t,e){var o=Object(m.r)(""),r=Object(m.r)(!1),c=Object(m.a)((function(){return o.value||t.value})),d=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.value=!1,e.next=4,l({targets:t.value});case 4:(n=e.sent)&&0===n.err_no&&n.data[0]&&(o.value=n.data[0].short_url),r.value=!0,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),r.value=!0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(m.x)(e,(function(t){t&&!o.value&&d()})),[c,r]}},2159:function(t,e,o){},2160:function(t,e,o){},2161:function(t,e,o){},2162:function(t,e,o){},2163:function(t,e,o){},2164:function(t,e,o){},3203:function(t,e,o){t.exports=o.p+"70f921e402915edaf87269d40c52cb9a.svg"},3204:function(t,e,o){t.exports=o.p+"img/add-group.b4df655.png"},3205:function(t,e,o){t.exports=o.p+"6eed03c6054cf7cfcdfa04e02d042990.svg"},3206:function(t,e,o){t.exports=o.p+"img/free-read-mobile.cbca16d.png"},3207:function(t,e,o){t.exports=o.p+"fee0ba0ebc2dffb4792458908d3c3122.svg"},3208:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.7143 3.47656C20.4264 3.47656 21 4.05618 21 4.76675V16.9395C21 17.4978 20.6419 17.9942 20.0972 18.1711L12.3776 20.5429C12.1315 20.6185 11.8685 20.6185 11.6224 20.5429L3.88956 18.167C3.3581 17.9942 3 17.4978 3 16.9395V4.76675C3 4.05618 3.57363 3.47656 4.28571 3.47656C4.42025 3.47656 4.55392 3.49775 4.66822 3.53502L12 5.78316L19.3181 3.53933C19.4461 3.49775 19.5798 3.47656 19.7143 3.47656ZM4.7141 5.34079V16.6258L11.1427 18.6008V7.31226L4.7141 5.34079ZM12.859 7.31183L19.2875 5.34079V16.6259L12.859 18.6008V7.31183Z",fill:"#1E80FF"}})]))}}},3209:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"7",height:"6",viewBox:"0 0 7 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{d:"M0.722168 1.03902C0.91743 0.843763 1.23401 0.843763 1.42927 1.03902L3.60934 3.21909L5.72693 1.10151C5.92219 0.906247 6.23877 0.906246 6.43404 1.10151L6.78759 1.45506C6.98285 1.65032 6.98285 1.96691 6.78759 2.16217L3.95916 4.9906C3.7639 5.18586 3.44732 5.18586 3.25206 4.9906L2.8985 4.63704C2.88098 4.61952 2.86503 4.60103 2.85066 4.58173L0.368615 2.09968C0.173352 1.90442 0.173352 1.58784 0.368614 1.39258L0.722168 1.03902Z",fill:"#4E5969"}})]))}}},3210:function(t,e,o){"use strict";o(2159)},3211:function(t,e,o){t.exports=o.p+"img/defaultImgUrl.c0fd17b.png"},3212:function(t,e,o){"use strict";o(2160)},3213:function(t,e,o){"use strict";o(2161)},3214:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"23",height:"22",viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{d:"M18.25 11C18.25 14.7279 15.2279 17.75 11.5 17.75C7.77209 17.75 4.75 14.7279 4.75 11C4.75 7.27209 7.77209 4.25 11.5 4.25C15.2279 4.25 18.25 7.27209 18.25 11Z",stroke:"#C2C8D1","stroke-width":"1.5"}}),o("path",{attrs:{d:"M11.5022 12.875L11.4998 12.5C11.4998 11.375 12.6248 11 13.292 10.0991C13.9593 9.19828 13.1081 7.625 11.4953 7.625C9.99008 7.625 9.47697 8.58054 9.47461 9.31764V9.49197",stroke:"#C2C8D1","stroke-width":"1.5"}}),o("path",{attrs:{d:"M11.502 13.625V15.1279",stroke:"#C2C8D1","stroke-width":"1.5"}})]))}}},3215:function(t,e,o){"use strict";o(2162)},3216:function(t,e,o){"use strict";o(2163)},3217:function(t,e,o){"use strict";o(2164)},4909:function(t,e,o){"use strict";o.r(e);o(19),o(18);var n=o(52),r=(o(76),o(38),o(44),o(13),o(7),o(16),o(0)),c=(o(23),o(5)),l=o(6),d=o(85),m=o(86),f=o(8),h=o(214),v=o(703),_=o(1180),y=o(3208),C=o.n(y),k=o(3209),w=o.n(k),j=o(250),O=o(788),I=o(1994),S=o(1168),L=o(1170),x=o(3),B=o(1631),M=o(1632),P=o.n(M);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function R(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={name:"BookDirectoryInfo",components:{BAlert:d.Alert,LockIcon:P.a},props:["info","free","list"],data:function(){return{userRole:"",sectionList:[]}},computed:R(R({},Object(m.mapGetters)({user:x.USER})),{},{bookId:function(){return this.$route.params.id},isVideoCourse:function(){var t,e;return(null===(e=null===(t=this.info)||void 0===t?void 0:t.base_info)||void 0===e?void 0:e.course_type)===h.a.video}}),watch:{list:function(){this.initData()},user:function(){this.initData()}},created:function(){this.initData()},methods:{initData:function(){var t=new B.a(this.list,this.info,this.user);this.userRole=t.userRole,this.sectionList=t.getSectionList()},routeSectionId:function(t){var e,o=t.sectionId;if(!t.isFinished&&"admin"!==this.userRole&&"author"!==this.userRole)return{};var n=this.$device.isMobile?"m/":"",r=(null===(e=this.$route.query)||void 0===e?void 0:e.suid)||"";return{path:"/".concat(this.isVideoCourse?"video":"book","/").concat(n).concat(this.bookId,"/section/").concat(o).concat(r?"?suid=".concat(r):"")}}}},$=(o(3210),o(30)),T=Object($.a)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-directory",class:{"is-admin":"admin"===t.userRole,"is-author":"author"===t.userRole,"is-buyer":"buyer"===t.userRole}},["admin"===t.userRole?o("b-alert",{attrs:{"show-icon":""}},[t._v("\n    当前是管理员状态,以下所有章节都可点击阅读\n  ")]):"author"===t.userRole?o("b-alert",{attrs:{"show-icon":""}},[t._v("\n    您是小册作者,以下所有章节都可点击阅读\n  ")]):t._e(),t._v(" "),o("div",{staticClass:"section-list"},t._l(t.sectionList,(function(e,n){return o("router-link",{key:e.sectionId,staticClass:"section",class:{unfinished:!e.isFinished},attrs:{to:t.routeSectionId(e)}},[o("div",{staticClass:"left"},[o("div",{staticClass:"index"},[t._v(t._s(n+1))])]),t._v(" "),o("div",{staticClass:"center"},[o("div",{staticClass:"title"},[t.isVideoCourse||e.hasVideo?o("span",{staticClass:"icon-camera"}):t._e(),t._v(" "),o("span",{staticClass:"title-text"},[t._v(t._s(e.title))])]),t._v(" "),o("div",{staticClass:"sub-line"},[e.isFinished?["已学完"===e.status?o("div",{staticClass:"label",staticStyle:{color:"#8a919f",background:"#f2f3f5"}},[t._v("\n              已学完\n            ")]):"上次学到"===e.status?o("div",{staticClass:"label",staticStyle:{color:"#1e80ff",background:"#eaf2ff"}},[t._v("\n              上次学到\n            ")]):"有更新"===e.status?o("div",{staticClass:"label",staticStyle:{color:"#f53f3f",background:"#ffece8"}},[t._v("\n              有更新\n            ")]):t._e(),t._v(" "),o("span",[t._v("学习时长: "+t._s(e.readDurationStr))])]:o("div",[t._v("写作中...")])],2)]),t._v(" "),o("div",{staticClass:"right"},[e.isFinished?"buyer"===t.userRole||t.info.isBorrowing?t._e():["付费章节"===e.freeStatus?o("div",{staticClass:"lock"},[o("LockIcon")],1):t._e(),t._v(" "),"试学章节"===e.freeStatus?o("div",{staticClass:"label"},[t._v("试学")]):t._e()]:o("div",{staticClass:"lock"},[o("LockIcon")],1)],2)])})),1)],1)}),[],!1,null,"42256ac2",null).exports,F=o(3211),A=o.n(F),V={props:["info"],data:function(){return{defaultImgUrl:A.a}},methods:{read:function(){this.$emit("read")},close:function(){this.$emit("close")},downloadImage:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var image,o,n,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return image=e.sent,e.next=5,image.blob();case 5:o=e.sent,n=URL.createObjectURL(o),(link=document.createElement("a")).href=n,link.download="/juejin/booklet/wechatGroupQrcodeImage",document.body.appendChild(link),link.click(),document.body.removeChild(link);case 13:case"end":return e.stop()}}),e)})))()}},computed:{isMobile:function(){return this.$device.isMobile}},mounted:function(){console.log(this.info)}},U=(o(3212),Object($.a)(V,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"masker"},[o("div",{staticClass:"box",class:{"not-bought":!t.info.isBuy}},[o("div",{staticClass:"close-btn",on:{click:t.close}}),t._v(" "),o("div",{staticClass:"title"},[t._v("加入作者互动群")]),t._v(" "),t.info.isBuy?o("div",{staticClass:"desc"},[t._v("\n      扫描二维码回复\n      "),o("span",{staticClass:"code"},[t._v(t._s(t.info.wechatGroupSignal))]),t._v("\n      入群\n    ")]):t._e(),t._v(" "),t.info.isBuy?t._e():o("div",{staticClass:"desc"},[t._v("\n      结识更多同行小伙伴 · 作者在线解答\n    ")]),t._v(" "),o("div",{staticClass:"qr-box",class:{"qr-box-mobile":t.isMobile}},[t.info.isBuy?o("img",{attrs:{src:t.info.wechatGroupQrcodeImage}}):o("img",{staticClass:"not-bought",attrs:{src:t.defaultImgUrl}})]),t._v(" "),t.info.isBuy?t._e():o("div",{staticClass:"desc"},[t._v("购买小册后可扫码加入作者互动群")]),t._v(" "),t.isMobile&&t.info.isBuy?o("a",{staticClass:"btn-read",on:{click:function(e){return t.downloadImage(t.info.wechatGroupQrcodeImage)}}},[t._v("\n      保存二维码到本地\n    ")]):t._e()])])}),[],!1,null,"7a6a9dcb",null).exports),H=o(912),N=o(1052),G=o(986),Z=Object(l.b)({components:{BookThumb:H.a,NewTag:N.a,VipTag:G.a},props:{bookInfo:{type:Object,default:function(){return{}}},routeQuery:{type:Object,default:function(){return{}}}},setup:function(t){return{bookRoute:Object(l.a)((function(){var e;return{name:"bookInfo",params:{id:(null===(e=t.bookInfo)||void 0===e?void 0:e.booklet_id)||""},query:t.routeQuery}}))}}}),W=(o(3213),Object($.a)(Z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("router-link",{staticClass:"book-recommend",attrs:{to:t.bookRoute,target:"_blank"}},[o("BookThumb",{staticClass:"book-img",attrs:{book:t.bookInfo}}),t._v(" "),o("div",{staticClass:"book-desc"},[o("div",{staticClass:"book-title"},[o("NewTag",{staticClass:"tag",attrs:{"is-new":t.bookInfo.is_new}}),t._v(" "),t.bookInfo.base_info.can_vip_borrow?o("VipTag",{staticClass:"tag",attrs:{name:"VIP",width:30,height:20}}):t._e(),t._v("\n      "+t._s(t.bookInfo.base_info.title)+"\n    ")],1),t._v(" "),o("div",{staticClass:"book-summary"},[t._v(t._s(t.bookInfo.base_info.summary))])])],1)}),[],!1,null,"8e0965f4",null).exports),z=o(1102),Y=o(1220),X=o(951),Q=o(725),K=o(1214),J=o(251),tt=o(1100),et=o(172),it=o(21),meta=o(704),ot=o(768),nt=o(15),st=o(857),at=o(41),object=o(287),ct=o(1285),lt=o(255),ut=o(35),mt=o(9),ft=o(1283),ht=o.n(ft),pt=o(1073),vt=o.n(pt),bt=o(3214),_t=o.n(bt),gt=o(213),yt=o(1633),Ct=o(2048),kt=o(717),wt=o(721),jt=Object(mt.d)({components:{BModal:d.Modal,AppLink:gt.a,CloseIcon:vt.a,BenefitIcon:ht.a,HelpIcon:_t.a},props:{bookId:{type:String,default:function(){return""}},commission:{type:Number,default:function(){return 0}},enableDs:{type:Boolean,default:function(){return!1}}},setup:function(t,e){var o=e.root,n=Object(mt.r)(!1),r=Object(mt.a)((function(){var t,e;return(null===(e=null===(t=o.$store.state.auth)||void 0===t?void 0:t.user)||void 0===e?void 0:e.user_id)||""})),c=Object(mt.a)((function(){return"https://".concat(it.b,"/book/").concat(t.bookId,"?suid=").concat(r.value,"&source=pc")})),l=Object(Ct.a)(c,n),m=Object(ut.a)(l,2),f=m[0],h=m[1],v=Object(mt.a)((function(){return"https://".concat(it.b,"/book/distribute/").concat(t.bookId,"?suid=").concat(r.value)})),_=Object(Ct.a)(v,n),y=Object(ut.a)(_,1)[0],C=Object(mt.a)((function(){return Object(wt.a)(y.value)})),k=function(){n.value=!n.value};return{ruleUrl:yt.a,showUrl:f,qrCodeDataUrl:C,visible:n,apiLoad:h,toggleModal:k,openModal:function(){Object(lt.j)(o.$TEA,{page:"detail_course",book_id:t.bookId}),o.$ensureAuthorized("login").then((function(){k()})).catch((function(t){console.error(t)}))},copyLink:function(){Object(lt.k)(o.$TEA,{book_id:t.bookId});try{Object(kt.a)(f.value),d.Message.success("链接复制成功")}catch(t){d.Message.error("链接复制失败")}},enterHelpVisitPage:function(){Object(lt.l)(o.$TEA)}}}}),Ot=(o(3215),Object($.a)(jt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"benefit-guide-widget"},[t.enableDs?o("div",{staticClass:"guide-nav-box",on:{click:function(e){return e.stopPropagation(),t.openModal(e)}}},[t._v("\n    "+t._s(t.commission)+"\n  ")]):t._e(),t._v(" "),o("b-modal",{staticClass:"benefit-guide-widget-modal",attrs:{width:"520px",value:t.visible,"mask-closable":!1,"footer-hide":!0,closable:!1},on:{close:t.toggleModal}},[o("CloseIcon",{staticClass:"closeIcon",on:{click:function(e){return e.stopPropagation(),t.toggleModal(e)}}}),t._v(" "),o("div",{staticClass:"title-box"},[o("BenefitIcon",{staticClass:"benefitIcon"}),t._v(" "),o("span",{staticClass:"txt title"},[t._v("推广赚")]),t._v(" "),o("span",{staticClass:"txt money-unit"},[t._v("¥")]),t._v(" "),o("span",{staticClass:"txt"},[t._v(t._s(t.commission))]),t._v(" "),o("AppLink",{staticClass:"help-link",attrs:{href:t.ruleUrl,blank:!0},nativeOn:{click:function(e){return t.enterHelpVisitPage(e)}}},[o("HelpIcon",{staticClass:"helpIcon"})],1)],1),t._v(" "),o("div",{staticClass:"sub-title-box"},[o("span",{staticClass:"txt"},[t._v("邀请好友成功购买本课程，每单最高得")]),t._v(" "),o("span",{staticClass:"txt money-unit"},[t._v("¥")]),t._v(" "),o("span",{staticClass:"txt benefit"},[t._v(t._s(t.commission))]),t._v(" "),o("span",[t._v("现金奖励")])]),t._v(" "),o("div",{staticClass:"desc-box"},[t._v("\n      推广收益及提现请到「\n      "),o("AppLink",{staticClass:"jj-app-link",attrs:{href:"/app?source=course",blank:!0}},[t._v("\n        稀土掘金APP\n      ")]),t._v("\n      -我的-推广中心」操作\n    ")],1),t._v(" "),o("div",{staticClass:"qrcode-box"},[o("img",{staticClass:"qrcode-img",attrs:{src:t.qrCodeDataUrl,alt:"推广二维码"}}),t._v(" "),o("div",{staticClass:"desc"},[t._v("扫码获取推广海报")])]),t._v(" "),o("div",{staticClass:"short-box"},[o("div",{staticClass:"short-url-box"},[t.apiLoad?o("span",{staticClass:"short-url"},[t._v(t._s(t.showUrl))]):t._e()]),t._v(" "),o("div",{staticClass:"short-btn",on:{click:t.copyLink}},[t._v("复制推广链接")])])],1)],1)}),[],!1,null,"255d3af1",null).exports);function It(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function St(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?It(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):It(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var Lt=Object(l.b)({components:{CommentListBox:O.a,Arrows:w.a,BookStickyHeader:X.a,BookRecommend:W,BAffix:d.Affix,BDivider:d.Divider,Avatar:j.a,Book:S.a,BookGuidanceJoinWechat:U,WechatQuickLogin:tt.a,BookDirectory:T,ImageViewer:Q.a,MarkdownViewer:function(){return Promise.all([o.e(2),o.e(3),o.e(4),o.e(170)]).then(o.bind(null,883))},CopyRight:I.a,XituSkeleton:J.a,BenefitGuideWidget:Ot,ApplyIcon:C.a,VipBorrowButton:z.a,BookBuyButton:L.a,BookThumb:H.a},mixins:[K.a],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var o,n,r,c,l,d,m,f,v,_,y,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.route,n=t.store,r=t.error,e.prev=1,e.abrupt("return");case 4:if(!n.state.auth.user){e.next=6;break}return e.abrupt("return");case 6:return c=o.params.id,e.next=9,Object(h.b)(c);case 9:return l=e.sent,d=l.bookInfo,m=l.sections,f=l.summaryHtml,v=l.summaryMarkdown,e.next=16,Object(h.c)({categoryId:"0",limit:6});case 16:if(_=e.sent,y=_.list,C={loading:!1,bookInfo:Object.assign({},d,{summaryHtml:f,summaryMarkdown:v}),sectionList:m,totalTime:Object(st.b)(m.filter((function(t){return t.isFinished})).map((function(t){return t.read_time})).reduce((function(pre,t){return pre+t}),0))},!("array"===Object(object.c)(y)&&(null==y?void 0:y.length)>0)){e.next=23;break}return e.abrupt("return",St(St({},C),{},{bookList:y.filter((function(t){return t.id!==c})).slice(0,6)}));case 23:return e.abrupt("return",C);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),404===e.t0.statusCode&&(n.dispatch("SHOW_NOT_FOUND_VIEW"),r(e.t0));case 29:case"end":return e.stop()}}),e,null,[[1,26]])})))()},data:function(){return{bookRecommendScrollLoading:!1,isShowCommentMode:!1,isListLenMore3:!1,isHasFreeSection:!1,isShowBookletCommentTab:!0,cursor:"0",hasMore:!0,bookRecommendList:[],bookRecommendListMobile:[],isShowAllContent:!1,isOverThousandPx:!1,totalTime:"",bookInfo:null,bookList:[],sectionList:[],isViewMenuOnTop:!1,isViewMenuOnTopMobile:!1,scrollMenuIndex:0,fixedBuyShow:!1,queryBuyList:{pageNum:1,pageSize:20},isBookBoughtGuideVisible:!1,bookCommentsTotal:0,isBookEvaluateVisible:!1,bookBoughtId:null,actionItem:{more:{active:!1}},sourceDiscount:10,loading:!0,isShowBorrow:!1,isVipShow:!0,defaultReturnNumber:1}},computed:St(St({},Object(m.mapGetters)({logined:x.LOGINED,user:x.USER})),{},{isVideoCourse:function(){var t,e;return(null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.base_info)||void 0===e?void 0:e.course_type)===f.BookletCourseType.Video},isMobileBrowser:function(){return this.$device.isMobile},hasHeader:function(){return!this.isMobileBrowser},hasSourceDiscount:function(){return this.sourceDiscount<10},isDiscountValid:function(){return!!this.bookInfo&&Object(st.c)(this.bookInfo.discount)},hasTimelimtDiscount:function(){return this.isDiscountValid},bookId:function(){return this.$route.params.id},isAdmin:function(){var t,e=this.user||{},o=null===(t=e.roles)||void 0===t?void 0:t.isAdmin,n=this.author.id===e.id;return o||n},freeSectionList:function(){var t,e=this;if(null===(t=this.sectionList)||void 0===t?void 0:t.length){return this.isAdmin?this.sectionList.map((function(t){return t.sectionId})).filter((function(t){return t})):this.sectionList.map((function(t){return!(!(e.free||t.isFree||e.bookInfo.isBorrowing)||!t.isFinished)&&t.sectionId})).filter((function(t){return t}))}return[]},lastReadSection:function(){var t,e;return(null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.reading_progress)||void 0===e?void 0:e.last_section_id)||""},hasFreeSection:function(){var t,e=!this.free&&(null===(t=this.freeSectionList)||void 0===t?void 0:t.length)>0;return e&&1!==this.scrollMenuIndex&&(this.isHasFreeSection=!0),e},free:function(){var t,e,o;if(!this.bookInfo)return!1;var n=this.bookInfo,r=n.price,c=n.isBuy,l=n.verifyStatus,d=0===r&&2===l,m=(null===(t=this.user)||void 0===t?void 0:t.id)===(null===(o=null===(e=this.bookInfo)||void 0===e?void 0:e.user)||void 0===o?void 0:o.id);return d||c||m||this.isAdmin},hasGroupAuth:function(){var t,e,o;if(!this.bookInfo)return!1;var n=this.bookInfo.isBuy,r=(null===(t=this.user)||void 0===t?void 0:t.id)===(null===(o=null===(e=this.bookInfo)||void 0===e?void 0:e.user)||void 0===o?void 0:o.id);return(n||r||this.isAdmin)&&this.bookInfo.wechatGroupSignal&&this.bookInfo.wechatGroupQrcodeImage},author:function(){var t;return(null===(t=this.bookInfo)||void 0===t?void 0:t.user)||{}},scheme:function(){return Object(et.e)("https://".concat(it.c,"/book/").concat(this.bookId),et.a.bookDetail.gd_label)},subject:function(){var t,e;return{item_id:this.bookId,item_type:12,user_id:null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.user_info)||void 0===e?void 0:e.user_id}},handleBgcShow:function(){return this.isMobileBrowser?this.bookInfo.base_info.background_img?{background:"url("+this.bookInfo.base_info.background_img+") no-repeat center center",backgroundSize:"cover"}:{backgroundColor:"#3d5d8b"}:{}},isDistribute:function(){var t,e;return!!(null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.base_info)||void 0===e?void 0:e.is_distribution)},commission:function(){var t;return(null===(t=this.bookInfo)||void 0===t?void 0:t.commission)||0},distributeURL:function(){var t;return"/book/distribute/".concat(this.bookId,"?suid=").concat((null===(t=this.user)||void 0===t?void 0:t.user_id)||"")||!1}}),watch:{$route:function(){this.fetch()}},shareInfo:function(){var t=this.bookInfo||{},e=t.img;return{title:"".concat(t.title," - ").concat(this.author.username," - 掘金小册"),noTemplate:!0,description:t.desc,thumb:e,url:this.$route.fullPath}},head:function(){var t,e,o,n,r,c,l,d,m,f,h,v,_,y;if(this.bookInfo&&Object.keys(this.bookInfo).length&&this.author&&Object.keys(this.author).length){var title=this.bookInfo&&this.bookInfo.title||"",C=null===(t=this.author)||void 0===t?void 0:t.username;title=title?title+" - ":"",C=C?C+" - ":"";var image=[];(null===(e=this.bookInfo)||void 0===e?void 0:e.img)&&image.push(null===(o=this.bookInfo)||void 0===o?void 0:o.img);var k=Object(ct.a)({id:"".concat(meta.f,"/book/").concat(this.bookId),title:null===(n=this.bookInfo)||void 0===n?void 0:n.title,description:null===(r=this.bookInfo)||void 0===r?void 0:r.abstract,username:null===(c=this.author)||void 0===c?void 0:c.username,createdAt:null===(d=null===(l=this.bookInfo)||void 0===l?void 0:l.base_info)||void 0===d?void 0:d.ctime,updatedAt:null===(f=null===(m=this.bookInfo)||void 0===m?void 0:m.base_info)||void 0===f?void 0:f.mtime,image:image}),w="".concat(null===(h=this.bookInfo)||void 0===h?void 0:h.abstract,"。「").concat(null===(v=this.bookInfo)||void 0===v?void 0:v.title,"」由").concat(null===(_=this.author)||void 0===_?void 0:_.username,"撰写，").concat(null===(y=this.bookInfo)||void 0===y?void 0:y.buyerCount,"人购买");return{titleTemplate:null,title:"".concat(title).concat(C,"掘金小册"),meta:[{vmid:"description",name:"description",content:w}],script:[{type:"application/ld+json",json:k}]}}},mounted:function(){var t=this;this.fetch().then((function(){t.enterBookTEA(),Object(at.o)(t.handleVisibilityChange2)})),this.initFixedBuyShow(),this.initSectionMenu(),this.initContainerClickEvent(),this.getRecommendList(),this.getBookletCommentList()},updated:function(){var t;(null===(t=this.$refs.summaryBody)||void 0===t?void 0:t.offsetHeight)>1e3&&0===this.scrollMenuIndex&&(this.isOverThousandPx=!0,this.isShowAllContent=!0)},beforeDestroy:function(){this.removeScrollListener(),Object(at.q)(this.handleVisibilityChange2),this.leaveBookTEA(),removeEventListener("scroll",this.handleBookRecommendScroll),this.removeHeaderListener()},methods:{clickVip:function(){this.$TEA("member_paid_window_click",{platform:this.isMobileBrowser?"H5":"web"})},shopVipEntry:function(){this.$TEA("member_paid_window_display",{platform:this.isMobileBrowser?"H5":"web"})},openDsDetailPage:function(){var t=this;Object(lt.j)(this.$root.$TEA,{page:"detail_course",book_id:this.bookId||""}),this.$root.$ensureAuthorized("login").then((function(){t.$router.push(t.distributeURL)})).catch((function(t){console.error(t)}))},selectMenu:function(t){var e,o=(null===(e=this.$route.query)||void 0===e?void 0:e.suid)||"";this.$router.push("/".concat(this.isVideoCourse?"video":"book","/").concat(this.bookId,"?").concat(o.length?"suid=".concat(o,"&"):"","scrollMenuIndex=").concat(t)),this.scrollMenuIndex=t,0===t&&(this.$refs.showAllContentWrap&&(this.$refs.showAllContentWrap.style="display: block"),this.$refs.summaryBody&&(this.$refs.summaryBody.className="book-section-view over-thousand")),this.isViewMenuOnTop&&!this.isMobileBrowser&&Object(at.t)(this.$refs.bookInfoDetailPos,88),this.isViewMenuOnTopMobile&&this.isMobileBrowser&&Object(at.t)(this.$refs.bookInfoDetailPos,-30)},updateCommentsTotal:function(t){this.bookCommentsTotal=t},closeJoinWechat:function(){this.isBookBoughtGuideVisible=!1,this.$router.replace(this.$bookInfo(this.bookId,this.isVideoCourse?"video":"book"))},getCourseSectionRouteName:function(){var t=this.isMobileBrowser;return this.isVideoCourse?t?"videoCourseWapSection":"videoCourseSection":t?"bookWapSection":"bookSection"},routeReadHistorySection:function(){var t=this.getCourseSectionRouteName(),e=this.bookInfo.readLog,o=e.sectionId,n=e.sign;this.$router.push({name:t,params:{id:this.bookId,sectionId:o},hash:n})},routeBookSection:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,o=this.getCourseSectionRouteName();"0"===e&&(e=0);var n=e||this.freeSectionList[0]||"",r={name:o,params:{id:this.bookId,sectionId:n},query:this.$route.query};if(t)return r;this.$router.push(r)},getXiaoce:function(){var t=this;return this.getXiaoceById().then((function(){t.isVideoCourse&&"bookInfo"===t.$route.name&&t.$router.replace({name:"videoCourseInfo",params:t.$route.params,query:t.$route.query}),t.$nextTick((function(){t.initImageViewer()}))}))},getXiaoceById:function(){var t=this;return this.loading=!0,Object(h.b)(this.bookId).then((function(e){var o;t.loading=!1;var n=e.bookInfo,r=e.sections,c=e.summaryHtml,l=e.summaryMarkdown;if(n||t.$router.push("/404"),n){t.bookInfo=Object.assign({},n,{summaryHtml:c,summaryMarkdown:l});var d=null===(o=t.$route.query)||void 0===o?void 0:o.scrollMenuIndex;if(void 0!==d){switch(t.scrollMenuIndex=Number(d),t.scrollMenuIndex){case 0:t.$TEA("book_detail_tab_visit",{book_detail_tab_type:"book_introduction"});break;case 1:t.$TEA("book_detail_tab_visit",{book_detail_tab_type:"book_contents"});break;case 2:t.$TEA("book_detail_tab_visit",{book_detail_tab_type:"book_comments"});break;case 3:t.$TEA("book_detail_tab_visit",{book_detail_tab_type:"book_recommends"})}t.isMobileBrowser&&3===t.scrollMenuIndex&&t.hasMore?addEventListener("scroll",t.handleBookRecommendScroll):removeEventListener("scroll",t.handleBookRecommendScroll)}else t.$TEA("book_detail_tab_visit",{book_detail_tab_type:"book_introduction"});t.sectionList=r,t.totalTime=Object(st.b)(r.filter((function(t){return t.isFinished})).map((function(t){return t.read_time})).reduce((function(pre,t){return pre+t}),0)),t.$nextTick((function(){t.initImageViewer()})),t.getBookList()}})).catch((function(){t.$router.push("/404"),t.loading=!1}))},initImageViewer:function(){var t;null===(t=this.$refs.posterImageViewer)||void 0===t||t.attachContainer(this.$refs.poster)},buyBook:function(){var t=Object(ot.b)();return this.$TEA("search_detail_action",St(St({},t),{},{action_type:nt.a.Buy,action_value:this.bookInfo.buyerCount})),this.$coursePayment(this.user,this.bookId)},fetch:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)((null===(o=t.user)||void 0===o?void 0:o.user_id)||"");case 2:return e.abrupt("return",t.getXiaoce());case 3:case"end":return e.stop()}}),e)})))()},getBookList:function(){var t=this;Object(h.c)({categoryId:"0",limit:6}).then((function(e){var o=e.list;"array"===Object(object.c)(o)&&(null==o?void 0:o.length)>0&&(t.bookList=o.filter((function(e){return e.id!==t.bookId})).slice(0,6))}))},getBookletCommentList:function(){var t=this,e={cursor:"0",item_id:this.bookId,item_type:12,limit:20};Object(v.d)(e).then((function(e){var o=e.data.filter((function(t){return 5===t.comment_info.comment_status}));e.data&&0!==o.length||(t.isShowBookletCommentTab=!1)}))},handleBookRecommendScroll:function(){var t=this,e=document.documentElement.clientHeight,o=document.body.scrollHeight;if(document.documentElement.scrollTop+e>=o-50&&!this.bookRecommendScrollLoading&&this.hasMore){this.bookRecommendScrollLoading=!0;var r={bookletId:this.bookId,cursor:this.cursor,limit:20};Object(h.d)(r).then((function(e){var o=e.list;if(t.cursor=e.cursor,t.hasMore=e.hasMore,"array"===Object(object.c)(o)&&(null==o?void 0:o.length)>0){var r=o.filter((function(e){return e.id!==t.bookId}));t.bookRecommendListMobile=[].concat(Object(n.a)(t.bookRecommendListMobile),Object(n.a)(r))}})).finally((function(){t.bookRecommendScrollLoading=!1}))}},getRecommendList:function(){var t=this,e={bookletId:this.bookId,cursor:"0",limit:20};Object(h.d)(e).then((function(e){var o=e.list;t.cursor=e.cursor,t.hasMore=e.hasMore,"array"===Object(object.c)(o)&&(null==o?void 0:o.length)>0&&(t.bookRecommendList=o.filter((function(e){return e.id!==t.bookId})).slice(0,3),t.bookRecommendListMobile=o.filter((function(e){return e.id!==t.bookId})))}))},initFixedBuyShow:function(){var t=this;this.removeScrollListener=Object(at.m)(window,(function(){var e=window.pageYOffset<400;t.fixedBuyShow=!e}),50)},initSectionMenu:function(){var t=this;this.removeHeaderListener=Object(at.m)(window,(function(){var e,o;window.pageYOffset<390?t.isViewMenuOnTop=!1:t.isViewMenuOnTop=!0;var n=(null===(e=t.$refs.bookInfo)||void 0===e?void 0:e.clientHeight)||0,r=0===(null===(o=t.bookInfo)||void 0===o?void 0:o.price)?n-16:n+76;window.pageYOffset<r?t.isViewMenuOnTopMobile=!1:t.isMobileBrowser&&(t.isViewMenuOnTopMobile=!0)}),50)},initContainerClickEvent:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,(function(){Object.keys(t.actionItem).forEach((function(e){t.actionItem[e].active=!1}))}))},initSaleWay:function(){this.$route.query.source&&this.initstorageSource()},enterBookTEA:function(){var t=this.bookInfo||{},e=this.$route.query;this.$TEA("book_detail_visit",St({book_id:t.id,ds_uid:(null==e?void 0:e.suid)||"",is_purchased:(null==t?void 0:t.isBuy)?1:0,book_price:t.base_info.price,book_category:t.base_info.category_id,author_id:t.user.id,is_presale:t.isFinished?0:1,book_discount:this.isDiscountValid?t.discount.rate:10,platform:this.isMobileBrowser?"h5":"web",rent_status:t.isBorrowing?"underway":t.borrowTimes>0?"finish":"never",enter_from:e.enter_from},Object(Y.a)(null==t?void 0:t.max_discount))),this.$options.enterTime=new Date},leaveBookTEA:function(){var t,e=this.$route.query;this.$TEA("book_detail_leave",{stay_time:new Date-this.$options.enterTime,is_purchased:(null===(t=this.bookInfo)||void 0===t?void 0:t.isBuy)?1:0,ds_uid:(null==e?void 0:e.suid)||""})},handleVisibilityChange2:function(){"visible"===document.visibilityState?this.enterBookTEA():this.leaveBookTEA()},handleShowAllContent:function(){this.$refs.showAllContentWrap.style="display: none",this.$refs.summaryBody.style="height: 100%",this.$TEA("book_detail_more_introduction_click")},syncCommentNum:function(t){var e=t.count,o=t.type;"add"===o?this.section.comment_count+=1:"sub"===o?this.section.comment_count-=e?e+1:1:this.section.comment_count=e,this.section.comment_count=this.section.comment_count>0?this.section.comment_count:0},handleAddGroup:function(){this.isBookBoughtGuideVisible=!0;var t;t=this.bookInfo.isBuy?1:0,this.$TEA("learning_group_click",{is_purchased:t})},handleBookDetailMoreCommentClick:function(){this.isVideoCourse?this.$router.push("/video/".concat(this.bookId,"?scrollMenuIndex=2")):this.$router.push("/book/".concat(this.bookId,"?scrollMenuIndex=2")),this.$TEA("book_detail_more_comment_click")},handleIsListLenMore3:function(){this.isListLenMore3=!0},handleIsShowCommentMode:function(){this.isShowCommentMode=!0}},enterTime:0}),xt=(o(3216),o(3217),Object($.a)(Lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-info-view-wrapper"},[n("BookStickyHeader"),t._v(" "),n("view-container",{staticClass:"view-container--bookinfo",attrs:{header:t.hasHeader,scheme:t.scheme}},[n("div",{staticClass:"book-info-view",class:{mobile:t.isMobileBrowser}},[t.bookInfo?n("div",{staticClass:"book-card book-card-header"},[n("div",{ref:"bookInfo",staticClass:"book-info",style:t.handleBgcShow,attrs:{"data-book-id":t.bookId}},[t.isMobileBrowser?t._e():n("div",{ref:"poster",staticClass:"poster-box"},[n("BookThumb",{staticClass:"poster",attrs:{book:t.bookInfo}})],1),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"title-line text-line-2"},[n("router-link",{staticClass:"title",attrs:{to:t.isVideoCourse?t.$videoCourseSection(t.bookId):t.$bookSection(t.bookId)}},[t.bookInfo.is_new?n("div",{staticClass:"presale"},[t._v("新品")]):t._e(),t._v(" "),t.bookInfo.canVipBorrow?n("div",{staticClass:"vip-icon"},[t._v("VIP")]):t._e(),t._v(" "),n("span",{attrs:{title:t.bookInfo.title}},[t._v(t._s(t.bookInfo.title))])]),t._v(" "),t.isDistribute&&!t.isMobileBrowser?n("BenefitGuideWidget",{attrs:{"enable-ds":t.isDistribute,"book-id":t.bookId,commission:t.commission}}):t._e()],1),t._v(" "),n("div",{staticClass:"media"},[n("div",{staticClass:"desc text-line-2",attrs:{title:t.bookInfo.abstract}},[t._v("\n                "+t._s(t.bookInfo.abstract)+"\n              ")]),t._v(" "),n("div",{staticClass:"author",class:{"author-mobile":t.isMobileBrowser}},[n("div",{staticClass:"author-info"},[n("app-link",{staticClass:"user",attrs:{to:t.$userRoute(t.author),blank:!0}},[n("avatar",{staticClass:"hero",attrs:{user:t.author,decorative:!0}}),t._v(" "),n("username",{staticClass:"username",attrs:{user:t.author}})],1)],1),t._v(" "),n("div",{staticClass:"author-desc"},[n("span",{staticClass:"desc"},[t._v("\n                    "+t._s(t.$userPosition(t.author))+"\n                  ")])]),t._v(" "),0!==t.bookInfo.price&&t.bookInfo.wechatGroupQrcodeImage?n("div",{staticClass:"add-group",class:{"add-group-mobile":t.isMobileBrowser},attrs:{title:"加入作者互动群"},on:{click:t.handleAddGroup}},[t.isMobileBrowser?t._e():n("img",{attrs:{src:o(3203)}}),t._v(" "),t.isMobileBrowser?n("img",{attrs:{src:o(3204),alt:""}}):n("span",[t._v("学习群")])]):t._e()])]),t._v(" "),t.isMobileBrowser?t._e():n("div",{staticClass:"other"},[n("BookBuyButton",{attrs:{book:t.bookInfo,"is-owner":t.free,"is-float-discount-label":!0,"section-route":t.routeBookSection(!0,t.lastReadSection)},on:{buyBook:t.buyBook}}),t._v(" "),t.free?n("div",{staticClass:"is-buy",attrs:{"data-book-id":t.bookId}}):t._e(),t._v(" "),t.free?t._e():n("div",{staticClass:"not-buy"},[n("VipBorrowButton",{attrs:{"book-info":t.bookInfo,"event-page":"detail"},on:{fetch:t.fetch,read:function(e){return t.routeBookSection(!1,t.lastReadSection)}}}),t._v(" "),t.hasFreeSection&&!t.bookInfo.isBorrowing?n("router-link",{staticClass:"button--write",attrs:{to:t.routeBookSection(!0,t.lastReadSection)}},[n("ApplyIcon",{staticClass:"apply-icon"}),t._v(" "),n("div",{staticClass:"title"},[t._v("\n                    "+t._s(t.lastReadSection?"继续试学":"免费试学")+"\n                  ")])],1):t._e()],1),t._v(" "),t.isMobileBrowser?t._e():n("div",{staticClass:"right-side",staticStyle:{color:"#515767"}},[n("div",{staticClass:"learn-people"},[t._v("\n                  "+t._s(t.bookInfo.buyerCount)+" 人加入学习\n                ")]),t._v(" "),n("BDivider",{staticStyle:{background:"#515767"},attrs:{type:"vertical"}}),t._v(" "),n("div",{staticClass:"learn-duration"},[t._v("\n                  "+t._s(t.sectionList.length||0)+" 小节\n                ")]),t._v(" "),n("div",{staticStyle:{margin:"0 8px"}},[t._v("·")]),t._v(" "),n("div",{staticClass:"total-time"},[t._v("约 "+t._s(t.totalTime))])],1)],1)])]),t._v(" "),t.isMobileBrowser&&t.bookInfo.price>0?n("div",{staticClass:"book-bought"},[n("div",{staticClass:"learn-duration",on:{click:function(e){return t.selectMenu(1,"sectionDirectory")}}},[n("div",{staticClass:"total-section"},[t._v("\n              "+t._s(t.sectionList.length||0)+" 小节\n            ")]),t._v(" "),n("div",{staticClass:"total-time"},[t._v("约 "+t._s(t.totalTime))])]),t._v(" "),n("BDivider",{style:"height: 80%; marginTop: 10px",attrs:{type:"vertical"}}),t._v(" "),n("div",{staticClass:"learn-people"},[n("div",{staticClass:"total-people"},[t._v(t._s(t.bookInfo.buyerCount)+" 人")]),t._v(" "),n("div",{style:"textAlign: center; opacity: 0.6; lineHeight: 20px;"},[t._v("\n              已加入学习\n            ")])])],1):t._e(),t._v(" "),t.isDistribute&&t.isMobileBrowser?n("div",{staticClass:"book-mobile-distribute",on:{click:function(e){return e.stopPropagation(),t.openDsDetailPage(e)}}},[n("div",{staticClass:"value"},[t._v(t._s(t.commission))])]):t._e(),t._v(" "),t.isMobileBrowser?n("div",{staticClass:"book-mobile-other"},[t.free||!t.hasFreeSection||t.bookInfo.isBorrowing?t._e():n("router-link",{staticClass:"button--write",attrs:{to:t.routeBookSection(!0,t.lastReadSection)}},[n("ApplyIcon",{staticClass:"apply-icon"}),t._v(" "),n("div",{staticClass:"title"},[t._v("\n              "+t._s(t.lastReadSection?"继续试学":"免费试学")+"\n            ")])],1),t._v(" "),n("BookBuyButton",{attrs:{book:t.bookInfo,"is-owner":t.free,"is-float-discount-label":!0,"section-route":t.routeBookSection(!0,t.lastReadSection)},on:{buyBook:t.buyBook}}),t._v(" "),t.free?t._e():n("VipBorrowButton",{attrs:{"book-info":t.bookInfo,"event-page":"detail"},on:{fetch:t.fetch,read:function(e){return t.routeBookSection(!1,t.lastReadSection)}}})],1):t._e()]):t._e(),t._v(" "),n("div",{ref:"bookInfoDetailPos",staticClass:"book-info-detail"},[n("div",{staticClass:"books-tabs"},[t.bookInfo?t._e():n("div",[t.loading?n("XituSkeleton",{staticClass:"book-card"}):n("div",{staticClass:"view authority-view"},[n("img",{attrs:{src:o(3205)}}),t._v(" "),n("p",{staticClass:"hint"},[t._v("暂无权限")])])],1),t._v(" "),t.bookInfo?n("div",{staticClass:"book-card",class:{"book-card-mobile":t.isMobileBrowser}},[n("div",{staticClass:"book-menu-wrap",class:{top:t.isViewMenuOnTop&&!t.isMobileBrowser,"top-mobile":t.isViewMenuOnTopMobile&&t.isMobileBrowser}},[n("div",{staticClass:"book-menu"},[n("div",{staticClass:"item",class:{active:0===t.scrollMenuIndex},on:{click:function(e){return t.selectMenu(0,"summaryBody")}}},[n("span",{staticClass:"text"},[t._v("介绍")])]),t._v(" "),n("div",{staticClass:"item",class:{active:1===t.scrollMenuIndex},on:{click:function(e){return t.selectMenu(1,"sectionDirectory")}}},[n("span",{staticClass:"text",staticStyle:{display:"inline-block",position:"relative"}},[t._v("\n                    目录\n                    "),t.isHasFreeSection&&t.hasFreeSection?n("div",{staticClass:"free-read",class:{"free-read-pc":!t.isMobileBrowser}},[t.isMobileBrowser?n("img",{attrs:{src:o(3206),alt:""}}):t._e(),t._v(" "),t.isMobileBrowser?t._e():n("img",{staticStyle:{width:"28px",height:"16px"},attrs:{src:o(3207),alt:""}})]):t._e()])]),t._v(" "),t.isShowBookletCommentTab?n("div",{staticClass:"item",class:{active:2===t.scrollMenuIndex},on:{click:function(e){return t.selectMenu(2,"commentBooklet")}}},[n("span",{staticClass:"text"},[t._v("评论")])]):t._e(),t._v(" "),t.isMobileBrowser?n("div",{staticClass:"item",class:{active:3===t.scrollMenuIndex},on:{click:function(e){return t.selectMenu(3,"recommendBooklet")}}},[n("span",{staticClass:"text"},[t._v("推荐小册")])]):t._e()])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isViewMenuOnTop||t.isViewMenuOnTopMobile,expression:"isViewMenuOnTop || isViewMenuOnTopMobile"}],staticClass:"transparent-menu",staticStyle:{height:"50px"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.sectionList.length&&1===t.scrollMenuIndex,expression:"sectionList.length && scrollMenuIndex === 1"}],ref:"sectionDirectory",staticClass:"book-content"},[n("div",{staticClass:"book-content-head"},[t._v("\n                课程内容\n                "),n("span",{staticClass:"message"},[t._v("\n                  "+t._s(t.bookInfo.isFinished?"已完结":"已更新"+(t.bookInfo.sectionCount||0)+"小节")+"\n                ")])]),t._v(" "),n("book-directory",{attrs:{free:t.free,info:t.bookInfo,list:t.sectionList}})],1),t._v(" "),t.bookInfo&&0===t.scrollMenuIndex?n("div",{ref:"summaryBody",staticClass:"book-section-view",class:{"over-thousand":t.isOverThousandPx&&t.isMobileBrowser}},[n("markdown-viewer",{staticClass:"markdown-viewer",attrs:{markdown:t.bookInfo.summaryMarkdown,html:t.bookInfo.summaryHtml}}),t._v(" "),t.isOverThousandPx&&t.isMobileBrowser&&t.isShowAllContent?n("div",{ref:"showAllContentWrap",staticClass:"show-all-content-wrap"},[n("span",{staticClass:"show-all-content",on:{click:t.handleShowAllContent}},[t._v("\n                  点击查看全部\n                  "),n("Arrows")],1)]):t._e()],1):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCommentMode&&t.isMobileBrowser,expression:"isShowCommentMode && isMobileBrowser"}],staticClass:"sift-comment",class:{mobile:t.isMobileBrowser}},[t.bookInfo&&0===t.scrollMenuIndex?n("div",{staticClass:"title"},[t._v("\n                评论\n              ")]):t._e(),t._v(" "),t.bookInfo&&0===t.scrollMenuIndex?n("div",{staticClass:"comment-list"},[n("CommentListBox",{staticClass:"booklet-comment-list-box",attrs:{subject:t.subject,"jj-helper-item-id":t.bookId,"jj-helper-item-type":12,expanded:!0,sticky:!1,"three-sift-comment":!0,"is-best-comment":!0,"is-hidden-reply":!0,"forbid-input":"forbidInput"},on:{isListLenMore3:t.handleIsListLenMore3,isShowCommentMode:t.handleIsShowCommentMode,syncCommentNum:t.syncCommentNum}})],1):t._e(),t._v(" "),t.isListLenMore3&&0===t.scrollMenuIndex&&t.isMobileBrowser?n("div",{staticClass:"more-comment",on:{click:t.handleBookDetailMoreCommentClick}},[t._v("\n                更多评论 >\n              ")]):t._e()]),t._v(" "),2===t.scrollMenuIndex?n("div",{staticClass:"bookComment",staticStyle:{padding:"0 2rem"}},[n("CommentListBox",{staticClass:"booklet-comment-list-box",attrs:{subject:t.subject,"jj-helper-item-id":t.bookId,"jj-helper-item-type":12,expanded:!0,sticky:!1,"is-hidden-reply":!0,"is-best-comment":!0,"forbid-input":"forbidInput"},on:{syncCommentNum:t.syncCommentNum}})],1):t._e(),t._v(" "),t.bookRecommendListMobile&&t.isMobileBrowser&&3===t.scrollMenuIndex&&t.bookRecommendListMobile.length?n("div",{ref:"recommendBooklet",staticClass:"book-card",staticStyle:{width:"100vw",margin:"10px 0"}},t._l(t.bookRecommendListMobile,(function(t){return n("Book",{key:t.booklet_id,staticClass:"book-item-h5",attrs:{book:t}})})),1):t._e()]):t._e()]),t._v(" "),t.isMobileBrowser?t._e():n("BAffix",{attrs:{"offset-top":74}},[n("div",{staticClass:"books-recommend"},[n("div",{staticClass:"books-recommend-title"},[t._v("推荐小册")]),t._v(" "),n("div",{staticClass:"books-recommend-list"},t._l(t.bookRecommendList,(function(t){return n("div",{key:t.booklet_id,staticClass:"books-recommend-item"},[n("BookRecommend",{attrs:{"book-info":t,"route-query":{enter_from:"detail_book",utm_source:"detail_book"}}})],1)})),0)])])],1)]),t._v(" "),t.bookInfo?n("copy-right"):t._e(),t._v(" "),n("image-viewer",{ref:"posterImageViewer",attrs:{"background-color":"rgba(0,0,0,.65)",margin:50,full:!0}}),t._v(" "),n("wechat-quick-login"),t._v(" "),t.isBookBoughtGuideVisible?n("BookGuidanceJoinWechat",{attrs:{info:t.bookInfo},on:{read:function(e){return t.routeBookSection(!1)},close:t.closeJoinWechat}}):t._e()],1)],1)}),[],!1,null,"7a1bea12",null));e.default=xt.exports},704:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"a",(function(){return r})),o.d(e,"f",(function(){return c})),o.d(e,"e",(function(){return l})),o.d(e,"g",(function(){return d})),o.d(e,"d",(function(){return m})),o.d(e,"c",(function(){return f}));var n="掘金,稀土,Vue.js,前端面试题,Kotlin,ReactNative,Python",r="掘金是面向全球中文开发者的技术内容分享与交流平台。我们通过技术文章、沸点、课程、直播等产品和服务，打造一个激发开发者创作灵感，激励开发者沉淀分享，陪伴开发者成长的综合类技术社区。",c="https://juejin.cn",l="juejin.cn",d=function(t){return"".concat(t,"技术、学习、经验文章掘金开发者社区搜索结果。掘金是一个帮助开发者成长的社区，").concat(t,"技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，用户每天都可以在这里找到技术世界的头条内容，我们相信你也可以在这里有所收获。")},m="掘金,科技资讯,开源新闻,开源软件,Vue.js,go mod,netty,后端,谷歌,亚马逊,GitHub",f="掘金是目前领先的中文开发者社区，致力帮助开发者成长，为开发者提供新鲜的科技行业动态、开源项目和编程语言动态。掘金是给开发者用的 Hacker News，给设计师用的 Designer News，和给产品经理用的 Medium。"},717:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return r}));o(70),o(44),o(27),o(14);var n=function(text){try{var textarea=document.createElement("textarea");document.body.appendChild(textarea),textarea.value=text,textarea.select(),document.execCommand("copy"),document.body.removeChild(textarea)}catch(t){throw"copy link error"}};function r(content){if(!(content=(null==content?void 0:content.trim())||""))return"";var t=((null==content?void 0:content.trim())||"").split("\n")[0];return t.length<=30?t:t.substring(0,30)}},721:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(758),r=o.n(n);function c(content){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:410,svg=new r.a({content:content,color:t,padding:0,width:e,height:e,background:"#ffffff",ecl:"L"}).svg();return"data:image/svg+xml;utf8,".concat(encodeURIComponent(svg))}},725:function(t,e,o){"use strict";o(123);var n=o(41);o(7);function r(t){return new Promise((function(e,o){var img=new window.Image;img.onload=function(){return e({width:img.naturalWidth,height:img.naturalHeight,url:t})},img.onerror=function(){return o()},img.src=t}))}var c=function(){return{loading:!1,loaded:!1,error:!1,src:null,imageStyle:{top:"",left:"",width:"",height:"",transform:""},token:Date.now()}},l={props:["backgroundColor","margin","full"],data:c,methods:{show:function(t){var e=t.thumbUrl,o=t.originalUrl,rect=t.rect;this.loadImage({originalUrl:o,rect:rect}),this.loadTumb({thumbUrl:e,rect:rect})},close:function(){Object.assign(this,c()),this.unlockScroll()},loadTumb:function(t){var e=this,o=t.thumbUrl,rect=t.rect,n=this.token;r(o).then((function(t){if(e.isInSameView(n)&&!e.loaded&&!e.error){var r=e.computeRenderedRect(t.width,t.height);e.applyRect(r),e.src=o,e.applyTransform(e.computeTransform(r,rect))}})).catch((function(t){e.isInSameView(n)&&console.error(t)}))},loadImage:function(t){var e=this,o=t.originalUrl,rect=t.rect,n=this.token;this.loading=!0,r(o).then((function(image){if(e.isInSameView(n)){var t=!!e.src,r=!e.full&&e.isLargeLongImage(image),c=e.computeRenderedRect(image.width,image.height,r);e.applyRect(c),e.src=o,e.loading=!1,e.loaded=!0,r&&e.lockScroll(),t||e.applyTransform(e.computeTransform(c,rect))}})).catch((function(t){e.isInSameView(n)&&(console.error(t),e.loading=!1,e.error=!0)}))},applyRect:function(rect){Object.assign(this.imageStyle,{top:rect.top+"px",left:rect.left+"px",width:rect.width+"px",height:rect.height+"px"})},applyTransform:function(t){var e=this;this.imageStyle.transform=t,this.$nextTick((function(){e.forceReflow(),e.imageStyle.transform=""}))},initScrollEventListener:function(){var t=this,e=this.$getBean("eventBus"),o=e.eventType.ROOT_CONTAINER_SCROLL;e.onVmLife(this,o,(function(){t.src&&t.close()}))},computeRenderedRect:function(t,e,o){var r=Object(n.h)(),c=this.getSafeAreaSize();if(o){var l=Math.min(r.width,t,960),d=l*e/t;return{top:0,left:(r.width-l)/2,width:l,height:d}}var m=t/c.width,f=e/c.height,h=Math.max(m,f,1),v=t/h,_=e/h;return{top:(r.height-_)/2,left:(r.width-v)/2,width:v,height:_}},computeTransform:function(t,rect){var e=rect.width/t.width,o=rect.height/t.height,n=rect.width-t.width,r=rect.height-t.height,c=rect.top-t.top+r/2,l=rect.left-t.left+n/2,d="translate3d(".concat(l,"px, ").concat(c,"px, 0)"),m="scale3d(".concat(e,", ").concat(o,", 1)");return"".concat(d," ").concat(m)},forceReflow:function(){document.body.clientWidth},isInSameView:function(t){return t===this.token},isLargeLongImage:function(image){var t=this.getSafeAreaSize(),e=t.width,o=t.height,n=o/e,r=image.height/image.width,c=r>1&&r>n;return(image.width>e||image.height>o)&&c},getSafeAreaSize:function(){var t=Object(n.h)(),e=t.width,o=t.height;return{width:Math.max(0,e-2*(+this.margin||0)),height:Math.max(0,o-2*(+this.margin||0))}},lockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)}},mounted:function(){this.initScrollEventListener()}},d=(o(778),o(30)),m=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.src?n("div",{staticClass:"image-viewer",class:{loading:t.loading},on:{click:t.close}},[n("div",{staticClass:"image-box",style:{backgroundColor:t.backgroundColor}},[t.error?n("img",{staticClass:"image error",attrs:{src:o(728)}}):n("img",{staticClass:"image",style:t.imageStyle,attrs:{src:t.src}})])]):t._e()])}),[],!1,null,"10b7b0e6",null).exports,f=o(856),h=o.n(f),v=function(){return{isLargeLongMode:!1,isZoomMode:!1,loading:!1,loaded:!1,error:!1,src:null,offsetX:0,offsetY:0,canZoom:!1,token:Date.now()}},_={props:["backgroundColor","margin","full"],data:v,methods:{show:function(t){var e=t.thumbUrl,o=t.originalUrl,rect=t.rect;this.loadImage({originalUrl:o,rect:rect}),this.loadTumb({thumbUrl:e,rect:rect})},close:function(){this.destroyGesture(),Object.assign(this,v()),this.unlockScroll()},loadTumb:function(t){var e=this,o=t.thumbUrl,n=(t.rect,this.token);r(o).then((function(t){!e.isInSameView(n)||e.loaded||e.error||(e.src=o)})).catch((function(t){e.isInSameView(n)&&console.error(t)}))},loadImage:function(t){var e=this,o=t.originalUrl,n=(t.rect,this.token);this.loading=!0,r(o).then((function(image){if(e.isInSameView(n)){var t=!e.full&&e.isLargeLongImage(image);e.src=o,e.loading=!1,e.loaded=!0,e.isLargeLongMode=t,e.canZoom=e.isLargeImage(image),e.initGesture(),e.isLargeLongMode&&e.lockScroll()}})).catch((function(t){e.isInSameView(n)&&(console.error(t),e.loading=!1,e.error=!0)}))},isInSameView:function(t){return t===this.token},isLargeLongImage:function(image){var t=Object(n.h)(),e=t.width,o=t.height,r=o/e,c=image.height/image.width,l=c>1&&c>r;return(image.width>e||image.height>o)&&l},isLargeImage:function(image){var t=Object(n.h)(),e=t.width;return t.height<image.height||e<image.width},lockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)},initScrollEventListener:function(){var t=this,e=this.$getBean("eventBus"),o=e.eventType.ROOT_CONTAINER_SCROLL;e.onVmLife(this,o,(function(){t.src&&!t.isZoomMode&&t.close()}))},adjustOffset:function(){var t=Object(n.h)(),e=t.width,o=t.height,rect=this.$refs.image.getBoundingClientRect();rect.width<e?this.offsetX=0:rect.left>0?this.offsetX-=rect.left:rect.left+rect.width<e&&(this.offsetX+=e-rect.left-rect.width),rect.height<o?this.offsetY=0:rect.top>0?this.offsetY-=rect.top:rect.top+rect.height<o&&(this.offsetY+=o-rect.top-rect.height)},initGesture:function(){var t=this;this.$nextTick((function(){t.finger=new h.a(t.$refs.imageBox,{singleTap:function(e){t.isZoomMode?(t.isZoomMode=!1,t.offsetX=0,t.offsetY=0):t.close()},doubleTap:function(e){t.canZoom&&(t.isZoomMode=!t.isZoomMode,t.isZoomMode?t.lockScroll():(t.unlockScroll(),t.offsetX=0,t.offsetY=0))},pressMove:function(e){var o=e.deltaX,n=e.deltaY;t.isZoomMode&&(t.offsetX+=o,t.offsetY+=n)},touchEnd:function(){t.isZoomMode&&window.setTimeout((function(){t.adjustOffset()}),100)}})}))},destroyGesture:function(){this.finger&&this.finger.destroy()}},mounted:function(){this.initScrollEventListener()}},y=(o(779),Object(d.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.src?n("div",{staticClass:"image-viewer mobile",class:{loading:t.loading}},[n("div",{ref:"imageBox",staticClass:"image-box",class:{"large-long":t.isLargeLongMode},style:{backgroundColor:t.backgroundColor}},[t.error?n("img",{staticClass:"image error",attrs:{src:o(728)}}):n("img",{ref:"image",staticClass:"image",class:{zoom:t.isZoomMode},style:{transform:"translate3d("+t.offsetX+"px, "+t.offsetY+"px, 0)"},attrs:{src:t.src}})])]):t._e()])}),[],!1,null,"93a27598",null).exports),C=o(121);var k={components:{Desktop:m,Mobile:y},props:["selector","backgroundColor","margin","full"],data:function(){return{component:null}},methods:{attachContainer:function(t){this.container!==t&&(this.removeEventListener(),this.addEventListener(t),this.container=t)},onClick:function(t){var e,o=t.target;if(this.isMatched(o)){var n=(e=o).getAttribute("data-src")||e.getAttribute("src")||function(t){var e=(t.style.backgroundImage||"").match(/url\("?'?(.+?)"?'?\)/i);return e&&e[1]}(e);if(n){var r=Object(C.f)(n),rect=o.getBoundingClientRect();this.$refs.viewer.show({thumbUrl:n,originalUrl:r,rect:rect})}}},addEventListener:function(t){var e=this;t.__removeIamgeViewListener=Object(n.k)(t,"click",(function(t){e.onClick(t)}),!0)},removeEventListener:function(){this.container&&this.container.__removeIamgeViewListener()},isMatched:function(t){return!t.classList.contains("equation")&&!this.$el.contains(t)&&Object(n.j)(t,this.selector||"img")}},mounted:function(){this.component=this.$device.isMobile?"Mobile":"Desktop"},beforeDestroy:function(){this.removeEventListener()}},w=(o(780),Object(d.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image-viewer-box"},[e(this.component,{ref:"viewer",tag:"component",attrs:{selector:this.selector,"background-color":this.backgroundColor,margin:this.margin,full:this.full}})],1)}),[],!1,null,"5ca9a68f",null));e.a=w.exports},728:function(t,e,o){t.exports=o.p+"img/image-error.3338abe.png"},729:function(t,e,o){},730:function(t,e,o){},731:function(t,e,o){},735:function(t,e,o){"use strict";var n,r;o.d(e,"d",(function(){return n})),o.d(e,"e",(function(){return r})),o.d(e,"c",(function(){return l})),o.d(e,"b",(function(){return d})),o.d(e,"a",(function(){return m})),o.d(e,"f",(function(){return f})),function(t){t.UNPLAY="unplay",t.PLAYING="playing",t.PAUSED="paused",t.PLAYED="played"}(n||(n={})),function(t){t.detailRoute="bytetechVideoDetail",t.singleDetailRoute="bytetechVideoSingleDetail"}(r||(r={}));var c,l={routeName:"courseIndex",videoCategory:"bytetech",vipBookType:"vip"},d={title:"掘金小册是什么？",desc:"一个小篇幅、高浓度、成体系、有收益的技术学习平台",spreadQrcode:"https://z.juejin.cn/L54A"};!function(t){t.PutOnTimeSort="1",t.SaleCountDesc="7",t.PriceAsc="8",t.PriceDesc="9",t.DefaultSort="10"}(c||(c={}));var m={10:"recommend",7:"hot",1:"new",9:"price_h2l",8:"price_l2h"},f={discussTitle:"加入掘金会员，查看并参与课程讨论，字节内部课免费学",resouceTitle:"加入掘金会员，即可查看学习资料，字节内部课免费学"}},741:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 10.5759L13.4212 5.15476C13.5513 5.02459 13.7624 5.02459 13.8926 5.15476L14.364 5.62616C14.4941 5.75634 14.4941 5.96739 14.364 6.09757L8.4714 11.9901C8.21106 12.2505 7.78894 12.2505 7.5286 11.9901L1.63604 6.09757C1.50586 5.96739 1.50586 5.75634 1.63604 5.62616L2.10744 5.15476C2.23762 5.02459 2.44867 5.02459 2.57885 5.15476L8 10.5759Z",fill:"#4E5969"}})]))}}},742:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"#86909c",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 1C14.3682 1 14.6667 1.29848 14.6667 1.66667V12.3333C14.6667 12.7015 14.3682 13 14 13H10.5924L8.44602 14.932C8.19248 15.1601 7.8076 15.1601 7.55406 14.932L5.40737 13H2.00004C1.63185 13 1.33337 12.7015 1.33337 12.3333V1.66667C1.33337 1.29848 1.63185 1 2.00004 1H14ZM13.3334 2.33333H2.6667V11.6667H5.919L8 13.5395L10.0807 11.6667H13.3334V2.33333ZM11.3334 6.66667C11.3334 6.48257 11.1841 6.33333 11 6.33333H5.00003C4.81594 6.33333 4.6667 6.48257 4.6667 6.66667V7.33333C4.6667 7.51743 4.81594 7.66667 5.00003 7.66667H11C11.1841 7.66667 11.3334 7.51743 11.3334 7.33333V6.66667Z"}})]))}}},743:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.56162 2.16903C8.66569 2.09612 8.78195 2.06075 8.88247 2.09071C8.97653 2.11874 9.23851 2.25868 9.50988 2.9675C9.64419 3.31832 9.9356 4.24191 9.42155 6.05383C9.29751 6.49103 9.61394 6.95254 10.0926 6.95922L13.492 7.00667L13.492 7.00672H13.4991C13.6049 7.00672 13.7228 7.01937 13.8134 7.05849C13.8544 7.07622 13.8815 7.0959 13.8999 7.11552C13.9166 7.13326 13.9368 7.16198 13.9515 7.21587C13.9848 7.33735 14.0228 7.74663 13.9473 8.42213C13.874 9.07808 13.698 9.9443 13.341 10.9593C13.0424 11.8083 12.6601 12.5287 12.0684 13.4874C12.0558 13.5047 12.0462 13.5192 12.0418 13.526L12.0404 13.528C12.0292 13.5449 12.0242 13.5526 12.018 13.5613C12.0076 13.5759 12.0018 13.5815 11.9983 13.5845C11.996 13.5865 11.9908 13.5907 11.9777 13.5954C11.9638 13.6004 11.9311 13.6095 11.8706 13.6095H5.56278L5.56373 6.58441C5.87126 6.41852 6.19881 6.20079 6.54112 5.8401C6.93883 5.42103 7.33789 4.82891 7.76254 3.94134C7.84974 3.75908 7.91745 3.55913 7.97574 3.37714C7.99264 3.32437 8.0087 3.2733 8.02438 3.22344L8.02439 3.2234C8.066 3.09109 8.10495 2.96727 8.14985 2.84264C8.2758 2.49303 8.40247 2.28052 8.56162 2.16903ZM10.452 2.6068C10.1323 1.7716 9.70208 1.28228 9.17063 1.12389C8.64564 0.967414 8.20308 1.18842 7.98278 1.34276C7.55169 1.64476 7.33837 2.11859 7.20071 2.50071C7.14817 2.64656 7.10002 2.79968 7.05661 2.93775C7.0422 2.98357 7.02832 3.02773 7.01496 3.06941C6.95791 3.24755 6.90763 3.39066 6.85248 3.50594C6.45683 4.33291 6.1121 4.82661 5.80935 5.14563C5.51322 5.45766 5.23983 5.62142 4.9473 5.76772C4.71095 5.88592 4.55494 6.12857 4.55491 6.40111L4.55388 13.912C4.55383 14.3021 4.87002 14.6183 5.26008 14.6183H11.8706C12.2097 14.6183 12.4663 14.5109 12.6519 14.3531C12.7387 14.2792 12.7988 14.2038 12.8387 14.1479C12.8556 14.1243 12.8704 14.102 12.8786 14.0895L12.8813 14.0854L12.8826 14.0835L12.8955 14.068L12.9142 14.0377C13.5304 13.0409 13.9578 12.2465 14.2927 11.294C14.6745 10.2085 14.8679 9.26762 14.9499 8.53421C15.0297 7.82035 15.009 7.25796 14.9246 6.94965C14.805 6.51236 14.5104 6.26063 14.2134 6.13235C13.9385 6.01358 13.661 5.9981 13.5028 5.99787L10.4907 5.95583C10.9296 4.15742 10.648 3.11853 10.452 2.6068ZM1.0008 6.46734C0.981809 6.06471 1.30313 5.72787 1.70621 5.72787H2.75264C3.14266 5.72787 3.45883 6.04405 3.45883 6.43407V13.9437C3.45883 14.3337 3.14266 14.6499 2.75264 14.6499H2.06044C1.68335 14.6499 1.37279 14.3536 1.35502 13.977L1.0008 6.46734Z",fill:"#8A919F"}})]))}}},744:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.452 2.6068C10.1323 1.7716 9.70208 1.28228 9.17063 1.12389C8.64564 0.967414 8.20308 1.18842 7.98278 1.34276C7.55169 1.64476 7.33837 2.11859 7.20071 2.50071C7.14817 2.64655 7.10003 2.79966 7.05661 2.93773L7.05661 2.93775C7.0422 2.98357 7.02832 3.02773 7.01496 3.06941C6.95791 3.24755 6.90763 3.39066 6.85248 3.50594C6.45683 4.33291 6.1121 4.82661 5.80935 5.14563C5.51322 5.45766 5.23983 5.62142 4.9473 5.76772C4.71095 5.88592 4.55494 6.12857 4.55491 6.40111L4.55388 13.912C4.55383 14.3021 4.87002 14.6183 5.26008 14.6183H11.8706C12.2097 14.6183 12.4663 14.5109 12.6519 14.3531C12.7388 14.2792 12.7988 14.2038 12.8387 14.1479C12.8556 14.1243 12.8704 14.102 12.8786 14.0895L12.8813 14.0854L12.8826 14.0835L12.8955 14.068L12.9142 14.0377C13.5304 13.0409 13.9578 12.2465 14.2927 11.294C14.6745 10.2085 14.8679 9.26762 14.9499 8.53421C15.0297 7.82035 15.009 7.25796 14.9246 6.94965C14.805 6.51236 14.5104 6.26063 14.2134 6.13235C13.9385 6.01358 13.661 5.9981 13.5028 5.99787L10.4907 5.95583C10.9296 4.15742 10.648 3.11853 10.452 2.6068ZM1.0008 6.46734C0.981809 6.06471 1.30313 5.72787 1.70621 5.72787H2.75264C3.14266 5.72787 3.45883 6.04405 3.45883 6.43407V13.9437C3.45883 14.3337 3.14266 14.6499 2.75264 14.6499H2.06044C1.68335 14.6499 1.37279 14.3536 1.35502 13.977L1.0008 6.46734Z",fill:"#1E80FF"}})]))}}},745:function(t,e,o){},746:function(t,e,o){},747:function(t,e,o){},748:function(t,e,o){},749:function(t,e,o){},750:function(t,e,o){},778:function(t,e,o){"use strict";o(729)},779:function(t,e,o){"use strict";o(730)},780:function(t,e,o){"use strict";o(731)},786:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{d:"M8 6L4 9L4 3L8 6Z",fill:"#8A919F"}})]))}}},788:function(t,e,o){"use strict";o(23);var n=o(5),r=o(52),c=o(703),l=o(741),d=o.n(l),m=o(41),f=o(723),h=o(725),v=o(57),_=o(742),y=o.n(_),C=o(743),k=o.n(C),w=o(744),j=o.n(w),O=o(250),I=o(164),S=o(708),L=o(165),x=o(252),B=o(702),M=o(6),P=o(786),D=o.n(P),R=o(735),E=Object(M.b)({components:{VideoSingleIcon:D.a},props:{comment:{type:Object,default:function(){return{}}}},setup:function(t,e){var o=e.root,n=Object(M.a)((function(){return o.$userPosition(t.comment.user_info)}));return{isMobile:o.$device.isMobile,position:n,getVideoDetailRoute:function(t){return{name:R.e.singleDetailRoute,params:{id:t.parent_id,sectionId:t.item_id}}}}}}),$=(o(796),o(30)),T=Object($.a)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment-more-info"},[!t.isMobile&&t.position?o("span",{staticClass:"divide"}):t._e(),t._v(" "),t.position?o("span",{staticClass:"position"},[t._v("\n    "+t._s(t.position)+"\n  ")]):t._e(),t._v(" "),!t.isMobile||t.isMobile&&t.position?o("span",{class:{divide:!t.isMobile,dot:t.isMobile}}):t._e(),t._v(" "),o("time",{staticClass:"time",attrs:{datetime:t._f("iso")(1e3*t.comment.comment_info.ctime),title:new Date(1e3*t.comment.comment_info.ctime)}},[t._v("\n    "+t._s(t._f("relative")(1e3*t.comment.comment_info.ctime))+"\n  ")]),t._v(" "),t.comment.root_item&&t.comment.root_item.item_id?o("span",{staticClass:"dot"}):t._e(),t._v(" "),t.comment.root_item&&t.comment.root_item.item_id?o("router-link",{staticClass:"extra-info",attrs:{to:t.getVideoDetailRoute(t.comment.root_item)}},[o("div",{staticClass:"video-title"},[t._v("来自分辑-"+t._s(t.comment.root_item.title))]),t._v(" "),o("VideoSingleIcon",{staticClass:"single-video-icon"})],1):t._e()],1)}),[],!1,null,"29d7f98b",null).exports,F=o(167),A=o(169),V={components:{CommentForm:f.a,UserPopover:S.default,Avatar:O.a,Thumb:I.a,LikeIcon:k.a,LikeActiveIcon:j.a,CommentIcon:y.a},props:["replyList","subject","parent","reply","removable","user","mode","isHiddenReply","jjHelperItemId","jjHelperItemType"],data:function(){return{likeLock:Object(B.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,replyCount:this.reply.reply_info.reply_count,extend:!1}},computed:{isMobile:function(){return this.$device.isMobile},parentReply:function(){var t,content=null===(t=this.reply.parent_reply)||void 0===t?void 0:t.reply_content;return this.hasParentRemove&&content?"该评论已被删除":content?Object(x.b)(content):""},hasParentRemove:function(){var t;return 0===(null===(t=this.reply.parent_reply)||void 0===t?void 0:t.reply_status)},currentUser:function(){var t=this.$store.getters;return"USER"in t?t.USER:null},removableReply:function(){return this.removable||this.isCurrentUsersReply()},hasAuthorBadge:function(){return this.subject.user_id===this.reply.user_info.user_id},imageUrl:function(){return this.reply.reply_info.reply_pics[0]&&this.reply.reply_info.reply_pics[0].pic_url},limitedContent:function(){return Object(A.d)(this.reply.reply_info.reply_content,{maxLineCount:this.maxLineCount,perLineLength:this.perLineLength,escapeReg:F.a})},collapsed:function(){return this.limitedContent.length<this.reply.reply_info.reply_content.length&&!this.isShowAll&&this.reply.reply_info.reply_content.length-this.limitedContent.length>this.perLineLength},replyPlaceholder:function(){return"回复".concat(this.reply.user_info.user_name,"...")},perLineLength:function(){return this.$device.isMobile?30:40},maxLineCount:function(){return this.$device.isMobile?4:6},isAutoFocus:function(){return!this.user||this.user.isBindedPhone}},mounted:function(){var t=this.$refs.content;if(t){var e=t.clientHeight;t.scrollHeight>e&&(this.extend=!0)}},methods:{parseUrlEmoji:x.b,onSyncCommentNum:function(t){"add"===t.type&&(this.replyCount=this.replyCount+(t.count||1)),"sub"===t.type&&(this.replyCount=this.replyCount-(t.count||1)),this.$emit("syncCommentNum",t)},isCurrentUsersReply:function(){return this.currentUser&&this.currentUser.user_id===this.reply.user_info.user_id},toggleLike:function(){var t=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){t.isLikeLoading=!0,t.reply.user_interact.is_digg?Object(v.c)({itemId:t.reply.reply_info.reply_id,type:6}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.reply.reply_info.digg_count--,t.reply.user_interact.is_digg=!t.reply.user_interact.is_digg)})):(Object(v.b)({itemId:t.reply.reply_info.reply_id,type:6}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.reply.reply_info.digg_count++,t.reply.user_interact.is_digg=!t.reply.user_interact.is_digg)})),t.$TEA("like_action",{like_comment_mode:t.mode}))}))):this.$requestBindPhoneNumber(L.b.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout((function(){t.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1,this.$emit("submitted")},deleteComment:function(t){var e=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&Object(c.b)({comment_id:t.reply_info.reply_comment_id,reply_id:t.reply_info.reply_id}).then((function(){e.replyList.some((function(o,n){o.reply_info.reply_id===t.reply_info.reply_id&&e.replyList.splice(n,1)})),e.$alertMsg("删除成功"),e.$emit("syncCommentNum",{type:"sub"})})).catch((function(){e.$alertMsg("删除失败，刷新后重试")}))}))}}},U=(o(797),{components:{SubComment:Object($.a)(V,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"subcomment"},[o("UserPopover",{attrs:{"user-id":t.reply.user_info.user_id,"show-jscore-level":!0}},[o("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.reply.user_info.user_id),blank:!0}},[o("Avatar",{staticClass:"avatar",attrs:{user:t.reply.user_info,size:48}})],1)],1),t._v(" "),o("div",{staticClass:"content-box"},[o("div",{staticClass:"content-wrapper"},[o("span",{staticClass:"delete",class:{removable:t.removableReply},on:{click:function(e){return t.deleteComment(t.reply)}}},[t._v("\n        删除\n      ")]),t._v(" "),o("div",{staticClass:"user-box"},[o("UserPopover",{attrs:{"user-id":t.reply.user_info.user_id,"show-jscore-level":!0}},[o("username",{staticClass:"username",attrs:{user:t.reply.user_info,universal:!0,"show-jpower-level":!1}})],1),t._v(" "),t.hasAuthorBadge&&!t.isMobile?o("span",{staticClass:"author-badge-text"},[t._v("\n          （作者）\n        ")]):t._e(),t._v(" "),t.reply.reply_user&&t.reply.reply_user.user_name&&!t.isMobile?o("div",{staticClass:"rely-box"},[o("span",[t._v("回复")]),t._v(" "),o("UserPopover",{attrs:{"user-id":t.reply.reply_user.user_id,"show-jscore-level":!0}},[o("app-link",{staticClass:"repliedname",attrs:{to:t.$userRoute(t.reply.reply_user)}},[t._v("\n              "+t._s(t.reply.reply_user.user_name)+"\n            ")])],1)],1):t._e(),t._v(" "),o("span",{staticClass:"divide"}),t._v(" "),o("time",{staticClass:"time",attrs:{datetime:t._f("iso")(1e3*t.reply.reply_info.ctime),title:new Date(1e3*t.reply.reply_info.ctime)}},[t._v("\n          "+t._s(t._f("relative")(1e3*t.reply.reply_info.ctime))+"\n        ")])],1),t._v(" "),o("div",{ref:"content",staticClass:"content",class:{extend:t.isShowAll,hasimage:!!t.imageUrl},domProps:{innerHTML:t._s(t.parseUrlEmoji(t.reply.reply_info.reply_content))}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&!t.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("\n        展开\n      ")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&t.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("\n        收起\n      ")]),t._v(" "),t.imageUrl?o("Thumb",{staticClass:"viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),t._v(" "),t.parentReply?o("div",{staticClass:"parent-wrapper"},[t.hasParentRemove?t._e():o("div",[t._v("“")]),t._v(" "),o("div",{staticClass:"parent-content",domProps:{innerHTML:t._s(t.parentReply)}}),t._v(" "),t.hasParentRemove?t._e():o("div",[t._v("”")])]):t._e(),t._v(" "),o("div",{staticClass:"action-box"},[o("div",{staticClass:"item dig-item",class:t.reply.user_interact.is_digg&&"active",on:{click:t.toggleLike}},[t.reply.user_interact.is_digg?o("LikeActiveIcon"):o("LikeIcon"),t._v("\n          "+t._s(t.reply.reply_info.digg_count||"点赞")+"\n        ")],1),t._v(" "),t.isHiddenReply?t._e():o("div",{staticClass:"item",class:t.isReplyFormVisible&&"active",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[o("CommentIcon"),t._v("\n          "+t._s(t.isReplyFormVisible?"取消回复":t.replyCount||"回复")+"\n        ")],1)])],1),t._v(" "),t.isReplyFormVisible?o("CommentForm",{staticClass:"replyform",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.parent,comment:t.reply,"reply-list":t.replyList,"auto-focus":t.isAutoFocus,placeholder:t.replyPlaceholder,mode:t.mode},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}):t._e()],1)],1)}),[],!1,null,"e65add6e",null).exports,MoreIcon:d.a},props:["subject","parent","expanded","removable","user","mode","isHiddenReply","hiddenSubComment","jjHelperItemId","jjHelperItemType"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,showAll:!1}},computed:{canFetchMore:function(){var t=this.parent.comment_info.reply_count;return!!this.list.length&&(t>2&&t<=10&&(this.showAll=!0),this.expanded?"0"===this.cursor?this.parent.comment_info.reply_count>this.list.length:this.has_more:this.list.length&&this.parent.comment_info.reply_count>this.list.length)}},watch:{parent:function(t){this.list=t.reply_infos}},created:function(){this.list=this.hiddenSubComment?[]:this.parent.reply_infos},methods:{getRouterParams:function(){return{name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id}}},refetch:function(){this.$emit("refetch")},fetchMore:function(){var t=this;!this.loading&&this.has_more&&(this.loading=!0,Object(c.f)({comment_id:this.parent.comment_info.comment_id,item_id:this.subject.item_id,item_type:this.subject.item_type,cursor:this.cursor,limit:this.limit}).then((function(e){var data=e.data,o=e.count,n=e.has_more,cursor=e.cursor;t.loading=!1,t.mergeList(data),t.count=o,t.has_more=n,t.cursor=cursor})).catch((function(e){t.loading=!1,console.error(e)})))},mergeList:function(t){var e,o=this.list.reduce((function(t,e){return t[e.reply_info.reply_id]=!0,t}),{}),n=t.filter((function(t){return!o[t.reply_info.reply_id]}));(e=this.list).push.apply(e,Object(r.a)(n))},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)}}}),H=(o(798),Object($.a)(U,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.list.length?o("div",{staticClass:"sub-comment-list"},[o("div",t._l(t.list,(function(e){return o("sub-comment",{key:e.reply_info.reply_id,staticClass:"sub-comment",attrs:{"data-jj-helper-comment-id":e.reply_info&&e.reply_info.reply_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.parent,reply:e,"reply-list":t.list,removable:t.removable,user:t.user,mode:t.mode,"is-hidden-reply":t.isHiddenReply},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})})),1),t._v(" "),t.canFetchMore&&t.has_more?o("div",{staticClass:"fetch-more"},[t.expanded||t.showAll?t.loading?o("span",{staticClass:"fetch-more-comment"},[t._v("加载中...")]):o("span",{staticClass:"fetch-more-comment",on:{click:t.fetchMore}},[t._v("\n      查看更多回复\n      "),o("MoreIcon")],1):o("app-link",{staticClass:"fetch-more-comment",attrs:{to:t.getRouterParams(),blank:!0}},[t._v("\n      查看更多回复\n    ")])],1):t._e()]):t._e()}),[],!1,null,"73d1824e",null).exports),N={components:{Avatar:O.a,Thumb:I.a,CommentForm:f.a,SubCommentList:H,UserPopover:S.default,LikeIcon:k.a,CommentIcon:y.a,LikeActiveIcon:j.a,CommentExtraInfo:T},props:["list","subject","comment","expanded","mode","isHiddenReply","hiddenSubComment","jjHelperItemId","jjHelperItemType","enterMethod"],data:function(){return{likeLock:Object(B.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,parseUrlEmoji:x.b,extend:!1,replyCount:this.comment.comment_info.reply_count}},computed:{isMobile:function(){return this.$device.isMobile},isDelete:function(){var t;return null===(t=this.comment.user_info)||void 0===t?void 0:t.is_logout},currentUser:function(){var t=this.$store.getters;return"USER"in t?t.USER:null},isCurrentUsersSubject:function(){return this.currentUser&&this.currentUser.user_id===this.subject.user_id},isCurrentUsersComment:function(){return this.currentUser&&this.currentUser.user_id===this.comment.user_info.user_id},isAdmin:function(){return this.currentUser&&"admin"===this.currentUser.role},hasAuthorBadge:function(){return this.subject.user_id===this.comment.user_info.user_id},removable:function(){return this.isAdmin||this.isCurrentUsersSubject||this.isCurrentUsersComment},mobile:function(){return this.$device.isMobile},imageUrl:function(){return this.comment.comment_info.comment_pics[0]&&this.comment.comment_info.comment_pics[0].pic_url},replyPlaceholder:function(){return"回复".concat(this.comment.user_info.user_name,"...")},isAutoFocus:function(){return!this.currentUser||this.currentUser.isBindedPhone}},mounted:function(){var t=this.$refs.content;if(t){var e=t.clientHeight;t.scrollHeight>e&&(this.extend=!0)}},methods:{toggleLike:function(){var t=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){t.isLikeLoading=!0,t.comment.user_interact.is_digg?Object(v.c)({itemId:t.comment.comment_info.comment_id,type:5}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.comment.comment_info.digg_count--,t.comment.user_interact.is_digg=!t.comment.user_interact.is_digg)})):(Object(v.b)({itemId:t.comment.comment_info.comment_id,type:5}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.comment.comment_info.digg_count++,t.comment.user_interact.is_digg=!t.comment.user_interact.is_digg)})),t.$TEA("like_action",{like_comment_mode:t.mode}))}))):this.$requestBindPhoneNumber(L.b.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout((function(){t.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1},refetch:function(){this.$emit("refetch")},deleteComment:function(t){var e=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&Object(c.a)({comment_id:t.comment_info.comment_id}).then((function(){e.list.some((function(o,n){o.comment_info.comment_id===t.comment_info.comment_id&&e.list.splice(n,1)})),e.$alertMsg("删除成功"),e.$emit("syncCommentNum",{type:"sub",count:t.reply_infos.length})})).catch((function(){e.$alertMsg("删除失败，刷新后重试")}))}))},onSyncCommentNum:function(t){"add"===t.type&&(this.replyCount=this.replyCount+(t.count||1)),"sub"===t.type&&(this.replyCount=this.replyCount-(t.count||1)),this.$emit("syncCommentNum",t)}}},G=(o(799),Object($.a)(N,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment"},[o("UserPopover",{staticClass:"popover",attrs:{"enter-method":t.enterMethod,"user-id":t.comment.user_info.user_id,"enable-popover":Boolean(!t.isDelete),"show-jscore-level":!0}},[o("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.comment.user_info.user_id),blank:!0}},[o("Avatar",{staticClass:"avatar",attrs:{user:t.comment.user_info,alt:t.comment.user_info.user_name+"的头像"}})],1)],1),t._v(" "),o("div",{staticClass:"content-box"},[o("div",{staticClass:"comment-main"},[o("span",{staticClass:"delete",class:{removable:t.removable},on:{click:function(e){return t.deleteComment(t.comment)}}},[t._v("\n        删除\n      ")]),t._v(" "),o("div",{staticClass:"user-box"},[o("UserPopover",{attrs:{"enter-method":t.enterMethod,"user-id":t.comment.user_info.user_id,"enable-popover":Boolean(!t.isDelete),"show-jscore-level":!0}},[o("username",{staticClass:"username",attrs:{user:t.comment.user_info,universal:!0,"show-jscore-level":!0}})],1),t._v(" "),t.hasAuthorBadge&&!t.isMobile?o("span",{staticClass:"author-badge-text"},[t._v("\n          （作者）\n        ")]):t._e(),t._v(" "),t.isMobile?t._e():o("CommentExtraInfo",{attrs:{comment:t.comment}})],1),t._v(" "),t.isMobile?o("CommentExtraInfo",{attrs:{comment:t.comment}}):t._e(),t._v(" "),o("div",{ref:"content",staticClass:"content",class:{extend:t.extend&&t.isShowAll,hasimage:!!t.imageUrl},domProps:{innerHTML:t._s(t.parseUrlEmoji(t.comment.comment_info.comment_content))}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&!t.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("\n        展开\n      ")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&t.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("\n        收起\n      ")]),t._v(" "),t.imageUrl?o("Thumb",{staticClass:"viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),t._v(" "),o("div",{staticClass:"action-box"},[o("div",{staticClass:"action-left"},[o("div",{staticClass:"item dig-item",class:t.comment.user_interact.is_digg&&"active",on:{click:t.toggleLike}},[t.comment.user_interact.is_digg?o("LikeActiveIcon"):o("LikeIcon"),t._v("\n            "+t._s(t.comment.comment_info.digg_count||"点赞")+"\n          ")],1),t._v(" "),t.isHiddenReply?t._e():o("div",{staticClass:"item",class:t.isReplyFormVisible&&"active",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[o("CommentIcon"),t._v("\n            "+t._s(t.isReplyFormVisible?"取消回复":t.replyCount||"回复")+"\n          ")],1)])])],1),t._v(" "),o("div",{staticClass:"subcomment-wrapper"},[t.isReplyFormVisible?o("CommentForm",{staticClass:"comment-form",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,comment:t.comment,"reply-list":t.comment.reply_infos,"auto-focus":t.isAutoFocus,placeholder:t.replyPlaceholder,mode:t.mode},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}):t._e(),t._v(" "),o("SubCommentList",{ref:"subCommentList",attrs:{"hidden-sub-comment":t.hiddenSubComment,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.comment,expanded:t.expanded,removable:t.isAdmin||t.isCurrentUsersSubject,user:t.currentUser,mode:t.mode,"is-hidden-reply":t.isHiddenReply},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})],1)])],1)}),[],!1,null,"3cba2486",null).exports),Z={components:{ImageViewer:h.a,Comment:G},props:["subject","list","expanded","mode","isHiddenReply","hiddenSubComment","jjHelperItemId","jjHelperItemType","enterMethod"],methods:{initImageViewer:function(){this.$refs.imageViewer.attachContainer(this.$el)},refetch:function(){this.$emit("refetch")},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)}},mounted:function(){this.initImageViewer()}},W=Object($.a)(Z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment-list"},[o("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._v(" "),t._l(t.list,(function(e){return o("comment",{key:e.comment_id,staticClass:"comment",attrs:{"data-jj-helper-comment-id":e.comment_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,"data-jj-helper-comment-status":e.comment_info.comment_status,list:t.list,comment:e,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:t.expanded,"hidden-sub-comment":t.hiddenSubComment,isHiddenReply:t.isHiddenReply,mode:t.mode,"enter-method":t.enterMethod},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})}))],2)}),[],!1,null,null,null).exports,z=o(9),Y=o(800),X=o.n(Y),Q=Object(z.d)({props:{subject:{type:Object,required:!0},jjHelperItemId:{type:String,default:""},jjHelperItemType:{type:String,default:""}},components:{HotIcon:X.a,CommentComp:G,ImageViewer:h.a},setup:function(t){var e=Object(z.r)([]);Object(z.y)((function(){var o=t.subject,n=o.item_id,r=o.item_type;n&&r&&Object(c.e)({item_id:n,item_type:r}).then((function(t){return e.value=t}))}));var o=Object(z.a)((function(){return e.value.slice(0,5)})),n=Object(z.r)(),r=Object(z.r)();return Object(z.x)([n,r],(function(){n.value&&r.value&&n.value.attachContainer(r.value)})),{list:o,imageViewer:n,commentContainer:r}}}),K=(o(801),Object($.a)(Q,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.list.length>0?o("div",{staticClass:"container"},[o("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._v(" "),o("div",{staticClass:"title"},[t._v("\n    热门评论\n    "),o("HotIcon")],1),t._v(" "),o("div",{ref:"commentContainer",staticClass:"list"},t._l(t.list,(function(e){return o("CommentComp",{key:e.comment_id,attrs:{"data-jj-helper-comment-id":e.comment_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,list:t.list,comment:e,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:!0,mode:"top"}})})),1)],1):t._e()}),[],!1,null,"00f8bb4c",null).exports),J={components:{CommentForm:f.a,CommentList:W,HotCommentList:K,MoreIcon:d.a},props:["subject","expanded","sticky","forbidInput","small","hasSort","hasHot","threeSiftComment","isHiddenReply","isBestComment","hiddenSubComment","jjHelperItemId","jjHelperItemType","enterMethod"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,listSize:0,sort:"new",hasLoadMore:!1}},computed:{sortData:function(){return{new:0,hot:1}[this.sort]||0}},watch:{"subject.item_id":{handler:function(t){t&&!this.$isServer&&this.fetchData()}},sortData:{handler:function(){this.$isServer||this.fetchData()}}},mounted:function(){this.fetchData()},beforeDestroy:function(){removeEventListener("scroll",this.handleBookCommentScroll)},methods:{setSort:function(t){this.$TEA("comment_switch",{switch:t}),this.sort=t},getMore:function(){var t=this;if(!this.expanded){var e=this.$router.resolve({name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id},hash:"#comment"}).href;window.open(e,"_blank")}if(this.expanded&&!this.hasLoadMore){this.hasLoadMore=!0,this.fetchMoreIfConditionIsSatisfied();var o=this.$getBean("eventBus");o.onVmLife(this,o.eventType.ROOT_CONTAINER_SCROLL,(function(){t.fetchMoreIfConditionIsSatisfied()})),Object(m.l)(this.$el,(function(){t.fetchMoreIfConditionIsSatisfied()}))}},fetchMore:function(){var t=this;if(!this.loading&&this.has_more){this.loading=!0;var e=this.subject,o=e.item_id,n=e.item_type;Object(c.d)({item_id:o,item_type:n,cursor:this.cursor,limit:this.limit,sort:this.sortData}).then((function(e){var data=e.data,cursor=e.cursor,o=e.count,n=e.has_more;t.listSize=data.length,t.loading=!1,t.mergeList(data),t.count=o,t.cursor=cursor,t.has_more=n})).catch((function(e){t.loading=!1,console.error(e)}))}},mergeList:function(t){var e,o=this.list.reduce((function(t,e){return t[e.comment_id]=!0,t}),{}),n=t.filter((function(t){return!o[t.comment_id]}));(e=this.list).push.apply(e,Object(r.a)(n))},fetchMoreIfConditionIsSatisfied:function(){Object(m.b)(this.$el)>-200&&this.fetchMore()},onRefetch:function(){this.fetchData()},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)},handleBookCommentScroll:function(){var t=this,e=document.documentElement.clientHeight,o=document.body.scrollHeight;if(document.documentElement.scrollTop+e>=o&&this.has_more&&!this.threeSiftComment){var n=this.subject,l=n.item_id,d=n.item_type;this.limit=this.expanded?20:5,Object(c.d)({item_id:l,item_type:d,cursor:this.cursor,limit:this.limit,sort:this.sortData}).then((function(e){var data=e.data,cursor=e.cursor,o=e.count,n=e.has_more,c=data.filter((function(t){return 5===t.comment_info.comment_status}));t.list=[].concat(Object(r.a)(t.list),Object(r.a)(c)),t.cursor=cursor,t.count=o,t.has_more=n}))}},fetchData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l,data,cursor,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.subject,n=o.item_id,r=o.item_type,!t.loading&&n){e.next=3;break}return e.abrupt("return");case 3:return t.loading=!0,t.limit=t.expanded?20:5,t.cursor="0",t.count=0,t.has_more=!0,e.prev=8,e.next=11,Object(c.d)({item_id:n,item_type:r,cursor:t.cursor,limit:t.limit,sort:t.sortData});case 11:l=e.sent,data=l.data,cursor=l.cursor,d=l.count,m=l.has_more,t.listSize=data.length,t.loading=!1,t.list=data,t.threeSiftComment&&data.length>3&&(t.list=t.list.filter((function(t){return 5===t.comment_info.comment_status})),t.list.length>3&&t.$emit("isListLenMore3"),t.list&&0!==t.list.length&&t.$emit("isShowCommentMode"),t.list=t.list.slice(0,3)),t.count=d,t.cursor=cursor,t.has_more=m,t.isBestComment&&(t.list=t.list.filter((function(t){return 5===t.comment_info.comment_status})),addEventListener("scroll",t.handleBookCommentScroll)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(8),t.loading=!1,console.error(e.t0);case 30:case"end":return e.stop()}}),e,null,[[8,26]])})))()}}},tt=(o(802),Object($.a)(J,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",class:t.small&&"small",attrs:{"data-jj-helper":"comment-container"}},[t.forbidInput?t._e():o("CommentForm",{staticClass:"comment-form",class:{hasborder:t.list&&t.list.length},attrs:{"comment-list":t.list,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,small:t.small},on:{syncCommentNum:t.onSyncCommentNum}}),t._v(" "),t.hasHot?o("HotCommentList",{staticClass:"hot-list hasborder",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType}}):t._e(),t._v(" "),t.list.length?o("div",{staticClass:"comment-list-wrapper"},[o("div",{staticClass:"title"},[t._v("\n      全部评论（"+t._s(t.subject.comment_count)+"）\n      "),t.hasSort?o("div",{staticClass:"sort"},[o("div",{staticClass:"item",class:"new"===t.sort&&"active",on:{click:function(e){return t.setSort("new")}}},[t._v("\n          最新\n        ")]),t._v(" "),o("div",{staticClass:"divide"}),t._v(" "),o("div",{staticClass:"item",class:"hot"===t.sort&&"active",on:{click:function(e){return t.setSort("hot")}}},[t._v("\n          最热\n        ")])]):t._e()]),t._v(" "),o("comment-list",{staticClass:"comment-list",attrs:{list:t.list,"enter-method":t.enterMethod,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:t.expanded,"is-hidden-reply":t.isHiddenReply,"hidden-sub-comment":t.hiddenSubComment,mode:t.sort},on:{refetch:t.onRefetch,syncCommentNum:t.onSyncCommentNum}}),t._v(" "),t.list.length<t.subject.comment_count&&t.has_more?o("p",{staticClass:"fetch-more-comment",on:{click:t.getMore}},[t._v("\n      "+t._s(t.hasLoadMore?"加载中...":"查看全部 "+t.subject.comment_count+" 条回复")+"\n      "),t.expanded&&!t.hasLoadMore?o("MoreIcon"):t._e()],1):t._e()],1):t._e()],1)}),[],!1,null,"44605f84",null));e.a=tt.exports},796:function(t,e,o){"use strict";o(745)},797:function(t,e,o){"use strict";o(746)},798:function(t,e,o){"use strict";o(747)},799:function(t,e,o){"use strict";o(748)},800:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{d:"M12.8 5.2C13.9532 6.46 14.8 8.2 14.8 10C14.7039 12.8937 12.6843 15.1706 9.97973 15.8159C10.359 12.3442 7.77588 9.35406 7.77588 9.35406C7.77588 9.35406 7.99512 13.7064 6.79514 15.8104C4.03715 15.1428 2 12.7806 2 9.8C2 7.776 2.9336 5.9728 4.4 4.8C5.8608 3.7056 6.8 1.9656 6.8 0C9.684 0.4368 11.894 2.9264 11.894 5.932C11.894 6.5012 11.746 7.0652 11.6 7.6C12.1264 6.9024 12.6184 6.0876 12.8 5.2Z",fill:"#F53F3F"}})]))}}},801:function(t,e,o){"use strict";o(749)},802:function(t,e,o){"use strict";o(750)},822:function(t,e,o){},857:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return c}));o(44),o(76),o(70),o(24),o(25),o(7);function n(t,e){if(0===t)return 0;var o=function(t,e){var o,n,r=0,c=t.toString(),l=e.toString();try{r+=(null===(o=c.split(".")[1])||void 0===o?void 0:o.length)||0}catch(t){console.error(t)}try{r+=(null===(n=l.split(".")[1])||void 0===n?void 0:n.length)||0}catch(t){console.error(t)}c=Number(c.replace(".","")),l=Number(l.replace(".",""));var d=c*l/Math.pow(10,r),m=e>0?.01:0;return Math.max(m,d)}(t,isNaN(e)?1:e/10);return 0===o?0:o.toFixed(2)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startTime:0,endTime:0},e=t.startTime,o=t.endTime,time=(new Date).getTime();return time>e&&time<o}function c(t){if(t<0||!t)return"0秒";if(0<=t&&t<60)return t+"秒";var e=Math.floor(t/60),s=Math.floor(t%60);return s>0?e+"分"+s+"秒":e+"分"}},859:function(t,e,o){},913:function(t,e,o){"use strict";o(822)},951:function(t,e,o){"use strict";var n=o(6),r=o(85),c=o(961),l=o.n(c),d=o(952),m=Object(n.b)({components:{BAffix:r.Affix,CourseIcon:l.a,UserAuth:d.a},props:{isHeaderVisible:{type:Boolean,default:!0},section:{type:Boolean,default:!1},bookId:{type:String,default:""}},setup:function(t,e){var o=e.root,r=Object(n.w)(),c=Object(n.a)((function(){return o.$device.isMobile})),l=Object(n.a)((function(){var t;return null===(t=o.$store.state.auth)||void 0===t?void 0:t.user}));return{currentUser:l,isMobileBrowser:c,handleToMycourse:function(){if(!l.value)return o.$requestLogin();r.push("/my-course")},handleReturnSection:function(){var e,n=new URL(window.location.href).pathname.substring(0,6),c=(null===(e=o.$route.query)||void 0===e?void 0:e.suid)||"";r.push("/".concat("/video"===n?"video":"book","/").concat(t.bookId,"?").concat(c?"suid=".concat(c,"&"):"","scrollMenuIndex=1"))},clickVip:function(){o.$TEA("member_course_nav_click"),l.value&&l.value.is_vip?r.push({path:"/membership"}):r.push({path:"/vip",query:{utm_source:"h5_course_nav"}})},shopVipEntry:function(){o.$TEA("member_course_nav_display")}}}}),f=(o(962),o(30)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isMobileBrowser?n("BAffix",{staticClass:"wrapper",class:{visible:t.isHeaderVisible}},[n("div",{staticClass:"book-sticky-header"},[t.section?n("div",{staticClass:"return-section",on:{click:t.handleReturnSection}},[n("img",{attrs:{src:o(960),alt:""}}),t._v(" "),n("span",[t._v("返回目录")])]):n("router-link",{staticClass:"course",attrs:{to:"/course"}},[n("CourseIcon",{staticClass:"course-img"}),t._v(" "),n("span",[t._v("课程")])],1),t._v(" "),n("div",{staticClass:"right-box"},[n("div",{staticClass:"vip-title",on:{click:t.clickVip}},[n("img",{staticClass:"vip-img",attrs:{src:o(367),alt:"vip"},on:{load:t.shopVipEntry}}),t._v(" "),n("div",{staticClass:"vip-words"},[t._v("会员")])]),t._v(" "),n("div",{staticClass:"my-course",class:{"is-login-course":t.currentUser},attrs:{target:"_blank"},on:{click:t.handleToMycourse}},[t._v("\n        课程中心\n      ")]),t._v(" "),n("UserAuth",{staticClass:"user-auth"})],1)],1),t._v(" "),t._t("stickyNav")],2):t._e()}),[],!1,null,"4c5cda25",null);e.a=component.exports},952:function(t,e,o){"use strict";o(19),o(18),o(13),o(7),o(16);var n=o(0),r=o(86),c=o(250),l=o(49),d=o(257),m=o(3);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var h={components:{Avatar:c.a,DropDownList:function(){return o.e(31).then(o.bind(null,4963))}},data:function(){return{bdPageUrlForNav:d.e,isShowUserDropdownList:!1,translateGithubURL:l.f}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.mapGetters)({user:m.USER})),methods:{hideActionList:function(){this.isShowUserDropdownList=!1},onUserActionClick:function(){this.isShowUserDropdownList=!this.isShowUserDropdownList},openEditorPage:function(){var t=this.$getBean("editorBusiness");window.location.href=t.getPostEditUrl()},openXiaoceEditorPage:function(){var t=this.$getBean("editorBusiness");window.location.href=t.getXiaoceEditUrl()},openDraftIndexPage:function(){var t=this.$getBean("editorBusiness");window.location.href=t.getDraftIndexUrl()},login:function(){this.$requestLogin()},register:function(){this.$requestRegister()},logout:function(){window.confirm("确定登出吗？每一片贫瘠的土地都需要坚定的挖掘者！")&&this.$requestLogout()}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,(function(){t.hideActionList()}))},watch:{isShowUserDropdownList:function(t){t&&this.$TEA("avatar_menu_visit")}}},v=(o(913),o(30)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"user-auth"},[t.user?o("div",{staticClass:"nav-item menu",on:{click:function(e){return e.stopPropagation(),t.onUserActionClick(e)}}},[o("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0,alt:t.user.username+"的头像"}}),t._v(" "),o("keep-alive",[t.isShowUserDropdownList?o("DropDownList"):t._e()],1)],1):t._e(),t._v(" "),t.user?t._e():o("div",{staticClass:"nav-item auth"},[o("span",{staticClass:"login",on:{click:t.login}},[t._v("登录")])])])}),[],!1,null,"340a18bc",null);e.a=component.exports},960:function(t,e,o){t.exports=o.p+"dda9d3fdc2f4310c468b2f238d96918b.svg"},961:function(t,e,o){o(19),o(18),o(13),o(7),o(16);var n=o(134),r=o(149);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}t.exports={functional:!0,render:function(t,e){var o=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,m=data.class,f=data.staticClass,style=data.style,h=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,y=r(data,["class","staticClass","style","staticStyle","attrs"]);return o("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,f],style:[style,h],attrs:Object.assign({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},y),d.concat([o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.7007 2.60955C18.0312 2.46364 18.4026 2.70567 18.4026 3.06696V4.41189C18.4026 4.60994 18.2857 4.78932 18.1045 4.86931L12.2033 7.47444C12.0747 7.53121 11.9281 7.53123 11.7995 7.47449L5.9017 4.87264C5.72046 4.79269 5.60352 4.61327 5.60352 4.41518V3.07013C5.60352 2.70889 5.97482 2.46686 6.30533 2.61266L12.0014 5.12551L17.7007 2.60955ZM12.2037 22.2099C12.0751 22.2667 11.9285 22.2667 11.7999 22.2099L3.72683 18.6471C3.54563 18.5671 3.42871 18.3877 3.42871 18.1896V6.53611C3.42871 6.17484 3.80008 5.93282 4.13059 6.07868L12.0018 9.55243L19.8696 6.07882C20.2001 5.9329 20.5716 6.17493 20.5716 6.53623V18.1897C20.5716 18.3877 20.4547 18.5671 20.2735 18.6471L12.2037 22.2099ZM11.3787 11.2998C11.2683 11.2998 11.1787 11.3893 11.1787 11.4998V18.0998C11.1787 18.2103 11.2683 18.2998 11.3787 18.2998H12.4787C12.5892 18.2998 12.6787 18.2103 12.6787 18.0998V11.4998C12.6787 11.3893 12.5892 11.2998 12.4787 11.2998H11.3787Z",fill:"#1E80FF"}})]))}}},962:function(t,e,o){"use strict";o(859)},988:function(t,e,o){}}]);
//# sourceMappingURL=c9fd762.js.map